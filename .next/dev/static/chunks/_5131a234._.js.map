{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/lib/order-number.ts"],"sourcesContent":["/**\r\n * Format an order ID to the display format: SY-XXXXX\r\n * Formula: SY-5 + (4001 + orderId)\r\n * Example: orderId 10 → SY-54011\r\n */\r\nexport function formatOrderNumber(orderId: number | string): string {\r\n  const id = typeof orderId === \"string\" ? parseInt(orderId, 10) : orderId;\r\n  if (isNaN(id) || id <= 0) {\r\n    console.warn(\"Invalid order ID for formatting:\", orderId);\r\n    return `#${orderId}`;\r\n  }\r\n  const displayNumber = 4001 + id;\r\n  return `SY-5${displayNumber}`;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACM,SAAS,kBAAkB,OAAwB;IACxD,MAAM,KAAK,OAAO,YAAY,WAAW,SAAS,SAAS,MAAM;IACjE,IAAI,MAAM,OAAO,MAAM,GAAG;QACxB,QAAQ,IAAI,CAAC,oCAAoC;QACjD,OAAO,CAAC,CAAC,EAAE,SAAS;IACtB;IACA,MAAM,gBAAgB,OAAO;IAC7B,OAAO,CAAC,IAAI,EAAE,eAAe;AAC/B"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/Proofs.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  CheckCircle2,\r\n  XCircle,\r\n  Clock,\r\n  MessageSquare,\r\n  ArrowRight,\r\n  AlertCircle,\r\n  ChevronDown,\r\n  Send,\r\n  AlertTriangle,\r\n  Bell,\r\n  Download,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { toast } from \"sonner\";\r\nimport { formatOrderNumber } from \"@/lib/order-number\";\r\n\r\ninterface ProofComment {\r\n  id: string;\r\n  proof_id: string;\r\n  customer_id?: number;\r\n  admin_id?: string;\r\n  admin_email?: string;\r\n  message: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface Proof {\r\n  id: string;\r\n  order_id: number;\r\n  customer_id: number;\r\n  description?: string;\r\n  file_url?: string;\r\n  file_name?: string;\r\n  status: \"pending\" | \"approved\" | \"denied\" | \"revisions_requested\";\r\n  revision_notes?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  comments?: ProofComment[];\r\n}\r\n\r\ninterface PaginationInfo {\r\n  currentPage: number;\r\n  pageSize: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n  hasMore: boolean;\r\n}\r\n\r\ninterface ProofsResponse {\r\n  success: boolean;\r\n  proofs: Proof[];\r\n  unreadNotifications: number;\r\n  pagination?: PaginationInfo;\r\n}\r\n\r\ninterface ProofDetailResponse {\r\n  success: boolean;\r\n  proof: Proof & { comments: ProofComment[] };\r\n}\r\n\r\nexport default function Proofs() {\r\n  const navigate = useNavigate();\r\n  const [proofs, setProofs] = useState<Proof[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [expandedProofId, setExpandedProofId] = useState<string | null>(null);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [commentText, setCommentText] = useState<Record<string, string>>({});\r\n  const [submittingComment, setSubmittingComment] = useState<\r\n    Record<string, boolean>\r\n  >({});\r\n  const [submittingAction, setSubmittingAction] = useState<\r\n    Record<string, boolean>\r\n  >({});\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pagination, setPagination] = useState<PaginationInfo | null>(null);\r\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    fetchProofs();\r\n  }, [navigate]);\r\n\r\n  const fetchProofs = async (page: number = 1, append: boolean = false) => {\r\n    try {\r\n      if (!append) {\r\n        setIsLoading(true);\r\n      } else {\r\n        setIsLoadingMore(true);\r\n      }\r\n      setError(\"\");\r\n\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const response = await fetch(`/api/proofs?page=${page}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || \"Failed to fetch proofs\");\r\n      }\r\n\r\n      const data: ProofsResponse = await response.json();\r\n\r\n      if (append) {\r\n        setProofs((prev) => [...prev, ...(data.proofs || [])]);\r\n      } else {\r\n        setProofs(data.proofs || []);\r\n      }\r\n\r\n      setUnreadCount(data.unreadNotifications || 0);\r\n      setPagination(data.pagination || null);\r\n      setCurrentPage(page);\r\n    } catch (err) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Failed to load proofs\";\r\n      setError(message);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setIsLoadingMore(false);\r\n    }\r\n  };\r\n\r\n  const fetchProofDetail = async (proofId: string) => {\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const response = await fetch(`/api/proofs/${proofId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch proof details\");\r\n      }\r\n\r\n      const data: ProofDetailResponse = await response.json();\r\n      setProofs((prev) => prev.map((p) => (p.id === proofId ? data.proof : p)));\r\n    } catch (err) {\r\n      console.error(\"Error fetching proof detail:\", err);\r\n    }\r\n  };\r\n\r\n  const handleApprove = async (proofId: string) => {\r\n    try {\r\n      setSubmittingAction((prev) => ({ ...prev, [proofId]: true }));\r\n      const token = localStorage.getItem(\"authToken\");\r\n\r\n      const response = await fetch(`/api/proofs/${proofId}/approve`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || \"Failed to approve proof\");\r\n      }\r\n\r\n      toast.success(\"Proof approved! Admin has been notified.\");\r\n      fetchProofs();\r\n    } catch (err) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Failed to approve proof\";\r\n      toast.error(message);\r\n    } finally {\r\n      setSubmittingAction((prev) => ({ ...prev, [proofId]: false }));\r\n    }\r\n  };\r\n\r\n  const handleDeny = async (proofId: string) => {\r\n    try {\r\n      setSubmittingAction((prev) => ({ ...prev, [proofId]: true }));\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const revisionNotes = commentText[`deny-${proofId}`] || \"\";\r\n\r\n      const response = await fetch(`/api/proofs/${proofId}/deny`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ revisionNotes }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || \"Failed to deny proof\");\r\n      }\r\n\r\n      toast.success(\"Revision requested. Admin will see your feedback.\");\r\n      setCommentText((prev) => ({ ...prev, [`deny-${proofId}`]: \"\" }));\r\n      fetchProofs();\r\n    } catch (err) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Failed to deny proof\";\r\n      toast.error(message);\r\n    } finally {\r\n      setSubmittingAction((prev) => ({ ...prev, [proofId]: false }));\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (proofId: string) => {\r\n    try {\r\n      const message = commentText[proofId]?.trim();\r\n      if (!message) {\r\n        toast.error(\"Please enter a comment\");\r\n        return;\r\n      }\r\n\r\n      setSubmittingComment((prev) => ({ ...prev, [proofId]: true }));\r\n      const token = localStorage.getItem(\"authToken\");\r\n\r\n      const response = await fetch(`/api/proofs/${proofId}/comments`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ message }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to add comment\");\r\n      }\r\n\r\n      setCommentText((prev) => ({ ...prev, [proofId]: \"\" }));\r\n      toast.success(\"Comment added\");\r\n      fetchProofDetail(proofId);\r\n    } catch (err) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Failed to add comment\";\r\n      toast.error(message);\r\n    } finally {\r\n      setSubmittingComment((prev) => ({ ...prev, [proofId]: false }));\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return <CheckCircle2 className=\"w-6 h-6 text-green-600\" />;\r\n      case \"denied\":\r\n      case \"revisions_requested\":\r\n        return <AlertTriangle className=\"w-6 h-6 text-orange-600\" />;\r\n      case \"pending\":\r\n      default:\r\n        return <Clock className=\"w-6 h-6 text-blue-600\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return \"text-green-600 bg-green-50\";\r\n      case \"denied\":\r\n      case \"revisions_requested\":\r\n        return \"text-orange-600 bg-orange-50\";\r\n      case \"pending\":\r\n      default:\r\n        return \"text-blue-600 bg-blue-50\";\r\n    }\r\n  };\r\n\r\n  const getStatusLabel = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return \"Approved\";\r\n      case \"denied\":\r\n        return \"Denied\";\r\n      case \"revisions_requested\":\r\n        return \"Revisions Requested\";\r\n      case \"pending\":\r\n      default:\r\n        return \"Pending Review\";\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  const pendingProofs = proofs.filter((p) => p.status === \"pending\");\r\n  const reviewedProofs = proofs.filter((p) => p.status !== \"pending\");\r\n  const pendingProofsCount = pendingProofs.length;\r\n\r\n  if (isLoading) {\n    return (\n      <>\n        <main className=\"min-h-screen bg-gray-50 py-8\">\n          <div className=\"max-w-6xl mx-auto px-4\">\r\n            <div className=\"flex justify-center items-center h-64\">\r\n              <div className=\"text-gray-600 text-lg\">\r\n                Loading your proofs...\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\n    <>\n      <main className=\"min-h-screen bg-gray-50 py-6 sm:py-8\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6\">\r\n          {/* Header */}\r\n          <div className=\"mb-6 sm:mb-8\">\r\n            <button\r\n              onClick={() => navigate(\"/dashboard\")}\r\n              className=\"flex items-center gap-2 text-xs sm:text-sm font-medium text-blue-600 hover:text-blue-700 mb-3 sm:mb-4\"\r\n            >\r\n              <ArrowRight className=\"w-3 h-3 sm:w-4 sm:h-4 rotate-180\" />\r\n              Back to Dashboard\r\n            </button>\r\n            <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 sm:gap-4\">\r\n              <div>\r\n                <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\r\n                  Proofs\r\n                </h1>\r\n                <p className=\"text-xs sm:text-sm text-gray-600 mt-1 sm:mt-2\">\r\n                  Review and approve design proofs for your orders\r\n                </p>\r\n              </div>\r\n              {pendingProofsCount > 0 && (\r\n                <div className=\"flex items-center gap-2 bg-blue-50 border border-blue-200 rounded-lg px-3 sm:px-4 py-2 flex-shrink-0 text-xs sm:text-sm\">\r\n                  <Bell className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                  <span className=\"font-medium text-blue-900\">\r\n                    {pendingProofsCount}{\" \"}\r\n                    {pendingProofsCount === 1 ? \"proof\" : \"proofs\"} awaiting\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 flex gap-2 sm:gap-3\">\r\n              <AlertCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n              <p className=\"text-xs sm:text-sm text-red-800\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Empty State */}\r\n          {proofs.length === 0 && !error && (\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-8 sm:p-12 text-center\">\r\n              <Clock className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4\" />\r\n              <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 mb-2\">\r\n                No Proofs Yet\r\n              </h2>\r\n              <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                Your design proofs will appear here once the admin sends them\r\n                for your review.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Pending Proofs Section */}\r\n          {pendingProofs.length > 0 && (\r\n            <div className=\"mb-8\">\r\n              <div className=\"mb-3 sm:mb-4\">\r\n                <h2 className=\"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n                  <Clock className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600\" />\r\n                  Awaiting Your Review ({pendingProofs.length})\r\n                </h2>\r\n              </div>\r\n              <div className=\"space-y-3 sm:space-y-4\">\r\n                {pendingProofs.map((proof) => (\r\n                  <div\r\n                    key={proof.id}\r\n                    className=\"bg-white rounded-lg border border-blue-200 overflow-hidden hover:shadow-lg transition-shadow\"\r\n                  >\r\n                    {/* Proof Header */}\r\n                    <button\r\n                      onClick={() =>\r\n                        setExpandedProofId(\r\n                          expandedProofId === proof.id ? null : proof.id,\r\n                        )\r\n                      }\r\n                      className=\"w-full px-3 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 hover:bg-blue-50 transition-colors text-left\"\r\n                    >\r\n                      <div className=\"flex items-start sm:items-center gap-2 sm:gap-4 flex-1 min-w-0\">\r\n                        <div className=\"bg-blue-100 p-2 sm:p-3 rounded-lg flex-shrink-0\">\r\n                          {getStatusIcon(proof.status)}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-1 sm:mb-2\">\r\n                            <h3 className=\"text-base sm:text-lg font-semibold text-gray-900\">\r\n                              Order {formatOrderNumber(proof.order_id)}\r\n                            </h3>\r\n                            <span\r\n                              className={`px-2 sm:px-3 py-1 rounded-full text-xs font-medium w-fit ${getStatusColor(proof.status)}`}\r\n                            >\r\n                              {getStatusLabel(proof.status)}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 truncate\">\r\n                            {proof.description ||\r\n                              \"Design proof ready for your review\"}\r\n                          </p>\r\n                          {proof.file_name && (\r\n                            <p className=\"text-xs text-blue-600 mt-1 flex items-center gap-1 truncate\">\r\n                              <FileIcon className=\"w-3 h-3 flex-shrink-0\" />\r\n                              <span className=\"truncate\">\r\n                                File: {proof.file_name}\r\n                              </span>\r\n                            </p>\r\n                          )}\r\n                          <p className=\"text-xs text-gray-500 mt-1\">\r\n                            Sent on {formatDate(proof.created_at)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <ChevronDown\r\n                        className={`w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 transition-transform ${\r\n                          expandedProofId === proof.id ? \"rotate-180\" : \"\"\r\n                        }`}\r\n                      />\r\n                    </button>\r\n\r\n                    {/* Proof Details - Expanded */}\r\n                    {expandedProofId === proof.id && (\r\n                      <div className=\"border-t border-gray-200 px-3 sm:px-6 py-4 sm:py-6 bg-gray-50 space-y-4 sm:space-y-6\">\r\n                        {/* File Preview Section */}\r\n                        {proof.file_url && (\r\n                          <div className=\"bg-white rounded border border-gray-200 p-3 sm:p-4\">\r\n                            <h4 className=\"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                              <Download className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              Attached File\r\n                            </h4>\r\n                            {proof.file_url\r\n                              .toLowerCase()\r\n                              .match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? (\r\n                              <div>\r\n                                <img\r\n                                  src={proof.file_url}\r\n                                  alt=\"Proof preview\"\r\n                                  className=\"w-full max-h-96 object-contain rounded border border-gray-200 mb-2 sm:mb-3\"\r\n                                />\r\n                                <a\r\n                                  href={proof.file_url}\r\n                                  download={proof.file_name || \"proof\"}\r\n                                  className=\"inline-flex items-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition-colors\"\r\n                                >\r\n                                  <Download className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                  <span className=\"hidden sm:inline\">\r\n                                    Download\r\n                                  </span>\r\n                                  <span className=\"sm:hidden\">DL</span>\r\n                                </a>\r\n                              </div>\r\n                            ) : (\r\n                              <a\r\n                                href={proof.file_url}\r\n                                download={proof.file_name || \"proof\"}\r\n                                className=\"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100 transition-colors\"\r\n                              >\r\n                                <FileIcon className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs sm:text-sm font-medium text-blue-900 truncate\">\r\n                                    {proof.file_name || \"Proof file\"}\r\n                                  </p>\r\n                                  <p className=\"text-xs text-blue-700\">\r\n                                    Click to download\r\n                                  </p>\r\n                                </div>\r\n                                <Download className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                              </a>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Comments Section */}\r\n                        {proof.comments && proof.comments.length > 0 && (\r\n                          <div>\r\n                            <h4 className=\"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-4 flex items-center gap-2\">\r\n                              <MessageSquare className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              Comments\r\n                            </h4>\r\n                            <div className=\"space-y-3 sm:space-y-4\">\r\n                              {proof.comments.map((comment) => (\r\n                                <div\r\n                                  key={comment.id}\r\n                                  className=\"bg-white rounded border border-gray-200 p-3 sm:p-4\"\r\n                                >\r\n                                  <div className=\"flex items-start justify-between mb-2\">\r\n                                    <div className=\"flex-1\">\r\n                                      <p className=\"text-xs sm:text-sm font-medium text-gray-900\">\r\n                                        {comment.admin_email ? \"Admin\" : \"You\"}\r\n                                      </p>\r\n                                      <p className=\"text-xs text-gray-500\">\r\n                                        {formatDate(comment.created_at)}\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                  <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                                    {comment.message}\r\n                                  </p>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Add Comment Section */}\r\n                        <div className=\"bg-white rounded border border-gray-200 p-3 sm:p-4\">\r\n                          <label className=\"block text-xs sm:text-sm font-medium text-gray-900 mb-2\">\r\n                            Add a Comment\r\n                          </label>\r\n                          <textarea\r\n                            value={commentText[proof.id] || \"\"}\r\n                            onChange={(e) =>\r\n                              setCommentText((prev) => ({\r\n                                ...prev,\r\n                                [proof.id]: e.target.value,\r\n                              }))\r\n                            }\r\n                            placeholder=\"Share your thoughts on this proof...\"\r\n                            className=\"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2 sm:mb-3\"\r\n                            rows={3}\r\n                          />\r\n                          <button\r\n                            onClick={() => handleAddComment(proof.id)}\r\n                            disabled={submittingComment[proof.id]}\r\n                            className=\"inline-flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded font-medium hover:bg-blue-700 disabled:bg-blue-400 transition-colors\"\r\n                          >\r\n                            <Send className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                            <span className=\"hidden sm:inline\">\r\n                              Post Comment\r\n                            </span>\r\n                            <span className=\"sm:hidden\">Post</span>\r\n                          </button>\r\n                        </div>\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className=\"bg-white rounded border border-gray-200 p-3 sm:p-4\">\r\n                          <div className=\"flex gap-2 sm:gap-3 flex-col sm:flex-row\">\r\n                            <button\r\n                              onClick={() => handleApprove(proof.id)}\r\n                              disabled={submittingAction[proof.id]}\r\n                              className=\"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-green-400 transition-colors\"\r\n                            >\r\n                              <CheckCircle2 className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                              <span className=\"hidden sm:inline\">Approve</span>\r\n                              <span className=\"sm:hidden\">OK</span>\r\n                            </button>\r\n                            <button\r\n                              onClick={() => {\r\n                                const denyInput =\r\n                                  commentText[`deny-${proof.id}`];\r\n                                if (!denyInput?.trim()) {\r\n                                  setCommentText((prev) => ({\r\n                                    ...prev,\r\n                                    [`deny-${proof.id}`]:\r\n                                      \"Please update this design\",\r\n                                  }));\r\n                                }\r\n                              }}\r\n                              disabled={submittingAction[proof.id]}\r\n                              className=\"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 disabled:bg-orange-400 transition-colors\"\r\n                            >\r\n                              <AlertTriangle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                              <span className=\"hidden sm:inline\">\r\n                                Request Revisions\r\n                              </span>\r\n                              <span className=\"sm:hidden\">Revise</span>\r\n                            </button>\r\n                          </div>\r\n\r\n                          {/* Revision Notes Input */}\r\n                          {commentText[`deny-${proof.id}`] && (\r\n                            <div className=\"mt-3 sm:mt-4\">\r\n                              <label className=\"block text-xs sm:text-sm font-medium text-gray-900 mb-2\">\r\n                                Revision Notes (Optional)\r\n                              </label>\r\n                              <textarea\r\n                                value={commentText[`deny-${proof.id}`] || \"\"}\r\n                                onChange={(e) =>\r\n                                  setCommentText((prev) => ({\r\n                                    ...prev,\r\n                                    [`deny-${proof.id}`]: e.target.value,\r\n                                  }))\r\n                                }\r\n                                placeholder=\"What needs to be changed?\"\r\n                                className=\"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 mb-2 sm:mb-3\"\r\n                                rows={3}\r\n                              />\r\n                              <button\r\n                                onClick={() => handleDeny(proof.id)}\r\n                                disabled={submittingAction[proof.id]}\r\n                                className=\"w-full px-3 sm:px-4 py-2 text-xs sm:text-sm bg-orange-600 text-white rounded font-medium hover:bg-orange-700 disabled:bg-orange-400 transition-colors\"\r\n                              >\r\n                                <span className=\"hidden sm:inline\">\r\n                                  Confirm Request for Revisions\r\n                                </span>\r\n                                <span className=\"sm:hidden\">Confirm</span>\r\n                              </button>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Reviewed Proofs Section */}\r\n          {reviewedProofs.length > 0 && (\r\n            <div>\r\n              <div className=\"mb-3 sm:mb-4\">\r\n                <h2 className=\"text-base sm:text-lg font-semibold text-gray-900\">\r\n                  Reviewed Proofs ({reviewedProofs.length})\r\n                </h2>\r\n              </div>\r\n              <div className=\"space-y-3 sm:space-y-4\">\r\n                {reviewedProofs.map((proof) => (\r\n                  <div\r\n                    key={proof.id}\r\n                    className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow\"\r\n                  >\r\n                    {/* Proof Header */}\r\n                    <button\r\n                      onClick={() =>\r\n                        setExpandedProofId(\r\n                          expandedProofId === proof.id ? null : proof.id,\r\n                        )\r\n                      }\r\n                      className=\"w-full px-3 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 hover:bg-gray-50 transition-colors text-left\"\r\n                    >\r\n                      <div className=\"flex items-start sm:items-center gap-2 sm:gap-4 flex-1 min-w-0\">\r\n                        <div className=\"bg-gray-100 p-2 sm:p-3 rounded-lg flex-shrink-0\">\r\n                          {getStatusIcon(proof.status)}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-1 sm:mb-2\">\r\n                            <h3 className=\"text-base sm:text-lg font-semibold text-gray-900\">\r\n                              Order {formatOrderNumber(proof.order_id)}\r\n                            </h3>\r\n                            <span\r\n                              className={`px-2 sm:px-3 py-1 rounded-full text-xs font-medium w-fit ${getStatusColor(proof.status)}`}\r\n                            >\r\n                              {getStatusLabel(proof.status)}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 truncate\">\r\n                            {proof.description || \"Design proof\"}\r\n                          </p>\r\n                          {proof.file_name && (\r\n                            <p className=\"text-xs text-blue-600 mt-1 flex items-center gap-1 truncate\">\r\n                              <FileIcon className=\"w-3 h-3 flex-shrink-0\" />\r\n                              <span className=\"truncate\">\r\n                                File: {proof.file_name}\r\n                              </span>\r\n                            </p>\r\n                          )}\r\n                          <p className=\"text-xs text-gray-500 mt-1\">\r\n                            Last updated on {formatDate(proof.updated_at)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <ChevronDown\r\n                        className={`w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 transition-transform ${\r\n                          expandedProofId === proof.id ? \"rotate-180\" : \"\"\r\n                        }`}\r\n                      />\r\n                    </button>\r\n\r\n                    {/* Proof Details - Expanded */}\r\n                    {expandedProofId === proof.id && (\r\n                      <div className=\"border-t border-gray-200 px-3 sm:px-6 py-4 sm:py-6 bg-gray-50 space-y-4 sm:space-y-6\">\r\n                        {/* File Preview Section */}\r\n                        {proof.file_url && (\r\n                          <div className=\"bg-white rounded border border-gray-200 p-3 sm:p-4\">\r\n                            <h4 className=\"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                              <Download className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              Attached File\r\n                            </h4>\r\n                            {proof.file_url\r\n                              .toLowerCase()\r\n                              .match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? (\r\n                              <div>\r\n                                <img\r\n                                  src={proof.file_url}\r\n                                  alt=\"Proof preview\"\r\n                                  className=\"w-full max-h-96 object-contain rounded border border-gray-200 mb-2 sm:mb-3\"\r\n                                />\r\n                                <a\r\n                                  href={proof.file_url}\r\n                                  download={proof.file_name || \"proof\"}\r\n                                  className=\"inline-flex items-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition-colors\"\r\n                                >\r\n                                  <Download className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                  <span className=\"hidden sm:inline\">\r\n                                    Download\r\n                                  </span>\r\n                                  <span className=\"sm:hidden\">DL</span>\r\n                                </a>\r\n                              </div>\r\n                            ) : (\r\n                              <a\r\n                                href={proof.file_url}\r\n                                download={proof.file_name || \"proof\"}\r\n                                className=\"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100 transition-colors\"\r\n                              >\r\n                                <FileIcon className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs sm:text-sm font-medium text-blue-900 truncate\">\r\n                                    {proof.file_name || \"Proof file\"}\r\n                                  </p>\r\n                                  <p className=\"text-xs text-blue-700\">\r\n                                    Click to download\r\n                                  </p>\r\n                                </div>\r\n                                <Download className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                              </a>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Status Info */}\r\n                        <div className=\"p-3 sm:p-4 bg-white rounded border border-gray-200\">\r\n                          <p className=\"text-xs sm:text-sm font-medium text-gray-900 mb-2\">\r\n                            Status\r\n                          </p>\r\n                          <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                            {proof.status === \"approved\"\r\n                              ? \"✓ You approved this proof\"\r\n                              : proof.status === \"revisions_requested\"\r\n                                ? \"Revisions have been requested\"\r\n                                : \"This proof was denied\"}\r\n                          </p>\r\n                          {proof.revision_notes && (\r\n                            <div className=\"mt-2 sm:mt-3 p-2 sm:p-3 bg-orange-50 rounded border border-orange-200\">\r\n                              <p className=\"text-xs font-medium text-orange-900 mb-1\">\r\n                                Revision Notes:\r\n                              </p>\r\n                              <p className=\"text-xs sm:text-sm text-orange-800 whitespace-pre-wrap\">\r\n                                {proof.revision_notes}\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Comments Section */}\r\n                        {proof.comments && proof.comments.length > 0 && (\r\n                          <div>\r\n                            <h4 className=\"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n                              <MessageSquare className=\"w-4 h-4\" />\r\n                              Comments\r\n                            </h4>\r\n                            <div className=\"space-y-4\">\r\n                              {proof.comments.map((comment) => (\r\n                                <div\r\n                                  key={comment.id}\r\n                                  className=\"bg-white rounded border border-gray-200 p-4\"\r\n                                >\r\n                                  <div className=\"flex items-start justify-between mb-2\">\r\n                                    <div className=\"flex-1\">\r\n                                      <p className=\"text-sm font-medium text-gray-900\">\r\n                                        {comment.admin_email ? \"Admin\" : \"You\"}\r\n                                      </p>\r\n                                      <p className=\"text-xs text-gray-500\">\r\n                                        {formatDate(comment.created_at)}\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                  <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">\r\n                                    {comment.message}\r\n                                  </p>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Load More Button */}\r\n          {pagination && pagination.hasMore && (\r\n            <div className=\"mt-8 flex justify-center\">\r\n              <button\r\n                onClick={() => fetchProofs(currentPage + 1, true)}\r\n                disabled={isLoadingMore}\r\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 transition-colors flex items-center gap-2\"\r\n              >\r\n                {isLoadingMore ? (\r\n                  <>\r\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                    <span className=\"text-sm\">Loading...</span>\r\n                  </>\r\n                ) : (\r\n                  <span className=\"text-sm\">Load More Proofs</span>\r\n                )}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}