{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/lib/orderFormatting.ts"],"sourcesContent":["/**\r\n * Order formatting utilities for consistent order number formatting across the app\r\n * Must match server-side formatting in server/utils/order.ts\r\n */\r\n\r\n/**\r\n * Format an order ID to the display format: SY-5XXXXX\r\n * Formula: SY-5 + (4001 + orderId)\r\n * Example: orderId 10 → SY-54011\r\n */\r\nexport function formatOrderNumber(orderId: number | string): string {\r\n  const id = typeof orderId === \"string\" ? parseInt(orderId, 10) : orderId;\r\n  if (isNaN(id) || id <= 0) {\r\n    throw new Error(\"Invalid order ID\");\r\n  }\r\n  const displayNumber = 4001 + id;\r\n  return `SY-5${displayNumber}`;\r\n}\r\n\r\n/**\r\n * Parse a formatted order number (SY-XXXXX) back to the numeric ID\r\n * Handles both SY-XXXXX format and plain numeric format for backward compatibility\r\n * Example: \"SY-54011\" → 10 or \"10\" → 10\r\n */\r\nexport function parseOrderNumber(orderNumber: string): number {\r\n  const trimmed = orderNumber.trim();\r\n\r\n  if (trimmed.toUpperCase().startsWith(\"SY-5\")) {\r\n    // Format: SY-54011 where 54011 = 4001 + id, so id = 54011 - 54001\r\n    // Extract everything after \"SY-\" (position 3 onwards)\r\n    const displayNumber = parseInt(trimmed.substring(3), 10);\r\n    if (isNaN(displayNumber)) {\r\n      throw new Error(\"Invalid order number format\");\r\n    }\r\n    const id = displayNumber - 54001;\r\n    if (id <= 0) {\r\n      throw new Error(\"Invalid order number format\");\r\n    }\r\n    return id;\r\n  } else {\r\n    // Plain numeric format\r\n    const id = parseInt(trimmed, 10);\r\n    if (isNaN(id)) {\r\n      throw new Error(\"Invalid order number format\");\r\n    }\r\n    return id;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED;;;;CAIC;;;;;;AACM,SAAS,kBAAkB,OAAwB;IACxD,MAAM,KAAK,OAAO,YAAY,WAAW,SAAS,SAAS,MAAM;IACjE,IAAI,MAAM,OAAO,MAAM,GAAG;QACxB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,gBAAgB,OAAO;IAC7B,OAAO,CAAC,IAAI,EAAE,eAAe;AAC/B;AAOO,SAAS,iBAAiB,WAAmB;IAClD,MAAM,UAAU,YAAY,IAAI;IAEhC,IAAI,QAAQ,WAAW,GAAG,UAAU,CAAC,SAAS;QAC5C,kEAAkE;QAClE,sDAAsD;QACtD,MAAM,gBAAgB,SAAS,QAAQ,SAAS,CAAC,IAAI;QACrD,IAAI,MAAM,gBAAgB;YACxB,MAAM,IAAI,MAAM;QAClB;QACA,MAAM,KAAK,gBAAgB;QAC3B,IAAI,MAAM,GAAG;YACX,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT,OAAO;QACL,uBAAuB;QACvB,MAAM,KAAK,SAAS,SAAS;QAC7B,IAAI,MAAM,KAAK;YACb,MAAM,IAAI,MAAM;QAClB;QACA,OAAO;IACT;AACF"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCard.displayName = \"Card\";\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCardTitle.displayName = \"CardTitle\";\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = \"CardDescription\";\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n));\r\nCardContent.displayName = \"CardContent\";\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardDescription,\r\n  CardContent,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    role=\"alert\"\r\n    className={cn(alertVariants({ variant }), className)}\r\n    {...props}\r\n  />\r\n));\r\nAlert.displayName = \"Alert\";\r\n\r\nconst AlertTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h5\r\n    ref={ref}\r\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAlertTitle.displayName = \"AlertTitle\";\r\n\r\nconst AlertDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAlertDescription.displayName = \"AlertDescription\";\r\n\r\nexport { Alert, AlertTitle, AlertDescription };\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/OrderConfirmation.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n// CHANGE 1: Import parseOrderNumber\r\nimport { formatOrderNumber, parseOrderNumber } from \"@/lib/orderFormatting\";\nimport {\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Loader2,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Package,\r\n  Truck,\r\n  Calendar,\r\n  Eye,\r\n  Download,\r\n} from \"lucide-react\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n\r\ninterface OrderItem {\r\n  id: number;\r\n  product_id: number;\r\n  product_name: string;\r\n  quantity: number;\r\n  price: number;\r\n  design_file_url?: string;\r\n}\r\n\r\ninterface ShippingAddress {\r\n  firstName: string;\r\n  lastName: string;\r\n  street: string;\r\n  street2?: string;\r\n  city: string;\r\n  state: string;\r\n  postalCode: string;\r\n  country: string;\r\n}\r\n\r\ninterface Order {\r\n  id: number;\r\n  status: string;\r\n  total: number;\r\n  subtotal: number;\r\n  tax: number;\r\n  shipping: number;\r\n  discount?: number;\r\n  created_at: string;\r\n  estimated_delivery_date?: string;\r\n  shipping_address?: ShippingAddress;\r\n  orderItems?: OrderItem[];\r\n  square_payment_id?: string;\r\n}\r\n\r\nexport default function OrderConfirmation() {\r\n  const { orderId: pathOrderId } = useParams<{ orderId: string }>();\r\n  const navigate = useNavigate();\r\n  const [order, setOrder] = useState<Order | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const orderId = pathOrderId;\r\n\r\n  useEffect(() => {\r\n    const fetchOrder = async () => {\r\n      const isPreview = !orderId || orderId === \"preview\";\r\n\r\n      if (isPreview) {\r\n        // ... (existing mock logic) ...\r\n        // Mock order for testing/editing\r\n        const mockOrder: Order = {\r\n          id: 1001,\r\n          status: \"paid\",\r\n          total: 149.99,\r\n          subtotal: 125.0,\r\n          tax: 12.5,\r\n          shipping: 12.49,\r\n          discount: 0,\r\n          created_at: new Date().toISOString(),\r\n          estimated_delivery_date: new Date(\r\n            Date.now() + 14 * 24 * 60 * 60 * 1000,\r\n          ).toISOString(),\r\n          shipping_address: {\r\n            firstName: \"John\",\r\n            lastName: \"Doe\",\r\n            street: \"123 Main Street\",\r\n            city: \"San Francisco\",\r\n            state: \"CA\",\r\n            postalCode: \"94102\",\r\n            country: \"United States\",\r\n          },\r\n          orderItems: [\r\n            {\r\n              id: 1,\r\n              product_id: 1,\r\n              product_name: \"Custom Sticker Sheet\",\r\n              quantity: 2,\r\n              price: 29.99,\r\n              design_file_url:\r\n                \"https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400&h=400&fit=crop\",\r\n            },\r\n            {\r\n              id: 2,\r\n              product_id: 2,\r\n              product_name: \"Vinyl Decal Pack\",\r\n              quantity: 1,\r\n              price: 65.0,\r\n              design_file_url:\r\n                \"https://images.unsplash.com/photo-1609027291529-0cfecda156de?w=400&h=400&fit=crop\",\r\n            },\r\n          ],\r\n        };\r\n        setOrder(mockOrder);\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // CHANGE 2: Parse the ID before sending to server\r\n        let rawId;\r\n        try {\r\n          // If orderId is defined, try to parse it (handles both SY-XXXX and plain numbers)\r\n          if (orderId) {\r\n            rawId = parseOrderNumber(orderId);\r\n          } else {\r\n            throw new Error(\"Order ID is missing\");\r\n          }\r\n        } catch (e) {\r\n          console.error(\"Error parsing order ID:\", e);\r\n          // Fallback to trying to use it as is if parsing failed (though unlikely to work if it's SY- format)\r\n          rawId = orderId;\r\n        }\r\n\r\n        console.log(`Fetching order details for display ID: ${orderId} (Raw ID: ${rawId})`);\r\n\r\n        // =================================================================\r\n        // STEP 1: Confirm the checkout (critical for payment verification)\r\n        // =================================================================\r\n        try {\r\n          console.log(`Attempting to confirm checkout for Order #${rawId}...`);\r\n          const confirmResponse = await fetch(\"/api/square/confirm-checkout\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ orderId: rawId }),\r\n          });\r\n\r\n          if (confirmResponse.ok) {\r\n            const confirmResult = await confirmResponse.json();\r\n            console.log(\"✅ Checkout confirmed successfully:\", confirmResult);\r\n          } else {\r\n            console.warn(\"⚠️ Checkout confirmation returned non-200 status:\", confirmResponse.status);\r\n          }\r\n        } catch (confirmError) {\r\n          console.error(\"❌ Error verifying payment:\", confirmError);\r\n          // Don't block loading the page if confirmation fails (it might be already paid)\r\n        }\r\n\r\n        // =================================================================\r\n        // STEP 2: Fetch order details for display\r\n        // =================================================================\r\n        // Use the rawId (numeric) for the API call\r\n        const response = await fetch(`/api/public/orders/${rawId}`);\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch order (${response.status})`);\r\n        }\r\n\r\n        const result = await response.json();\r\n        console.log(\"Order data received:\", result);\r\n\r\n        if (!result.success || !result.data) {\r\n          throw new Error(\"Invalid order data\");\r\n        }\r\n\r\n        const data = result.data;\r\n\r\n        // CHANGE: Add 'pending_payment' to this list so it doesn't throw an error\r\n        const validStatuses = [\r\n          \"paid\",\r\n          \"completed\",\r\n          \"processing\",\r\n          \"shipped\",\r\n          \"delivered\",\r\n          \"pending_payment\", // <--- CRITICAL: Allow this status\r\n        ];\r\n\r\n        if (!validStatuses.includes(data.status)) {\r\n          throw new Error(\"Order status not recognized.\");\r\n        }\r\n\r\n        // Transform the data to match our Order interface\r\n        const transformedOrder: Order = {\r\n          id: data.id,\r\n          status: data.status,\r\n          total: data.total,\r\n          subtotal: data.subtotal,\r\n          tax: data.tax,\r\n          shipping: data.shipping,\r\n          discount: 0,\r\n          created_at: data.date_created,\r\n          estimated_delivery_date: data.estimated_delivery_date,\r\n          shipping_address: data.shipping_addresses?.[0],\r\n          orderItems: data.products?.map((item: any) => ({\r\n            id: item.id,\r\n            product_id: item.product_id,\r\n            product_name: item.product_name,\r\n            quantity: item.quantity,\r\n            price: item.price,\r\n            design_file_url: item.design_file_url,\r\n          })),\r\n        };\r\n\r\n        setOrder(transformedOrder);\r\n      } catch (err) {\r\n        const errorMessage =\r\n          err instanceof Error ? err.message : \"Failed to load order details\";\r\n        setError(errorMessage);\r\n        console.error(\"Order fetch error:\", err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchOrder();\r\n  }, [orderId]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\n        <main className=\"pt-20 min-h-screen bg-gray-50 flex items-center justify-center\">\n          <Loader2 className=\"w-8 h-8 animate-spin text-[#FFD713]\" />\n        </main>\n      </>\n    );\n  }\n\n  if (error) {\n    return (\n      <>\n        <main className=\"pt-20 min-h-screen bg-gray-50 py-12\">\n          <div className=\"max-w-2xl mx-auto px-4\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-red-600\">Order Error</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <Alert variant=\"destructive\">\r\n                  <AlertCircle className=\"h-4 w-4\" />\r\n                  <AlertDescription>{error}</AlertDescription>\r\n                </Alert>\r\n                <Button\r\n                  onClick={() => navigate(\"/\")}\r\n                  className=\"w-full bg-blue-600 hover:bg-blue-700\"\r\n                >\r\n                  Return to Home\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (!order) {\r\n    return null;\r\n  }\r\n\r\n  const orderNumber = formatOrderNumber(order.id);\r\n  const orderDate = new Date(order.created_at).toLocaleDateString(\"en-US\", {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n\r\n  // Calculate shipping timeline\r\n  const PROCESSING_DAYS = 3;\r\n  const SHIPPING_DAYS_MIN = 7;\r\n  const SHIPPING_DAYS_MAX = 21;\r\n\r\n  const processingEndDate = new Date(\r\n    Date.now() + PROCESSING_DAYS * 24 * 60 * 60 * 1000,\r\n  );\r\n  const deliveryMinDate = new Date(\r\n    Date.now() + (PROCESSING_DAYS + SHIPPING_DAYS_MIN) * 24 * 60 * 60 * 1000,\r\n  );\r\n  const deliveryMaxDate = new Date(\r\n    Date.now() + (PROCESSING_DAYS + SHIPPING_DAYS_MAX) * 24 * 60 * 60 * 1000,\r\n  );\r\n\r\n  const estimatedDelivery = order.estimated_delivery_date\r\n    ? new Date(order.estimated_delivery_date).toLocaleDateString(\"en-US\", {\r\n      weekday: \"short\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n    })\r\n    : deliveryMaxDate.toLocaleDateString(\"en-US\", {\r\n      weekday: \"short\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n    });\r\n\r\n  const processingDateStr = processingEndDate.toLocaleDateString(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  });\r\n\r\n  const deliveryDateMinStr = deliveryMinDate.toLocaleDateString(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  });\r\n\r\n  const deliveryDateMaxStr = deliveryMaxDate.toLocaleDateString(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n  });\r\n\r\n  const getStatusBadge = () => {\r\n    switch (order.status) {\r\n      // CHANGE: Group 'pending_payment' with 'paid' and 'processing'\r\n      case \"pending_payment\":\r\n      case \"paid\":\r\n      case \"processing\":\r\n        return (\r\n          <div className=\"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\r\n            <Package className=\"w-4 h-4\" />\r\n            Processing\r\n          </div>\r\n        );\r\n      case \"shipped\":\r\n        return (\r\n          <div className=\"flex items-center gap-2 px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium\">\r\n            <Truck className=\"w-4 h-4\" />\r\n            Shipped\r\n          </div>\r\n        );\r\n      case \"delivered\":\r\n        return (\r\n          <div className=\"flex items-center gap-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium\">\r\n            <CheckCircle className=\"w-4 h-4\" />\r\n            Delivered\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <div className=\"flex items-center gap-2 px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium\">\r\n            {order.status}\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\n    <>\n      <main className=\"pt-20 min-h-screen bg-gray-50 py-12\">\n        <div className=\"max-w-4xl mx-auto px-4 space-y-8\">\r\n          {/* Logo Section */}\r\n          <div className=\"flex justify-center mb-8\">\r\n            <img\r\n              src=\"https://cdn.builder.io/api/v1/image/assets%2F1e00ee8c48924560b1c928d354e4521b%2Ff76c51c7227242dc8bd4b1757ab321af\"\r\n              alt=\"Stickerland\"\r\n              className=\"h-24 w-auto\"\r\n            />\r\n          </div>\r\n\r\n          {/* Success Header */}\r\n          <Card className=\"border-green-200 bg-green-50\">\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"flex justify-center mb-4\">\r\n                <CheckCircle className=\"w-12 h-12 text-green-600\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl text-green-900\">\r\n                Order Confirmed!\r\n              </CardTitle>\r\n              <CardDescription className=\"text-green-800\">\r\n                Thank you for your purchase. Your order is now being prepared.\r\n              </CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n\r\n          {/* Order Number and Status */}\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"text-3xl font-bold text-[#030140]\">\r\n                    {orderNumber}\r\n                  </CardTitle>\r\n                  <CardDescription>Ordered on {orderDate}</CardDescription>\r\n                  {order.square_payment_id && (\r\n                    <p className=\"text-xs text-gray-500 mt-2\">\r\n                      Transaction ID:{\" \"}\r\n                      <span className=\"font-mono\">\r\n                        {order.square_payment_id}\r\n                      </span>\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                {getStatusBadge()}\r\n              </div>\r\n            </CardHeader>\r\n          </Card>\r\n\r\n          {/* Order Items */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Order Items</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-6\">\r\n                {order.orderItems?.map((item) => (\r\n                  <div\r\n                    key={item.id}\r\n                    className=\"flex flex-col md:flex-row gap-6 pb-6 border-b last:pb-0 last:border-b-0\"\r\n                  >\r\n                    {/* Design Thumbnail */}\r\n                    <div className=\"flex-shrink-0\">\r\n                      {item.design_file_url ? (\r\n                        <div className=\"relative w-32 h-32 bg-gray-100 rounded-lg overflow-hidden border border-gray-200\">\r\n                          <img\r\n                            src={item.design_file_url}\r\n                            alt={item.product_name}\r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                          <div className=\"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center opacity-0 hover:opacity-100\">\r\n                            <Eye className=\"w-6 h-6 text-white\" />\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"w-32 h-32 bg-gray-100 rounded-lg border border-gray-300 flex items-center justify-center\">\r\n                          <Package className=\"w-8 h-8 text-gray-400\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Item Details */}\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"space-y-3\">\r\n                        <div>\r\n                          <p className=\"font-bold text-lg text-gray-900\">\r\n                            {item.product_name}\r\n                          </p>\r\n                          <p className=\"text-sm text-gray-600 mt-1\">\r\n                            Product ID: #{item.product_id}\r\n                          </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-4 bg-gray-50 rounded-lg p-3\">\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600 font-medium\">\r\n                              QUANTITY\r\n                            </p>\r\n                            <p className=\"text-lg font-bold text-gray-900\">\r\n                              {item.quantity}{\" \"}\r\n                              {item.quantity === 1 ? \"item\" : \"items\"}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"border-l border-gray-300\"></div>\r\n                          <div>\r\n                            <p className=\"text-xs text-gray-600 font-medium\">\r\n                              PRICE PER ITEM\r\n                            </p>\r\n                            <p className=\"text-lg font-bold text-gray-900\">\r\n                              ${item.price.toFixed(2)}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {item.design_file_url && (\r\n                          <div className=\"space-y-2 pt-2\">\r\n                            <p className=\"text-sm font-medium text-gray-700\">\r\n                              Design Included\r\n                            </p>\r\n                            <div className=\"flex gap-2\">\r\n                              <button className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm text-gray-700 font-medium\">\r\n                                <Eye className=\"w-4 h-4\" />\r\n                                View Design\r\n                              </button>\r\n                              <button className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm text-gray-700 font-medium\">\r\n                                <Download className=\"w-4 h-4\" />\r\n                                Download\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Price Section */}\r\n                    <div className=\"flex-shrink-0 text-left md:text-right\">\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Subtotal</p>\r\n                      <p className=\"font-bold text-2xl\">\r\n                        <span style={{ color: \"rgba(20, 20, 20, 1)\" }}>$</span>\r\n                        <span style={{ color: \"rgba(32, 32, 31, 1)\" }}>\r\n                          {(item.price * item.quantity).toFixed(2)}\r\n                        </span>\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-600 mt-2\">\r\n                        ${item.price.toFixed(2)} × {item.quantity}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Order Summary */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Order Summary</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Subtotal</span>\r\n                <span className=\"font-medium\">\r\n                  ${order.subtotal.toFixed(2)}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Shipping</span>\r\n                <span className=\"font-medium\">\r\n                  ${order.shipping.toFixed(2)}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Tax</span>\r\n                <span className=\"font-medium\">${order.tax.toFixed(2)}</span>\r\n              </div>\r\n              {order.discount && order.discount > 0 && (\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Discount</span>\r\n                  <span className=\"font-medium text-green-600\">\r\n                    -${order.discount.toFixed(2)}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              <div className=\"pt-3 border-t-2 flex justify-between items-center\">\r\n                <span className=\"font-bold text-lg text-gray-900\">Total</span>\r\n                <span className=\"font-bold text-lg text-[#FFD713] bg-black rounded-xl px-4 py-2\">\r\n                  ${order.total.toFixed(2)}\r\n                </span>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Shipping & Delivery */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Shipping & Delivery</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {order.shipping_address && (\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-500 mb-2\">\r\n                    Delivery Address\r\n                  </p>\r\n                  <p className=\"text-gray-900\">\r\n                    {order.shipping_address.firstName}{\" \"}\r\n                    {order.shipping_address.lastName}\r\n                  </p>\r\n                  <p className=\"text-gray-600\">\r\n                    {order.shipping_address.street}\r\n                  </p>\r\n                  {order.shipping_address.street2 && (\r\n                    <p className=\"text-gray-600\">\r\n                      {order.shipping_address.street2}\r\n                    </p>\r\n                  )}\r\n                  <p className=\"text-gray-600\">\r\n                    {order.shipping_address.city},{\" \"}\r\n                    {order.shipping_address.state}{\" \"}\r\n                    {order.shipping_address.postalCode}\r\n                  </p>\r\n                  <p className=\"text-gray-600\">\r\n                    {order.shipping_address.country}\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"pt-4 border-t\">\r\n                <div className=\"flex items-center gap-2 mb-3\">\r\n                  <Calendar className=\"w-4 h-4 text-blue-600\" />\r\n                  <p className=\"text-sm font-medium text-gray-500\">\r\n                    Shipping Timeline\r\n                  </p>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-blue-600 mb-2\"></div>\r\n                      <div className=\"w-0.5 h-12 bg-gray-300\"></div>\r\n                    </div>\r\n                    <div className=\"pb-12\">\r\n                      <p className=\"font-medium text-gray-900 text-sm\">\r\n                        Processing\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-600\">2-3 business days</p>\r\n                      <p className=\"text-xs text-blue-600 font-medium mt-1\">\r\n                        Ready by {processingDateStr}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-blue-600 mb-2\"></div>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-900 text-sm\">\r\n                        Shipping\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-600\">\r\n                        7-21 business days via USPS/UPS\r\n                      </p>\r\n                      <p className=\"text-xs text-blue-600 font-medium mt-1\">\r\n                        Arrives between {deliveryDateMinStr} -{\" \"}\r\n                        {deliveryDateMaxStr}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Next Steps */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>What's Next?</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-[#FFD713] flex items-center justify-center text-sm font-bold text-[#030140] flex-shrink-0\">\r\n                    1\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-900\">\r\n                      Order Confirmation\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      A confirmation email has been sent to your email address.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-bold text-gray-600 flex-shrink-0\">\r\n                    2\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-900\">\r\n                      Production & Quality Check\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      We'll create your stickers and perform a quality check.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-bold text-gray-600 flex-shrink-0\">\r\n                    3\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-900\">Shipping</p>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Your order will be shipped via USPS or UPS. You'll receive\r\n                      a tracking number.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"pt-4\">\r\n                <Button\r\n                  onClick={() => navigate(\"/\")}\r\n                  className=\"w-full bg-[#FFD713] hover:bg-[#e6c200] text-[#030140] font-medium\"\r\n                >\r\n                  Continue Shopping\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}