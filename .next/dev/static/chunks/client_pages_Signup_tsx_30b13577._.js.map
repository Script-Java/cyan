{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/Signup.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Mail,\r\n  Lock,\r\n  User,\r\n  AlertCircle,\r\n  Eye,\r\n  EyeOff,\r\n  Check,\r\n} from \"lucide-react\";\r\n\r\nexport default function Signup() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [agreeTerms, setAgreeTerms] = useState(false);\r\n\r\n  const passwordRequirements = [\r\n    { text: \"At least 8 characters\", met: formData.password.length >= 8 },\r\n    {\r\n      text: \"Contains uppercase letter\",\r\n      met: /[A-Z]/.test(formData.password),\r\n    },\r\n    {\r\n      text: \"Contains lowercase letter\",\r\n      met: /[a-z]/.test(formData.password),\r\n    },\r\n    { text: \"Contains a number\", met: /\\d/.test(formData.password) },\r\n  ];\r\n\r\n  const passwordsMatch = formData.password === formData.confirmPassword;\r\n  const isPasswordValid = passwordRequirements.every((req) => req.met);\r\n\r\n  const requiredFieldsFilled =\r\n    formData.firstName && formData.lastName && formData.email;\r\n\r\n  const canSubmit =\r\n    isPasswordValid && passwordsMatch && agreeTerms && requiredFieldsFilled;\r\n\r\n  const handleChange = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>,\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSignup = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    if (!canSubmit) {\r\n      setError(\r\n        \"Please ensure all required fields are filled and requirements are met\",\r\n      );\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/auth/signup\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          firstName: formData.firstName,\r\n          lastName: formData.lastName,\r\n          email: formData.email,\r\n          password: formData.password,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || \"Signup failed. Please try again.\");\r\n      }\r\n\r\n      localStorage.setItem(\"authToken\", data.token);\n      localStorage.setItem(\"customerId\", data.customer.id.toString());\n      localStorage.setItem(\"isAdmin\", String(data.customer.isAdmin || false));\n      \n      // Dispatch auth change event to update Header navigation\n      window.dispatchEvent(new Event(\"auth-change\"));\n      \n      navigate(\"/\");\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Signup failed\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\n    <>\n      <main className=\"pt-20 min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"max-w-4xl mx-auto px-4 py-8 sm:py-12\">\r\n          <div className=\"bg-[#fafafa] rounded-2xl shadow-xl p-8 sm:p-10\">\r\n            <div className=\"text-center mb-8\">\r\n              <h1 className=\"text-3xl font-bold text-[#030140] mb-2\">\r\n                Create Account\r\n              </h1>\r\n              <p className=\"text-gray-600\">\r\n                Join Stickerland and start creating today\r\n              </p>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-3\">\r\n                <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n                <p className=\"text-sm text-red-800\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSignup} className=\"space-y-6 mb-8\">\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-[#030140] mb-2\">\r\n                    First Name <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      required\r\n                      value={formData.firstName}\r\n                      onChange={handleChange}\r\n                      autoComplete=\"given-name\"\r\n                      className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F63049] focus:border-transparent transition-all\"\r\n                      placeholder=\"John\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-[#030140] mb-2\">\r\n                    Last Name <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      required\r\n                      value={formData.lastName}\r\n                      onChange={handleChange}\r\n                      autoComplete=\"family-name\"\r\n                      className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F63049] focus:border-transparent transition-all\"\r\n                      placeholder=\"Doe\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-[#030140] mb-2\">\r\n                  Email Address <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    required\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    autoComplete=\"email\"\r\n                    className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F63049] focus:border-transparent transition-all\"\r\n                    placeholder=\"you@example.com\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-[#030140] mb-2\">\r\n                  Password <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    name=\"password\"\r\n                    required\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    autoComplete=\"new-password\"\r\n                    className=\"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F63049] focus:border-transparent transition-all\"\r\n                    placeholder=\"••••••••\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showPassword ? (\r\n                      <EyeOff className=\"w-5 h-5\" />\r\n                    ) : (\r\n                      <Eye className=\"w-5 h-5\" />\r\n                    )}\r\n                  </button>\r\n                </div>\r\n\r\n                {formData.password && (\r\n                  <div className=\"mt-3 space-y-2\">\r\n                    {passwordRequirements.map((req, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"flex items-center gap-2 text-sm\"\r\n                      >\r\n                        <Check\r\n                          className={`w-4 h-4 ${req.met ? \"text-green-600\" : \"text-gray-300\"\r\n                            }`}\r\n                        />\r\n                        <span\r\n                          className={\r\n                            req.met ? \"text-green-600\" : \"text-gray-600\"\r\n                          }\r\n                        >\r\n                          {req.text}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-[#030140] mb-2\">\r\n                  Confirm Password <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type={showConfirmPassword ? \"text\" : \"password\"}\r\n                    name=\"confirmPassword\"\r\n                    required\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleChange}\r\n                    autoComplete=\"new-password\"\r\n                    className=\"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F63049] focus:border-transparent transition-all\"\r\n                    placeholder=\"••••••••\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showConfirmPassword ? (\r\n                      <EyeOff className=\"w-5 h-5\" />\r\n                    ) : (\r\n                      <Eye className=\"w-5 h-5\" />\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                {formData.confirmPassword && !passwordsMatch && (\r\n                  <p className=\"text-sm text-red-600 mt-2\">\r\n                    Passwords do not match\r\n                  </p>\r\n                )}\r\n                {formData.confirmPassword && passwordsMatch && (\r\n                  <p className=\"text-sm text-green-600 mt-2\">\r\n                    Passwords match ✓\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <label className=\"flex items-start gap-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={agreeTerms}\r\n                  onChange={(e) => setAgreeTerms(e.target.checked)}\r\n                  className=\"w-5 h-5 rounded border-gray-300 cursor-pointer mt-1\"\r\n                />\r\n                <span className=\"text-sm text-gray-600\">\r\n                  I agree to the{\" \"}\r\n                  <a\r\n                    href=\"#\"\r\n                    className=\"text-[#F63049] hover:text-[#d62a3f] transition-colors font-medium\"\r\n                  >\r\n                    Terms of Service\r\n                  </a>{\" \"}\r\n                  and{\" \"}\r\n                  <a\r\n                    href=\"#\"\r\n                    className=\"text-[#F63049] hover:text-[#d62a3f] transition-colors font-medium\"\r\n                  >\r\n                    Privacy Policy\r\n                  </a>\r\n                </span>\r\n              </label>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={!canSubmit || isLoading}\r\n                className=\"w-full py-3 bg-[#F63049] text-white rounded-lg font-bold hover:bg-[#d62a3f] transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-[#F63049]/30\"\r\n              >\r\n                {isLoading ? \"Creating Account...\" : \"Create Account\"}\r\n              </button>\r\n            </form>\r\n\r\n            <div className=\"text-center mt-6\">\r\n              <p className=\"text-gray-600\">\r\n                Already have an account?{\" \"}\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"text-[#F63049] hover:text-[#d62a3f] font-semibold transition-colors\"\r\n                >\r\n                  Log in\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}