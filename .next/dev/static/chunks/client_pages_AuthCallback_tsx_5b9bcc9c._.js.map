{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/AuthCallback.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\n\r\nexport default function AuthCallback() {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const token = searchParams.get(\"auth_token\");\r\n    const customerId = searchParams.get(\"customer_id\");\r\n    const error = searchParams.get(\"error\");\r\n\r\n    if (error) {\r\n      // Handle authentication error\r\n      console.error(\"Authentication error:\", error);\r\n      navigate(\"/login?error=authentication_failed\");\r\n      return;\r\n    }\r\n\r\n    if (token && customerId) {\r\n      // Store the token and customer ID\r\n      localStorage.setItem(\"authToken\", token);\r\n      localStorage.setItem(\"customerId\", customerId);\r\n      // Redirect to home\r\n      navigate(\"/\");\r\n    } else {\r\n      // If no token, redirect to login\r\n      navigate(\"/login\");\r\n    }\r\n  }, [searchParams, navigate]);\r\n\r\n  return (\r\n    <>\n      <main className=\"pt-20 min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold text-[#030140] mb-4\">\r\n            Completing authentication...\r\n          </h1>\r\n          <p className=\"text-gray-600\">Please wait while we log you in.</p>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;;;AAEe,SAAS;;IACtB,MAAM,WAAW,IAAA,kLAAW;IAC5B,MAAM,CAAC,aAAa,GAAG,IAAA,6LAAe;IAEtC,IAAA,0KAAS;kCAAC;YACR,MAAM,QAAQ,aAAa,GAAG,CAAC;YAC/B,MAAM,aAAa,aAAa,GAAG,CAAC;YACpC,MAAM,QAAQ,aAAa,GAAG,CAAC;YAE/B,IAAI,OAAO;gBACT,8BAA8B;gBAC9B,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,SAAS;gBACT;YACF;YAEA,IAAI,SAAS,YAAY;gBACvB,kCAAkC;gBAClC,aAAa,OAAO,CAAC,aAAa;gBAClC,aAAa,OAAO,CAAC,cAAc;gBACnC,mBAAmB;gBACnB,SAAS;YACX,OAAO;gBACL,iCAAiC;gBACjC,SAAS;YACX;QACF;iCAAG;QAAC;QAAc;KAAS;IAE3B,qBACE;kBACE,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCAGvD,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;;AAKvC;GAxCwB;;QACL,kLAAW;QACL,6LAAe;;;KAFhB"}}]
}