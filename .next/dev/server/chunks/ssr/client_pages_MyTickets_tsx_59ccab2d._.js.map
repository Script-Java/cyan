{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/MyTickets.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  AlertCircle,\r\n  MessageSquare,\r\n  Clock,\r\n  CheckCircle,\r\n  ChevronRight,\r\n  ArrowLeft,\r\n  Plus,\r\n  Send,\r\n  Loader,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\n\r\ninterface Ticket {\r\n  id: number;\r\n  subject: string;\r\n  category: string;\r\n  priority: string;\r\n  status: string;\r\n  message: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  reply_count?: number;\r\n}\r\n\r\nexport default function MyTickets() {\r\n  const navigate = useNavigate();\r\n  const [tickets, setTickets] = useState<Ticket[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedTicket, setSelectedTicket] = useState<Ticket | null>(null);\r\n  const [ticketReplies, setTicketReplies] = useState<any[]>([]);\r\n  const [filter, setFilter] = useState<\r\n    \"all\" | \"open\" | \"in-progress\" | \"resolved\"\r\n  >(\"all\");\r\n  const [replyMessage, setReplyMessage] = useState(\"\");\r\n  const [isSubmittingReply, setIsSubmittingReply] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchTickets();\r\n  }, []);\r\n\r\n  const fetchTickets = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const customerId = localStorage.getItem(\"customerId\");\r\n\r\n      if (!token || !customerId) {\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\r\n        `/api/support/tickets?customerId=${customerId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        },\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch tickets\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      setTickets(data.tickets || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching tickets:\", error);\r\n      toast.error(\"Failed to load your tickets\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchTicketDetails = async (ticketId: number) => {\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const customerId = localStorage.getItem(\"customerId\");\r\n\r\n      const response = await fetch(\r\n        `/api/support/tickets/${ticketId}?customerId=${customerId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        },\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch ticket details\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      setSelectedTicket(data.ticket);\r\n      setTicketReplies(data.replies || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching ticket details:\", error);\r\n      toast.error(\"Failed to load ticket details\");\r\n    }\r\n  };\r\n\r\n  const handleViewTicket = (ticket: Ticket) => {\r\n    fetchTicketDetails(ticket.id);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setSelectedTicket(null);\r\n    setTicketReplies([]);\r\n    setReplyMessage(\"\");\r\n  };\r\n\r\n  const handleSubmitReply = async () => {\r\n    if (!selectedTicket || !replyMessage.trim()) {\r\n      toast.error(\"Please enter a reply message\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmittingReply(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      const customerId = localStorage.getItem(\"customerId\");\r\n\r\n      if (!token || !customerId) {\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\r\n        `/api/support/tickets/${selectedTicket.id}/reply`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({\r\n            message: replyMessage,\r\n            customerId: parseInt(customerId),\r\n          }),\r\n        },\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || \"Failed to send reply\");\r\n      }\r\n\r\n      toast.success(\"Reply sent!\");\r\n      setReplyMessage(\"\");\r\n\r\n      // Add reply to local state\r\n      const newReply = {\r\n        id: Date.now().toString(),\r\n        sender_name: \"You\",\r\n        sender_type: \"customer\",\r\n        message: replyMessage,\r\n        created_at: new Date().toISOString(),\r\n      };\r\n      setTicketReplies([...ticketReplies, newReply]);\r\n    } catch (error) {\r\n      console.error(\"Error sending reply:\", error);\r\n      const message =\r\n        error instanceof Error ? error.message : \"Failed to send reply\";\r\n      toast.error(message);\r\n    } finally {\r\n      setIsSubmittingReply(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    const colors: Record<string, string> = {\r\n      open: \"bg-blue-50 text-blue-700 border-blue-200\",\r\n      \"in-progress\": \"bg-yellow-50 text-yellow-700 border-yellow-200\",\r\n      resolved: \"bg-green-50 text-green-700 border-green-200\",\r\n      closed: \"bg-gray-50 text-gray-700 border-gray-200\",\r\n    };\r\n    return colors[status] || colors.open;\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    const colors: Record<string, string> = {\r\n      low: \"text-gray-600\",\r\n      medium: \"text-blue-600\",\r\n      high: \"text-orange-600\",\r\n      urgent: \"text-red-600\",\r\n    };\r\n    return colors[priority] || \"text-gray-600\";\r\n  };\r\n\r\n  const getPriorityBg = (priority: string) => {\r\n    const colors: Record<string, string> = {\r\n      low: \"bg-gray-100\",\r\n      medium: \"bg-blue-100\",\r\n      high: \"bg-orange-100\",\r\n      urgent: \"bg-red-100\",\r\n    };\r\n    return colors[priority] || \"bg-gray-100\";\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  if (selectedTicket) {\r\n    return (\r\n      <>\n        <main className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-6 sm:py-8 md:py-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-4xl mx-auto\">\r\n            {/* Back button */}\r\n            <button\r\n              onClick={handleBack}\r\n              className=\"flex items-center gap-1.5 sm:gap-2 text-gray-600 hover:text-gray-900 mb-4 sm:mb-6 transition-colors text-sm sm:text-base\"\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4 sm:w-5 h-5\" />\r\n              Back\r\n            </button>\r\n\r\n            {/* Ticket Details */}\r\n            <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm p-4 sm:p-6 md:p-8\">\r\n              <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6\">\r\n                <div>\r\n                  <h1 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-1 sm:mb-2\">\r\n                    {selectedTicket.subject}\r\n                  </h1>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                    Ticket ID:{\" \"}\r\n                    <span className=\"font-mono\">{selectedTicket.id}</span>\r\n                  </p>\r\n                </div>\r\n                <div\r\n                  className={`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full border text-xs sm:text-sm font-semibold whitespace-nowrap ${getStatusColor(selectedTicket.status)}`}\r\n                >\r\n                  {selectedTicket.status.toUpperCase()}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Ticket Meta Info */}\r\n              <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-6 sm:mb-8 pb-4 sm:pb-6 border-b border-gray-200\">\r\n                <div className=\"min-w-0\">\r\n                  <p className=\"text-xs text-gray-600 uppercase tracking-wide mb-1\">\r\n                    Priority\r\n                  </p>\r\n                  <span\r\n                    className={`inline-block px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-semibold ${getPriorityBg(selectedTicket.priority)} ${getPriorityColor(selectedTicket.priority)}`}\r\n                  >\r\n                    {selectedTicket.priority.charAt(0).toUpperCase() +\r\n                      selectedTicket.priority.slice(1)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <p className=\"text-xs text-gray-600 uppercase tracking-wide mb-1\">\r\n                    Category\r\n                  </p>\r\n                  <p className=\"text-xs sm:text-sm font-semibold text-gray-900 truncate\">\r\n                    {selectedTicket.category}\r\n                  </p>\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <p className=\"text-xs text-gray-600 uppercase tracking-wide mb-1\">\r\n                    Created\r\n                  </p>\r\n                  <p className=\"text-xs sm:text-sm font-semibold text-gray-900\">\r\n                    {formatDate(selectedTicket.created_at)}\r\n                  </p>\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <p className=\"text-xs text-gray-600 uppercase tracking-wide mb-1\">\r\n                    Updated\r\n                  </p>\r\n                  <p className=\"text-xs sm:text-sm font-semibold text-gray-900\">\r\n                    {formatDate(selectedTicket.updated_at)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Original Message */}\r\n              <div className=\"mb-6 sm:mb-8\">\r\n                <h3 className=\"text-base sm:text-lg font-bold text-gray-900 mb-2 sm:mb-3\">\r\n                  Your Message\r\n                </h3>\r\n                <div className=\"bg-gray-50 rounded-lg p-3 sm:p-4 md:p-6 border border-gray-200 max-h-48 overflow-y-auto\">\r\n                  <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                    {selectedTicket.message}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Replies */}\r\n              <div className=\"mb-6 sm:mb-8\">\r\n                <h3 className=\"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4\">\r\n                  Conversation ({ticketReplies.length})\r\n                </h3>\r\n\r\n                {ticketReplies.length === 0 ? (\r\n                  <div className=\"bg-blue-50 rounded-lg border border-blue-200 p-4 sm:p-6 text-center\">\r\n                    <MessageSquare className=\"w-6 h-6 sm:w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                    <p className=\"text-xs sm:text-sm text-blue-800\">\r\n                      No replies yet. We're working on your ticket!\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3 sm:space-y-4 max-h-96 overflow-y-auto\">\r\n                    {ticketReplies.map((reply) => (\r\n                      <div\r\n                        key={reply.id}\r\n                        className={`rounded-lg p-3 sm:p-4 border ${\r\n                          reply.sender_type === \"admin\"\r\n                            ? \"bg-green-50 border-green-200\"\r\n                            : \"bg-gray-50 border-gray-200\"\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-start justify-between gap-2 mb-2\">\r\n                          <div className=\"min-w-0\">\r\n                            <p className=\"text-xs sm:text-sm font-semibold text-gray-900\">\r\n                              {reply.sender_name}\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-600\">\r\n                              {reply.sender_type === \"admin\"\r\n                                ? \"Support Team\"\r\n                                : \"You\"}\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-600 whitespace-nowrap\">\r\n                            {formatDate(reply.created_at)}\r\n                          </p>\r\n                        </div>\r\n                        <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                          {reply.message}\r\n                        </p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Reply Form */}\r\n              <div className=\"border-t border-gray-200 mt-6 sm:mt-8 pt-4 sm:pt-6 md:pt-8\">\r\n                <h3 className=\"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4\">\r\n                  Add Your Reply\r\n                </h3>\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <textarea\r\n                    value={replyMessage}\r\n                    onChange={(e) => setReplyMessage(e.target.value)}\r\n                    placeholder=\"Type your message here...\"\r\n                    rows={3}\r\n                    className=\"w-full px-3 sm:px-4 py-1.5 sm:py-2 text-sm sm:text-base text-black border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all resize-none\"\r\n                  />\r\n                  <button\r\n                    onClick={handleSubmitReply}\r\n                    disabled={isSubmittingReply || !replyMessage.trim()}\r\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-2 sm:py-3 rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    {isSubmittingReply ? (\r\n                      <>\r\n                        <Loader className=\"w-4 h-4 sm:w-5 h-5 animate-spin\" />\r\n                        <span className=\"text-sm sm:text-base\">Sending...</span>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Send className=\"w-4 h-4 sm:w-5 h-5\" />\r\n                        <span className=\"text-sm sm:text-base\">Send Reply</span>\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <main className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-6 sm:py-8 md:py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-5xl mx-auto\">\r\n          {/* Header */}\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-6 sm:mb-8\">\r\n            <div>\r\n              <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900\">\r\n                My Tickets\r\n              </h1>\r\n              <p className=\"text-xs sm:text-sm text-gray-600 mt-1\">\r\n                Track your support requests\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => navigate(\"/support\")}\r\n              className=\"flex items-center justify-center gap-1.5 sm:gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg transition-colors text-sm sm:text-base whitespace-nowrap\"\r\n            >\r\n              <Plus className=\"w-4 h-4 sm:w-5 h-5\" />\r\n              <span className=\"hidden sm:inline\">New Ticket</span>\r\n              <span className=\"sm:hidden\">New</span>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Filter Tabs */}\r\n          <div className=\"flex gap-1.5 sm:gap-2 mb-6 sm:mb-8 flex-wrap\">\r\n            {[\"all\", \"open\", \"in-progress\", \"resolved\"].map((status) => (\r\n              <button\r\n                key={status}\r\n                onClick={() => setFilter(status as any)}\r\n                className={`px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition-colors ${\r\n                  filter === status\r\n                    ? \"bg-blue-600 text-white\"\r\n                    : \"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50\"\r\n                }`}\r\n              >\r\n                {status === \"all\"\r\n                  ? \"All\"\r\n                  : status.replace(\"-\", \" \").charAt(0).toUpperCase() +\r\n                    status.slice(1).replace(\"-\", \" \")}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Tickets List */}\r\n          {isLoading ? (\r\n            <div className=\"flex justify-center items-center h-64\">\r\n              <div className=\"text-sm sm:text-base text-gray-600\">\r\n                Loading your tickets...\r\n              </div>\r\n            </div>\r\n          ) : tickets.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6 sm:p-12 text-center\">\r\n              <MessageSquare className=\"w-8 h-8 sm:w-12 h-12 text-gray-400 mx-auto mb-3 sm:mb-4\" />\r\n              <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 mb-1 sm:mb-2\">\r\n                No tickets yet\r\n              </h3>\r\n              <p className=\"text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6\">\r\n                Create your first support ticket to get help from our team\r\n              </p>\r\n              <button\r\n                onClick={() => navigate(\"/support\")}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 sm:px-6 rounded-lg transition-colors text-sm sm:text-base\"\r\n              >\r\n                Create New Ticket\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2 sm:space-y-3 md:space-y-4\">\r\n              {tickets\r\n                .filter(\r\n                  (ticket) => filter === \"all\" || ticket.status === filter,\r\n                )\r\n                .map((ticket) => (\r\n                  <button\r\n                    key={ticket.id}\r\n                    onClick={() => handleViewTicket(ticket)}\r\n                    className=\"w-full bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-6 hover:shadow-md transition-all text-left\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between gap-2 sm:gap-4\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h3 className=\"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2 truncate\">\r\n                          {ticket.subject}\r\n                        </h3>\r\n                        <p className=\"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-1 hidden sm:block\">\r\n                          {ticket.message}\r\n                        </p>\r\n                        <div className=\"flex items-center gap-2 flex-wrap\">\r\n                          <span\r\n                            className={`px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-semibold ${getStatusColor(ticket.status)}`}\r\n                          >\r\n                            {ticket.status === \"in-progress\"\r\n                              ? \"In Progress\"\r\n                              : ticket.status.toUpperCase()}\r\n                          </span>\r\n                          <span\r\n                            className={`px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-semibold ${getPriorityBg(ticket.priority)} ${getPriorityColor(ticket.priority)}`}\r\n                          >\r\n                            {ticket.priority.toUpperCase()}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-600 hidden md:inline\">\r\n                            {ticket.category}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 ml-2 flex-shrink-0\">\r\n                        <div className=\"text-right hidden sm:block\">\r\n                          <p className=\"text-xs text-gray-600\">\r\n                            {formatDate(ticket.created_at)}\r\n                          </p>\r\n                        </div>\r\n                        <ChevronRight className=\"w-4 h-4 sm:w-5 h-5 text-gray-400\" />\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}