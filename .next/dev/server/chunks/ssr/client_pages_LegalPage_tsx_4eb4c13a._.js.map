{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/LegalPage.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { ArrowLeft, FileText } from \"lucide-react\";\n\r\ninterface LegalPageData {\r\n  id: string;\r\n  page_type: string;\r\n  title: string;\r\n  content: string;\r\n  visibility: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nconst pageTypeLabels: Record<string, string> = {\r\n  privacy: \"Privacy Policy\",\r\n  terms: \"Terms of Service\",\r\n  shipping: \"Shipping Policy\",\r\n  returns: \"Returns Policy\",\r\n  legal: \"Legal Notice\",\r\n  gdpr: \"GDPR Compliance\",\r\n  ccpa: \"CCPA Rights\",\r\n};\r\n\r\nconst pageTypeColors: Record<string, string> = {\r\n  privacy: \"from-blue-600 to-blue-800\",\r\n  terms: \"from-purple-600 to-purple-800\",\r\n  shipping: \"from-green-600 to-green-800\",\r\n  returns: \"from-orange-600 to-orange-800\",\r\n  legal: \"from-red-600 to-red-800\",\r\n  gdpr: \"from-indigo-600 to-indigo-800\",\r\n  ccpa: \"from-amber-600 to-amber-800\",\r\n};\r\n\r\nexport default function LegalPage() {\r\n  const { pageType } = useParams<{ pageType: string }>();\r\n  const navigate = useNavigate();\r\n  const [page, setPage] = useState<LegalPageData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchLegalPage();\r\n  }, [pageType]);\r\n\r\n  const fetchLegalPage = async () => {\r\n    try {\r\n      if (!pageType) {\r\n        setError(\"Invalid page type\");\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`/api/legal/${pageType}`);\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 404) {\r\n          setError(\"This legal page is not available yet\");\r\n        } else if (response.status >= 500) {\r\n          setError(\"Server error. Please try again later.\");\r\n        } else {\r\n          setError(`Unable to load page (Status: ${response.status})`);\r\n        }\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      setPage(data);\r\n    } catch (err) {\r\n      console.warn(\"Error fetching legal page:\", err);\r\n      setError(\"Unable to load legal page. Please try again later.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black flex flex-col\">\n      <main className=\"flex-1\">\n        {/* Hero Section */}\r\n        <div\r\n          className={`bg-gradient-to-br ${pageType && pageTypeColors[pageType] ? pageTypeColors[pageType] : \"from-gray-600 to-gray-800\"} py-12 md:py-16`}\r\n        >\r\n          <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <button\r\n              onClick={() => navigate(\"/\")}\r\n              className=\"flex items-center gap-2 text-white/80 hover:text-white mb-6 transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4\" />\r\n              Back to Home\r\n            </button>\r\n\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <FileText className=\"w-8 h-8 text-white/90\" />\r\n              <h1 className=\"text-4xl md:text-5xl font-bold text-white\">\r\n                {isLoading ? \"Loading...\" : page?.title || \"Legal Page\"}\r\n              </h1>\r\n            </div>\r\n\r\n            {page && (\r\n              <p className=\"text-white/80 text-sm\">\r\n                Last updated:{\" \"}\r\n                {new Date(page.updated_at).toLocaleDateString(\"en-US\", {\r\n                  year: \"numeric\",\r\n                  month: \"long\",\r\n                  day: \"numeric\",\r\n                })}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content Section */}\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16\">\r\n          {isLoading ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"text-white/60\">Loading legal page...</div>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"bg-red-500/10 border border-red-500/20 rounded-lg p-8 text-center\">\r\n              <p className=\"text-red-400 mb-6\">{error}</p>\r\n              <button\r\n                onClick={() => navigate(\"/\")}\r\n                className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\r\n              >\r\n                Return to Home\r\n              </button>\r\n            </div>\r\n          ) : page ? (\r\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-8 md:p-12\">\r\n              <div className=\"prose prose-invert max-w-none\">\r\n                <div className=\"text-white/90 whitespace-pre-wrap leading-relaxed space-y-4\">\r\n                  {page.content.split(\"\\n\").map((paragraph, index) => (\r\n                    <p key={index} className=\"text-base\">\r\n                      {paragraph}\r\n                    </p>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Footer Info */}\r\n              <div className=\"mt-12 pt-8 border-t border-white/10\">\r\n                <p className=\"text-white/50 text-sm\">\r\n                  This page was last updated on{\" \"}\r\n                  {new Date(page.updated_at).toLocaleDateString(\"en-US\", {\r\n                    year: \"numeric\",\r\n                    month: \"long\",\r\n                    day: \"numeric\",\r\n                  })}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <p className=\"text-white/60\">No content available</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}