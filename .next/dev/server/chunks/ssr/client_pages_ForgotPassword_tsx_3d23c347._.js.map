{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/atrin/Desktop/PRODUCTS/cyan/prd/client/pages/ForgotPassword.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { Mail, AlertCircle, CheckCircle, ArrowLeft } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\r\nexport default function ForgotPassword() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    if (!email) {\r\n      setError(\"Please enter your email address\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/auth/request-password-reset\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || \"Failed to send password reset email\");\r\n      }\r\n\r\n      setSuccess(true);\r\n      toast.success(\"Password reset email sent! Check your inbox.\");\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : \"Failed to send password reset email\";\r\n      setError(message);\r\n      toast.error(message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (success) {\r\n    return (\r\n      <>\n        <main className=\"pt-20 min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n          <div className=\"max-w-md mx-auto px-4 py-12 sm:py-20\">\n            <div className=\"bg-[#fafafa] rounded-2xl shadow-xl p-8 sm:p-10\">\n              <div className=\"flex justify-center mb-6\">\n                <div className=\"bg-green-100 rounded-full p-4\">\n                  <CheckCircle className=\"w-8 h-8 text-green-600\" />\n                </div>\n              </div>\n\r\n              <h1 className=\"text-2xl font-bold text-center text-[#030140] mb-2\">\r\n                Email Sent!\r\n              </h1>\r\n              <p className=\"text-gray-600 text-center mb-6\">\r\n                We've sent a password reset link to <strong>{email}</strong>. \r\n              </p>\r\n\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8\">\r\n                <p className=\"text-sm text-blue-800\">\r\n                  <strong>Tip:</strong> Check your spam folder if you don't see the email in your inbox. The link will expire in 1 hour.\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                onClick={() => navigate(\"/login\")}\r\n                className=\"w-full py-3 bg-[#FFD713] text-[#030140] rounded-lg font-bold hover:bg-[#FFD713]/90 transition-all shadow-lg shadow-[#FFD713]/30\"\r\n              >\r\n                Back to Login\r\n              </button>\r\n\r\n              <p className=\"text-center text-sm text-gray-600 mt-6\">\r\n                Remember your password?{\" \"}\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"text-[#FFD713] hover:text-[#FFA500] font-semibold transition-colors\"\r\n                >\r\n                  Sign in instead\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\n      <main className=\"pt-20 min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"max-w-md mx-auto px-4 py-12 sm:py-20\">\n          <div className=\"bg-[#fafafa] rounded-2xl shadow-xl p-8 sm:p-10\">\n            <div className=\"flex items-center gap-3 mb-8\">\r\n              <button\r\n                onClick={() => navigate(\"/login\")}\r\n                className=\"text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5\" />\r\n              </button>\r\n              <h1 className=\"text-2xl font-bold text-[#030140]\">\r\n                Reset Password\r\n              </h1>\r\n            </div>\r\n\r\n            <p className=\"text-gray-600 mb-8\">\r\n              Enter your email address and we'll send you a link to reset your password.\r\n            </p>\r\n\r\n            {error && (\r\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex gap-3\">\r\n                <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n                <p className=\"text-sm text-red-800\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-[#030140] mb-2\">\r\n                  Email Address\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type=\"email\"\r\n                    required\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    disabled={isLoading}\r\n                    className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FFD713] focus:border-transparent transition-all disabled:bg-gray-100\"\r\n                    placeholder=\"you@example.com\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"w-full py-3 bg-[#FFD713] text-[#030140] rounded-lg font-bold hover:bg-[#FFD713]/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-[#FFD713]/30\"\r\n              >\r\n                {isLoading ? \"Sending...\" : \"Send Reset Link\"}\r\n              </button>\r\n            </form>\r\n\r\n            <p className=\"text-center text-sm text-gray-600 mt-8\">\r\n              Remember your password?{\" \"}\r\n              <Link\r\n                to=\"/login\"\r\n                className=\"text-[#FFD713] hover:text-[#FFA500] font-semibold transition-colors\"\r\n              >\r\n                Sign in instead\r\n              </Link>\r\n            </p>\r\n          </div>\r\n\r\n          <p className=\"text-center text-sm text-gray-600 mt-8\">\r\n            Need help?{\" \"}\r\n            <Link\r\n              to=\"/support\"\r\n              className=\"text-[#FFD713] hover:text-[#FFA500] transition-colors\"\r\n            >\r\n              Contact Support\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}