(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,91918,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(20783),a=Symbol.for("react.lazy"),l=r[" use ".trim().toString()];function n(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function i(e){var a;let i,d=(a=e,(i=r.forwardRef((e,t)=>{let{children:a,...i}=e;if(n(a)&&"function"==typeof l&&(a=l(a._payload)),r.isValidElement(a)){var d;let e,l,n=(d=a,(l=(e=Object.getOwnPropertyDescriptor(d.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?d.ref:(l=(e=Object.getOwnPropertyDescriptor(d,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?d.props.ref:d.props.ref||d.ref),o=function(e,t){let r={...t};for(let s in t){let a=e[s],l=t[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...l}:"className"===s&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==r.Fragment&&(o.ref=t?(0,s.composeRefs)(t,n):n),r.cloneElement(a,o)}return r.Children.count(a)>1?r.Children.only(null):null})).displayName=`${a}.SlotClone`,i),o=r.forwardRef((e,s)=>{let{children:a,...i}=e;n(a)&&"function"==typeof l&&(a=l(a._payload));let o=r.Children.toArray(a),x=o.find(c);if(x){let e=x.props.children,a=o.map(t=>t!==x?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(d,{...i,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,t.jsx)(d,{...i,ref:s,children:a})});return o.displayName=`${e}.Slot`,o}var d=i("Slot"),o=Symbol("radix.slottable");function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}e.s(["Slot",()=>d,"createSlot",()=>i],91918);var x=e.i(25913),m=e.i(47163);let h=(0,x.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=r.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...l},n)=>(0,t.jsx)(a?d:"button",{className:(0,m.cn)(h({variant:r,size:s,className:e})),ref:n,...l}));g.displayName="Button",e.s(["Button",()=>g,"buttonVariants",()=>h],67881)},39312,e=>{"use strict";let t=(0,e.i(75254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],39312)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},89648,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(9694),l=e.i(75225),n=e.i(85183),i=e.i(93230),d=e.i(72526),o=e.i(34239),c=e.i(59559),x=e.i(44098),m=e.i(33808),h=e.i(38814),g=e.i(22787),u=e.i(12426),p=e.i(25652),b=e.i(39312),f=e.i(63209),y=e.i(67881);function j(){let e=(0,s.useRouter)(),[j,v]=(0,r.useState)([]),[N,w]=(0,r.useState)(!0),[S,k]=(0,r.useState)(""),[C,A]=(0,r.useState)([]),[R,B]=(0,r.useState)(0),[T,$]=(0,r.useState)(0);(0,r.useEffect)(()=>{let t=localStorage.getItem("authToken");t?(async()=>{try{w(!0),k("");let e=await fetch("/api/orders",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to fetch order data")}let r=(await e.json()).orders||[];v(r);let s=r.reduce((e,t)=>e+t.total,0);B(s),$(.5*s);let a={};r.forEach(e=>{let t=new Date(e.dateCreated).getFullYear();a[t]||(a[t]={year:t,spent:0,orders:0,saved:0}),a[t].spent+=e.total,a[t].orders+=1,a[t].saved=.5*a[t].spent});let l=Object.values(a).sort((e,t)=>e.year-t.year);A(l)}catch(e){k(e instanceof Error?e.message:"Failed to load finance data")}finally{w(!1)}})():e.push("/login")},[e]);let _=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),E=C.map(e=>({year:e.year.toString(),Spent:Math.round(100*e.spent)/100,Saved:Math.round(100*e.saved)/100})),Y=[{name:"Amount Spent",value:Math.round(100*R)/100},{name:"Amount Saved (50%)",value:Math.round(100*T)/100}],F=["#3b82f6","#10b981"];return N?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"text-gray-600 text-lg",children:"Loading your finances..."})}):(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 min-h-screen",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Finances"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Track your spending and savings with us"})]}),S&&(0,t.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[(0,t.jsx)(f.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("p",{className:"text-sm text-red-800",children:S})]}),0===j.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[(0,t.jsx)(u.DollarSign,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Financial Data Yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't placed any orders yet. Start shopping to see your financial insights here."}),(0,t.jsx)(y.Button,{onClick:()=>e.push("/ecwid-store"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Shop Now"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Spent"}),(0,t.jsx)(u.DollarSign,{className:"w-5 h-5 text-blue-600"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:_(R)}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["Across ",j.length," order",1!==j.length?"s":""]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Saved (50%)"}),(0,t.jsx)(b.Zap,{className:"w-5 h-5 text-emerald-600"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-emerald-900",children:_(T)}),(0,t.jsx)("p",{className:"text-xs text-emerald-700 mt-2",children:"vs. competitor pricing"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Average Order"}),(0,t.jsx)(p.TrendingUp,{className:"w-5 h-5 text-purple-600"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:_(R/j.length)}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Per order value"})]})]}),C.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Spending by Year"}),(0,t.jsx)(x.ResponsiveContainer,{width:"100%",height:400,children:(0,t.jsxs)(a.BarChart,{data:E,children:[(0,t.jsx)(d.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(n.XAxis,{dataKey:"year",stroke:"#6b7280"}),(0,t.jsx)(i.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(o.Tooltip,{formatter:e=>_(e),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,t.jsx)(c.Legend,{}),(0,t.jsx)(l.Bar,{dataKey:"Spent",fill:"#3b82f6",radius:[8,8,0,0]}),(0,t.jsx)(l.Bar,{dataKey:"Saved",fill:"#10b981",radius:[8,8,0,0]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Your Savings Breakdown"}),(0,t.jsx)(x.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(m.PieChart,{children:[(0,t.jsx)(h.Pie,{data:Y,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:t})=>`${e}: ${_(t)}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:Y.map((e,r)=>(0,t.jsx)(g.Cell,{fill:F[r%F.length]},`cell-${r}`))}),(0,t.jsx)(o.Tooltip,{formatter:e=>_(e)})]})})]})]}),C.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Year Breakdown"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Year"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Total Orders"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Amount Spent"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Amount Saved (50%)"})]})}),(0,t.jsx)("tbody",{children:C.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.year}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 text-right",children:e.orders}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900 text-right",children:_(e.spent)}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-emerald-600 text-right",children:_(e.saved)})]},e.year))})]})})]}),(0,t.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-emerald-50 rounded-lg border border-blue-200 p-8",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(b.Zap,{className:"w-8 h-8 text-emerald-600 flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"You're Saving Big!"}),(0,t.jsxs)("p",{className:"text-gray-700 mb-3",children:["By choosing Stickerland, you save"," ",(0,t.jsx)("span",{className:"font-bold text-emerald-600",children:"50%"})," ","compared to traditional sticker shops."]}),(0,t.jsxs)("p",{className:"text-gray-700",children:["That means for every $"," ",(0,t.jsx)("span",{className:"font-bold",children:"1"})," you spend with us, you would pay ",(0,t.jsx)("span",{className:"font-bold",children:"$2"})," ","elsewhere. Your total savings:"," ",(0,t.jsx)("span",{className:"font-bold text-emerald-600",children:_(T)})]})]})]})})]})]})}e.s(["default",()=>j])}]);