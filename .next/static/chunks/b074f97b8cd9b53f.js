(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},79788,e=>{"use strict";var t,a,r,n,s=e.i(71645),i=e.i(74080),o=e.i(4792),l=e.i(81623);function c(){return(c=Object.assign.bind()).apply(this,arguments)}function u(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}let d="application/x-www-form-urlencoded";function h(e){return null!=e&&"string"==typeof e.tagName}function m(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let r=e[a];return t.concat(Array.isArray(r)?r.map(e=>[a,e]):[[a,r]])},[]))}let p=null,f=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v(e){return null==e||f.has(e)?e:null}let g=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}function S(e,t){return(0,l.createRouter)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.createBrowserHistory)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||w(),routes:e,mapRouteProperties:o.UNSAFE_mapRouteProperties,dataStrategy:null==t?void 0:t.dataStrategy,patchRoutesOnNavigation:null==t?void 0:t.patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize()}function N(e,t){return(0,l.createRouter)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.createHashHistory)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||w(),routes:e,mapRouteProperties:o.UNSAFE_mapRouteProperties,dataStrategy:null==t?void 0:t.dataStrategy,patchRoutesOnNavigation:null==t?void 0:t.patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize()}function w(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=c({},t,{errors:function(e){if(!e)return null;let t=Object.entries(e),a={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)a[e]=new l.UNSAFE_ErrorResponseImpl(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let t=window[r.__subType];if("function"==typeof t)try{let n=new t(r.message);n.stack="",a[e]=n}catch(e){}}if(null==a[e]){let t=Error(r.message);t.stack="",a[e]=t}}else a[e]=r;return a}(t.errors)})),t}let C=s.createContext({isTransitioning:!1}),j=s.createContext(new Map),b=s.startTransition,E=i.flushSync,F=s.useId;function A(e){E?E(e):e()}class R{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function L(e){let{fallbackElement:t,router:a,future:r}=e,[n,i]=s.useState(a.state),[l,c]=s.useState(),[u,d]=s.useState({isTransitioning:!1}),[h,m]=s.useState(),[p,f]=s.useState(),[v,g]=s.useState(),x=s.useRef(new Map),{v7_startTransition:y}=r||{},S=s.useCallback(e=>{if(y)b?b(e):e();else e()},[y]),N=s.useCallback((e,t)=>{let{deletedFetchers:r,flushSync:n,viewTransitionOpts:s}=t;e.fetchers.forEach((e,t)=>{void 0!==e.data&&x.current.set(t,e.data)}),r.forEach(e=>x.current.delete(e));let o=null==a.window||null==a.window.document||"function"!=typeof a.window.document.startViewTransition;if(!s||o)return void(n?A(()=>i(e)):S(()=>i(e)));if(n){A(()=>{p&&(h&&h.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})});let t=a.window.document.startViewTransition(()=>{A(()=>i(e))});t.finished.finally(()=>{A(()=>{m(void 0),f(void 0),c(void 0),d({isTransitioning:!1})})}),A(()=>f(t));return}p?(h&&h.resolve(),p.skipTransition(),g({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(c(e),d({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))},[a.window,p,h,x,S]);s.useLayoutEffect(()=>a.subscribe(N),[a,N]),s.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new R)},[u]),s.useEffect(()=>{if(h&&l&&a.window){let e=h.promise,t=a.window.document.startViewTransition(async()=>{S(()=>i(l)),await e});t.finished.finally(()=>{m(void 0),f(void 0),c(void 0),d({isTransitioning:!1})}),f(t)}},[S,l,h,a.window]),s.useEffect(()=>{h&&l&&n.location.key===l.location.key&&h.resolve()},[h,p,n.location,l]),s.useEffect(()=>{!u.isTransitioning&&v&&(c(v.state),d({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),g(void 0))},[u.isTransitioning,v]),s.useEffect(()=>{},[]);let w=s.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:e=>a.navigate(e),push:(e,t,r)=>a.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>a.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}),[a]),E=a.basename||"/",F=s.useMemo(()=>({router:a,navigator:w,static:!1,basename:E}),[a,w,E]),L=s.useMemo(()=>({v7_relativeSplatPath:a.future.v7_relativeSplatPath}),[a.future.v7_relativeSplatPath]);return s.useEffect(()=>(0,o.UNSAFE_logV6DeprecationWarnings)(r,a.future),[r,a.future]),s.createElement(s.Fragment,null,s.createElement(o.UNSAFE_DataRouterContext.Provider,{value:F},s.createElement(o.UNSAFE_DataRouterStateContext.Provider,{value:n},s.createElement(j.Provider,{value:x.current},s.createElement(C.Provider,{value:u},s.createElement(o.Router,{basename:E,location:n.location,navigationType:n.historyAction,navigator:w,future:L},n.initialized||a.future.v7_partialHydration?s.createElement(_,{routes:a.routes,future:a.future,state:n}):t))))),null)}let _=s.memo(function(e){let{routes:t,future:a,state:r}=e;return(0,o.UNSAFE_useRoutesImpl)(t,void 0,r,a)});function T(e){let{basename:t,children:a,future:r,window:n}=e,i=s.useRef();null==i.current&&(i.current=(0,l.createBrowserHistory)({window:n,v5Compat:!0}));let c=i.current,[u,d]=s.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},m=s.useCallback(e=>{h&&b?b(()=>d(e)):d(e)},[d,h]);return s.useLayoutEffect(()=>c.listen(m),[c,m]),s.useEffect(()=>(0,o.UNSAFE_logV6DeprecationWarnings)(r),[r]),s.createElement(o.Router,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:c,future:r})}function U(e){let{basename:t,children:a,future:r,window:n}=e,i=s.useRef();null==i.current&&(i.current=(0,l.createHashHistory)({window:n,v5Compat:!0}));let c=i.current,[u,d]=s.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},m=s.useCallback(e=>{h&&b?b(()=>d(e)):d(e)},[d,h]);return s.useLayoutEffect(()=>c.listen(m),[c,m]),s.useEffect(()=>(0,o.UNSAFE_logV6DeprecationWarnings)(r),[r]),s.createElement(o.Router,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:c,future:r})}function k(e){let{basename:t,children:a,future:r,history:n}=e,[i,l]=s.useState({action:n.action,location:n.location}),{v7_startTransition:c}=r||{},u=s.useCallback(e=>{c&&b?b(()=>l(e)):l(e)},[l,c]);return s.useLayoutEffect(()=>n.listen(u),[n,u]),s.useEffect(()=>(0,o.UNSAFE_logV6DeprecationWarnings)(r),[r]),s.createElement(o.Router,{basename:t,children:a,location:i.location,navigationType:i.action,navigator:n,future:r})}let P="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement,I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D=s.forwardRef(function(e,t){let a,{onClick:r,relative:n,reloadDocument:i,replace:d,state:h,target:m,to:p,preventScrollReset:f,viewTransition:v}=e,x=u(e,g),{basename:y}=s.useContext(o.UNSAFE_NavigationContext),S=!1;if("string"==typeof p&&I.test(p)&&(a=p,P))try{let e=new URL(window.location.href),t=new URL(p.startsWith("//")?e.protocol+p:p),a=(0,l.stripBasename)(t.pathname,y);t.origin===e.origin&&null!=a?p=a+t.search+t.hash:S=!0}catch(e){}let N=(0,o.useHref)(p,{relative:n}),w=O(p,{replace:d,state:h,target:m,preventScrollReset:f,relative:n,viewTransition:v});return s.createElement("a",c({},x,{href:a||N,onClick:S||i?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:m}))}),V=s.forwardRef(function(e,t){let a,{"aria-current":r="page",caseSensitive:n=!1,className:i="",end:d=!1,style:h,to:m,viewTransition:p,children:f}=e,v=u(e,x),g=(0,o.useResolvedPath)(m,{relative:v.relative}),y=(0,o.useLocation)(),S=s.useContext(o.UNSAFE_DataRouterStateContext),{navigator:N,basename:w}=s.useContext(o.UNSAFE_NavigationContext),C=null!=S&&ea(g)&&!0===p,j=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,b=y.pathname,E=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(b=b.toLowerCase(),E=E?E.toLowerCase():null,j=j.toLowerCase()),E&&w&&(E=(0,l.stripBasename)(E,w)||E);let F="/"!==j&&j.endsWith("/")?j.length-1:j.length,A=b===j||!d&&b.startsWith(j)&&"/"===b.charAt(F),R=null!=E&&(E===j||!d&&E.startsWith(j)&&"/"===E.charAt(j.length)),L={isActive:A,isPending:R,isTransitioning:C},_=A?r:void 0;a="function"==typeof i?i(L):[i,A?"active":null,R?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let T="function"==typeof h?h(L):h;return s.createElement(D,c({},v,{"aria-current":_,className:a,ref:t,style:T,to:m,viewTransition:p}),"function"==typeof f?f(L):f)}),q=s.forwardRef((e,t)=>{let{fetcherKey:a,navigate:r,reloadDocument:n,replace:i,state:o,method:l="get",action:d,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:f}=e,v=u(e,y),g=z(),x=J(d,{relative:m}),S="get"===l.toLowerCase()?"get":"post";return s.createElement("form",c({ref:t,method:S,action:x,onSubmit:n?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null==t?void 0:t.getAttribute("formmethod"))||l;g(t||e.currentTarget,{fetcherKey:a,method:n,navigate:r,replace:i,state:o,relative:m,preventScrollReset:p,viewTransition:f})}},v))});function B(e){let{getKey:t,storageKey:a}=e;return Z({getKey:t,storageKey:a}),null}function H(e){let t=s.useContext(o.UNSAFE_DataRouterContext);return t||(0,l.UNSAFE_invariant)(!1),t}function M(e){let t=s.useContext(o.UNSAFE_DataRouterStateContext);return t||(0,l.UNSAFE_invariant)(!1),t}function O(e,t){let{target:a,replace:r,state:n,preventScrollReset:i,relative:c,viewTransition:u}=void 0===t?{}:t,d=(0,o.useNavigate)(),h=(0,o.useLocation)(),m=(0,o.useResolvedPath)(e,{relative:c});return s.useCallback(t=>{0!==t.button||a&&"_self"!==a||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),d(e,{replace:void 0!==r?r:(0,l.createPath)(h)===(0,l.createPath)(m),state:n,preventScrollReset:i,relative:c,viewTransition:u}))},[h,d,m,r,n,a,e,i,c,u])}function K(e){let t=s.useRef(m(e)),a=s.useRef(!1),r=(0,o.useLocation)(),n=s.useMemo(()=>{var e,n;let s;return e=r.search,n=a.current?null:t.current,s=m(e),n&&n.forEach((e,t)=>{s.has(t)||n.getAll(t).forEach(e=>{s.append(t,e)})}),s},[r.search]),i=(0,o.useNavigate)(),l=s.useCallback((e,t)=>{let r=m("function"==typeof e?e(n):e);a.current=!0,i("?"+r,t)},[i,n]);return[n,l]}(t=r||(r={})).UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState",(a=n||(n={})).UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration";let W=0,$=()=>"__"+String(++W)+"__";function z(){let{router:e}=H(r.UseSubmit),{basename:t}=s.useContext(o.UNSAFE_NavigationContext),a=(0,o.UNSAFE_useRouteId)();return s.useCallback(function(r,n){if(void 0===n&&(n={}),"u"<typeof document)throw Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{action:s,method:i,encType:o,formData:c,body:u}=function(e,t){let a,r,n,s,i;if(h(e)&&"form"===e.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?(0,l.stripBasename)(i,t):null,a=e.getAttribute("method")||"get",n=v(e.getAttribute("enctype"))||d,s=new FormData(e)}else if(h(e)&&"button"===e.tagName.toLowerCase()||h(e)&&"input"===e.tagName.toLowerCase()&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?(0,l.stripBasename)(o,t):null,a=e.getAttribute("formmethod")||i.getAttribute("method")||"get",n=v(e.getAttribute("formenctype"))||v(i.getAttribute("enctype"))||d,s=new FormData(i,e),!function(){if(null===p)try{new FormData(document.createElement("form"),0),p=!1}catch(e){p=!0}return p}()){let{name:t,type:a,value:r}=e;if("image"===a){let e=t?t+".":"";s.append(e+"x","0"),s.append(e+"y","0")}else t&&s.append(t,r)}}else if(h(e))throw Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else a="get",r=null,n=d,i=e;return s&&"text/plain"===n&&(i=s,s=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:s,body:i}}(r,t);if(!1===n.navigate){let t=n.fetcherKey||$();e.fetch(t,a,n.action||s,{preventScrollReset:n.preventScrollReset,formData:c,body:u,formMethod:n.method||i,formEncType:n.encType||o,flushSync:n.flushSync})}else e.navigate(n.action||s,{preventScrollReset:n.preventScrollReset,formData:c,body:u,formMethod:n.method||i,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}function J(e,t){let{relative:a}=void 0===t?{}:t,{basename:r}=s.useContext(o.UNSAFE_NavigationContext),n=s.useContext(o.UNSAFE_RouteContext);n||(0,l.UNSAFE_invariant)(!1);let[i]=n.matches.slice(-1),u=c({},(0,o.useResolvedPath)(e||".",{relative:a})),d=(0,o.useLocation)();if(null==e){u.search=d.search;let e=new URLSearchParams(u.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();u.search=a?"?"+a:""}}return(!e||"."===e)&&i.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(u.pathname="/"===u.pathname?r:(0,l.joinPaths)([r,u.pathname])),(0,l.createPath)(u)}function Y(e){var t;let{key:a}=void 0===e?{}:e,{router:i}=H(r.UseFetcher),u=M(n.UseFetcher),d=s.useContext(j),h=s.useContext(o.UNSAFE_RouteContext),m=null==(t=h.matches[h.matches.length-1])?void 0:t.route.id;d||(0,l.UNSAFE_invariant)(!1),h||(0,l.UNSAFE_invariant)(!1),null==m&&(0,l.UNSAFE_invariant)(!1);let p=F?F():"",[f,v]=s.useState(a||p);a&&a!==f?v(a):f||v($()),s.useEffect(()=>(i.getFetcher(f),()=>{i.deleteFetcher(f)}),[i,f]);let g=s.useCallback((e,t)=>{m||(0,l.UNSAFE_invariant)(!1),i.fetch(f,m,e,t)},[f,m,i]),x=z(),y=s.useCallback((e,t)=>{x(e,c({},t,{navigate:!1,fetcherKey:f}))},[f,x]),S=s.useMemo(()=>s.forwardRef((e,t)=>s.createElement(q,c({},e,{navigate:!1,fetcherKey:f,ref:t}))),[f]),N=u.fetchers.get(f)||l.IDLE_FETCHER,w=d.get(f);return s.useMemo(()=>c({Form:S,submit:y,load:g},N,{data:w}),[S,y,g,N,w])}function G(){return Array.from(M(n.UseFetchers).fetchers.entries()).map(e=>{let[t,a]=e;return c({},a,{key:t})})}let Q="react-router-scroll-positions",X={};function Z(e){let{getKey:t,storageKey:a}=void 0===e?{}:e,{router:i}=H(r.UseScrollRestoration),{restoreScrollPosition:u,preventScrollReset:d}=M(n.UseScrollRestoration),{basename:h}=s.useContext(o.UNSAFE_NavigationContext),m=(0,o.useLocation)(),p=(0,o.useMatches)(),f=(0,o.useNavigation)();s.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),function(e,t){let{capture:a}={};s.useEffect(()=>{let t=null!=a?{capture:a}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}},[e,a])}(s.useCallback(()=>{"idle"===f.state&&(X[(t?t(m,p):null)||m.key]=window.scrollY);try{sessionStorage.setItem(a||Q,JSON.stringify(X))}catch(e){}window.history.scrollRestoration="auto"},[a,t,f.state,m,p])),"u">typeof document&&(s.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(a||Q);e&&(X=JSON.parse(e))}catch(e){}},[a]),s.useLayoutEffect(()=>{let e=t&&"/"!==h?(e,a)=>t(c({},e,{pathname:(0,l.stripBasename)(e.pathname,h)||e.pathname}),a):t,a=null==i?void 0:i.enableScrollRestoration(X,()=>window.scrollY,e);return()=>a&&a()},[i,h,t]),s.useLayoutEffect(()=>{if(!1!==u){if("number"==typeof u)return void window.scrollTo(0,u);if(m.hash){let e=document.getElementById(decodeURIComponent(m.hash.slice(1)));if(e)return void e.scrollIntoView()}!0!==d&&window.scrollTo(0,0)}},[m,u,d]))}function ee(e,t){let{capture:a}=t||{};s.useEffect(()=>{let t=null!=a?{capture:a}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}},[e,a])}function et(e){let{when:t,message:a}=e,r=(0,o.useBlocker)(t);s.useEffect(()=>{"blocked"===r.state&&(window.confirm(a)?setTimeout(r.proceed,0):r.reset())},[r,a]),s.useEffect(()=>{"blocked"!==r.state||t||r.reset()},[r,t])}function ea(e,t){void 0===t&&(t={});let a=s.useContext(C);null==a&&(0,l.UNSAFE_invariant)(!1);let{basename:n}=H(r.useViewTransitionState),i=(0,o.useResolvedPath)(e,{relative:t.relative});if(!a.isTransitioning)return!1;let c=(0,l.stripBasename)(a.currentLocation.pathname,n)||a.currentLocation.pathname,u=(0,l.stripBasename)(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=(0,l.matchPath)(i.pathname,u)||null!=(0,l.matchPath)(i.pathname,c)}e.s(["BrowserRouter",()=>T,"Form",()=>q,"HashRouter",()=>U,"Link",()=>D,"NavLink",()=>V,"RouterProvider",()=>L,"ScrollRestoration",()=>B,"UNSAFE_FetchersContext",()=>j,"UNSAFE_ViewTransitionContext",()=>C,"UNSAFE_useScrollRestoration",()=>Z,"createBrowserRouter",()=>S,"createHashRouter",()=>N,"createSearchParams",()=>m,"unstable_HistoryRouter",()=>k,"unstable_usePrompt",()=>et,"useBeforeUnload",()=>ee,"useFetcher",()=>Y,"useFetchers",()=>G,"useFormAction",()=>J,"useLinkClickHandler",()=>O,"useSearchParams",()=>K,"useSubmit",()=>z,"useViewTransitionState",()=>ea])},55900,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],55900)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(47163);let n=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("div",{ref:n,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let s=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("div",{ref:n,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));s.displayName="CardHeader";let i=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("h3",{ref:n,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let o=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("p",{ref:n,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let l=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("div",{ref:n,className:(0,r.cn)("p-6 pt-0",e),...a}));l.displayName="CardContent",a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("div",{ref:n,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>n,"CardContent",()=>l,"CardDescription",()=>o,"CardHeader",()=>s,"CardTitle",()=>i])},81947,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(25913),n=e.i(47163);let s=(0,r.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=a.forwardRef(({className:e,variant:a,...r},i)=>(0,t.jsx)("div",{ref:i,role:"alert",className:(0,n.cn)(s({variant:a}),e),...r}));i.displayName="Alert",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle";let o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...a}));o.displayName="AlertDescription",e.s(["Alert",()=>i,"AlertDescription",()=>o])},21828,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(4792),n=e.i(79788),s=e.i(67881),i=e.i(23750),o=e.i(10708),l=e.i(70065),c=e.i(72520),u=e.i(31278),d=e.i(63209),h=e.i(46696),m=e.i(62870),p=e.i(81947);let f=[{code:"US",name:"United States"},{code:"CA",name:"Canada"},{code:"GB",name:"United Kingdom"},{code:"AU",name:"Australia"},{code:"DE",name:"Germany"},{code:"FR",name:"France"},{code:"JP",name:"Japan"},{code:"CN",name:"China"}],v=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];function g(){let e=(0,r.useNavigate)(),[g]=(0,n.useSearchParams)(),x=g.get("cartId"),y=localStorage.getItem("cart_id"),S=x||y,[N,w]=(0,a.useState)([]),[C,j]=(0,a.useState)(0),[b]=(0,a.useState)(.08),[E]=(0,a.useState)(9.99),[F,A]=(0,a.useState)(!0),[R,L]=(0,a.useState)(!1),[_,T]=(0,a.useState)(null),[U,k]=(0,a.useState)(null),[P,I]=(0,a.useState)(null),[D,V]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",street:"",street2:"",city:"",state:"CA",postalCode:"",country:"US"}),[q,B]=(0,a.useState)({same_as_shipping:!0,firstName:"",lastName:"",street:"",street2:"",city:"",state:"CA",postalCode:"",country:"US"}),[H,M]=(0,a.useState)({cardholderName:"",cardNumber:"",expiryMonth:"",expiryYear:"",cvv:""}),[O,K]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("customer_id");T(e),k(t?parseInt(t):null)},[e]),(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/square/config");if(e.ok){let t=await e.json();t.applicationId&&K(t.applicationId)}}catch(e){console.error("Failed to load Square config:",e)}})()},[]),(0,a.useEffect)(()=>{let e=async()=>{try{let e;if(!S){console.log("No cart ID provided, allowing checkout to proceed"),A(!1);return}let t=new AbortController,a=setTimeout(()=>t.abort(),5e3),r=await fetch(`/api/cart/${S}`,{signal:t.signal});if(clearTimeout(a),!r.ok)throw Error(`Failed to load cart (Status: ${r.status})`);let n=await r.text();try{e=n?JSON.parse(n):{}}catch{throw Error("Invalid cart response format")}w(e.data?.line_items||[]),j(e.data?.subtotal||0)}catch(e){console.error("Cart loading error:",e instanceof Error?e.message:"Failed to load cart")}finally{A(!1)}};S?e():A(!1)},[S]);let W=(e,t)=>{let a={...D,[e]:t};V(a),q.same_as_shipping&&B(e=>({...e,firstName:a.firstName,lastName:a.lastName,street:a.street,street2:a.street2,city:a.city,state:a.state,postalCode:a.postalCode,country:a.country}))},$=(e,t)=>{"same_as_shipping"===e?(B(e=>({...e,same_as_shipping:t})),t&&B(e=>({...e,firstName:D.firstName,lastName:D.lastName,street:D.street,street2:D.street2,city:D.city,state:D.state,postalCode:D.postalCode,country:D.country}))):B(a=>({...a,[e]:t}))},z=async e=>{if(e.preventDefault(),I(null),D.firstName&&D.lastName&&D.email&&D.phone&&D.street&&D.city&&D.state&&D.postalCode?!!q.same_as_shipping||!!q.firstName&&!!q.lastName&&!!q.street&&!!q.city&&!!q.state&&!!q.postalCode||(I("Please fill in all required billing fields"),!1):(I("Please fill in all required shipping fields"),!1)){L(!0);try{let e,t=C+C*b+E;console.log("Creating Square Checkout session, total:",t);let a={amount:t,currency:"USD",items:N,shippingAddress:{firstName:D.firstName,lastName:D.lastName,street:D.street,street2:D.street2,city:D.city,state:D.state,postalCode:D.postalCode,country:D.country},billingAddress:q.same_as_shipping?{firstName:D.firstName,lastName:D.lastName,street:D.street,street2:D.street2,city:D.city,state:D.state,postalCode:D.postalCode,country:D.country}:{firstName:q.firstName,lastName:q.lastName,street:q.street,street2:q.street2,city:q.city,state:q.state,postalCode:q.postalCode,country:q.country},subtotal:C,tax:C*b,shipping:E,total:t,customerId:U||void 0,customerEmail:D.email,customerName:`${D.firstName} ${D.lastName}`},r=await fetch("/api/square/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});console.log("Checkout response status:",r.status);try{e=await r.json()}catch(e){throw console.error("Failed to parse checkout response:",{error:e,status:r.status}),Error(`Checkout response parsing failed. Status: ${r.status}.`)}if(!r.ok){let t=e?.error||e?.message||`Checkout failed (${r.status})`;throw console.error("Checkout failed:",{status:r.status,error:e}),Error(t)}if(e.checkoutUrl)console.log("Redirecting to Square Checkout:",e.checkoutUrl),window.location.href=e.checkoutUrl;else throw Error("No checkout URL returned from server")}catch(t){let e=t instanceof Error?t.message:"Failed to create checkout";I(e),h.toast.error(e),console.error("Checkout creation error:",t)}finally{L(!1)}}},J=C*b,Y=C+J+E;return F?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("main",{className:"pt-20 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)(u.Loader2,{className:"w-8 h-8 animate-spin text-[#FFD713]"})})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("main",{className:"pt-20 min-h-screen bg-gray-50 py-12",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-[#030140] mb-2",children:"Checkout"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Complete your purchase"})]}),P&&(0,t.jsxs)(p.Alert,{variant:"destructive",className:"mb-6",children:[(0,t.jsx)(d.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(p.AlertDescription,{children:P})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("form",{onSubmit:z,className:"space-y-8",children:[(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"Shipping Address"}),(0,t.jsx)(l.CardDescription,{children:"Where should we deliver your order?"})]}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"firstName",children:"First Name *"}),(0,t.jsx)(i.Input,{id:"firstName",value:D.firstName,onChange:e=>W("firstName",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"lastName",children:"Last Name *"}),(0,t.jsx)(i.Input,{id:"lastName",value:D.lastName,onChange:e=>W("lastName",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"email",children:"Email Address *"}),(0,t.jsx)(i.Input,{id:"email",type:"email",value:D.email,onChange:e=>W("email",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"phone",children:"Phone Number *"}),(0,t.jsx)(i.Input,{id:"phone",type:"tel",value:D.phone,onChange:e=>W("phone",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"street",children:"Street Address *"}),(0,t.jsx)(i.Input,{id:"street",value:D.street,onChange:e=>W("street",e.target.value),placeholder:"123 Main St",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"street2",children:"Apt, Suite, etc. (optional)"}),(0,t.jsx)(i.Input,{id:"street2",value:D.street2,onChange:e=>W("street2",e.target.value),placeholder:"Apt 4B"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"city",children:"City *"}),(0,t.jsx)(i.Input,{id:"city",value:D.city,onChange:e=>W("city",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"postalCode",children:"Postal Code *"}),(0,t.jsx)(i.Input,{id:"postalCode",value:D.postalCode,onChange:e=>W("postalCode",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"country",children:"Country *"}),(0,t.jsxs)(m.Select,{value:D.country,onValueChange:e=>W("country",e),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsx)(m.SelectContent,{children:f.map(e=>(0,t.jsx)(m.SelectItem,{value:e.code,children:e.name},e.code))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"state",children:"State/Province *"}),"US"===D.country?(0,t.jsxs)(m.Select,{value:D.state,onValueChange:e=>W("state",e),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsx)(m.SelectContent,{children:v.map(e=>(0,t.jsx)(m.SelectItem,{value:e,children:e},e))})]}):(0,t.jsx)(i.Input,{value:D.state,onChange:e=>W("state",e.target.value),placeholder:"State/Province",required:!0})]})]})]})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Billing Address"})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",id:"sameAsShipping",checked:q.same_as_shipping,onChange:e=>$("same_as_shipping",e.target.checked),className:"w-4 h-4"}),(0,t.jsx)(o.Label,{htmlFor:"sameAsShipping",className:"cursor-pointer font-normal",children:"Same as shipping address"})]}),!q.same_as_shipping&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billFirstName",children:"First Name *"}),(0,t.jsx)(i.Input,{id:"billFirstName",value:q.firstName,onChange:e=>$("firstName",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billLastName",children:"Last Name *"}),(0,t.jsx)(i.Input,{id:"billLastName",value:q.lastName,onChange:e=>$("lastName",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billStreet",children:"Street Address *"}),(0,t.jsx)(i.Input,{id:"billStreet",value:q.street,onChange:e=>$("street",e.target.value),placeholder:"123 Main St",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billStreet2",children:"Apt, Suite, etc. (optional)"}),(0,t.jsx)(i.Input,{id:"billStreet2",value:q.street2,onChange:e=>$("street2",e.target.value),placeholder:"Apt 4B"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billCity",children:"City *"}),(0,t.jsx)(i.Input,{id:"billCity",value:q.city,onChange:e=>$("city",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billPostalCode",children:"Postal Code *"}),(0,t.jsx)(i.Input,{id:"billPostalCode",value:q.postalCode,onChange:e=>$("postalCode",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billCountry",children:"Country *"}),(0,t.jsxs)(m.Select,{value:q.country,onValueChange:e=>$("country",e),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsx)(m.SelectContent,{children:f.map(e=>(0,t.jsx)(m.SelectItem,{value:e.code,children:e.name},e.code))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{htmlFor:"billState",children:"State/Province *"}),"US"===q.country?(0,t.jsxs)(m.Select,{value:q.state,onValueChange:e=>$("state",e),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsx)(m.SelectContent,{children:v.map(e=>(0,t.jsx)(m.SelectItem,{value:e,children:e},e))})]}):(0,t.jsx)(i.Input,{value:q.state,onChange:e=>$("state",e.target.value),placeholder:"State/Province",required:!0})]})]})]})]})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full bg-[#FFD713] text-[#030140] hover:bg-[#FFD713]/90 py-6 text-lg font-bold disabled:opacity-50",disabled:R,children:R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:["Complete Order",(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5 ml-2"})]})})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(l.Card,{className:"sticky top-24",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Order Summary"})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto border-b pb-4",children:0===N.length?(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"No items in cart"}):N.map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.product_name||`Product #${e.product_id}`}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Qty: ",e.quantity]})]}),(0,t.jsxs)("p",{className:"font-medium",children:["$",((e.price||.25)*e.quantity).toFixed(2)]})]},a))}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsxs)("span",{children:["$",C.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Tax"}),(0,t.jsxs)("span",{children:["$",J.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Shipping"}),(0,t.jsxs)("span",{children:["$",E.toFixed(2)]})]})]}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",Y.toFixed(2)]})]})})]})]})})]})]})})})}e.s(["default",()=>g])}]);