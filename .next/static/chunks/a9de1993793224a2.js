(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12426,e=>{"use strict";let r=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>r],12426)},15788,e=>{"use strict";let r=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>r],15788)},73708,3408,e=>{"use strict";let r=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>r],3408),e.s(["Image",()=>r],73708)},88844,e=>{"use strict";let r=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>r],88844)},63209,e=>{"use strict";let r=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],63209)},69638,e=>{"use strict";let r=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>r],69638)},3116,e=>{"use strict";let r=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>r],3116)},71860,e=>{"use strict";function r(e){let r="string"==typeof e?parseInt(e,10):e;return isNaN(r)||r<=0?(console.warn("Invalid order ID for formatting:",e),`#${e}`):`SY-5${4001+r}`}e.s(["formatOrderNumber",()=>r])},78917,e=>{"use strict";let r=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>r],78917)},43711,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(88844),a=e.i(15788),l=e.i(12426),i=e.i(63209),n=e.i(55436),d=e.i(37727),c=e.i(73708),o=e.i(69638),x=e.i(3116),m=e.i(78917),g=e.i(71860);function p(){let[e,p]=(0,s.useState)("SY-54002"),[b,h]=(0,s.useState)(""),[u,y]=(0,s.useState)(!1),[f,j]=(0,s.useState)(""),[N,v]=(0,s.useState)(null),[k,w]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),T=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),F=async r=>{if(r.preventDefault(),j(""),v(null),w(!0),!e.trim())return void j("Please enter an order number");if(!b.trim())return void j("Please enter your email or phone number");try{y(!0);let r=await fetch("/api/public/orders/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderNumber:e.trim(),verificationField:b.trim()})});if(!r.ok){let e=await r.json();throw Error(e.error||"Unable to find order")}let s=await r.json();if(!s.verified)return void j("Order verification failed. Please check your details.");let t=await fetch(`/api/public/order-status?publicAccessToken=${encodeURIComponent(s.publicAccessToken)}`);if(!t.ok){let e=await t.json();throw Error(e.error||"Unable to find order")}let a=await t.json();a.success?(v(a.data),C(s.publicAccessToken)):j(a.error||"Unable to find order")}catch(e){j(e instanceof Error?e.message:"Failed to look up order")}finally{y(!1)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("main",{className:"min-h-screen bg-white text-gray-900 pt-16",children:[(0,r.jsx)("section",{className:"relative bg-white overflow-hidden py-12 sm:py-16",children:(0,r.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",style:{maxWidth:"1100px"},children:(0,r.jsxs)("div",{className:"text-center max-w-3xl mx-auto",children:[(0,r.jsxs)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:["Track Your Order",(0,r.jsx)("span",{className:"block bg-gradient-to-r from-[#F63049] to-[#d62a3f] bg-clip-text text-transparent",children:"Status & Delivery"})]}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mb-8 leading-relaxed",children:"Enter your order number to see the current status, tracking information, and estimated delivery date."})]})})}),(0,r.jsx)("section",{className:"bg-white py-8 sm:py-12",children:(0,r.jsxs)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",style:{maxWidth:"1100px"},children:[(0,r.jsx)("div",{className:"backdrop-blur-sm bg-white/40 border border-gray-200/50 rounded-xl p-6 sm:p-8 mb-8 shadow-sm",children:(0,r.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"orderNumber",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Order Number"}),(0,r.jsx)("input",{id:"orderNumber",type:"text",placeholder:"e.g., SY-54011",value:e,onChange:e=>p(e.target.value),disabled:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-50 text-gray-900 placeholder-gray-500"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Format: SY-XXXXX (found in your order confirmation email)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"verification",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Verification"}),(0,r.jsx)("input",{id:"verification",type:"text",placeholder:"Enter your email or phone number",value:b,onChange:e=>h(e.target.value),disabled:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-50 text-gray-900 placeholder-gray-500"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email or phone number associated with your order"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,r.jsxs)("button",{type:"submit",disabled:u,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 transition-all shadow-lg shadow-green-500/30 hover:shadow-xl hover:shadow-green-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(n.Search,{className:"w-5 h-5"}),u?"Searching...":"Find Order"]}),N&&(0,r.jsxs)("button",{type:"button",onClick:()=>{p(""),h(""),v(null),j(""),w(!1),C(null)},className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gray-100 border border-gray-300 text-gray-900 rounded-lg font-bold hover:bg-gray-200 transition-all",children:[(0,r.jsx)(d.X,{className:"w-5 h-5"}),"New Search"]})]})]})}),f&&(0,r.jsxs)("div",{className:"mb-8 bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[(0,r.jsx)(i.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-red-900",children:f}),"Order not found"===f&&(0,r.jsx)("p",{className:"text-xs text-red-700 mt-1",children:"Please verify your order number and try again."})]})]}),!k&&!N&&!f&&(0,r.jsxs)("div",{className:"backdrop-blur-sm bg-blue-50/40 border border-blue-200/50 rounded-xl p-8 sm:p-12 text-center",children:[(0,r.jsx)(t.Package,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"Ready to Track?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Enter your order number and email above to get started."})]}),N&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:`rounded-lg p-6 sm:p-8 ${(e=>{switch(e.toLowerCase()){case"pending":return"text-orange-600 bg-orange-50 border border-orange-200";case"processing":return"text-yellow-600 bg-yellow-50 border border-yellow-200";case"printing":return"text-purple-600 bg-purple-50 border border-purple-200";case"preparing for shipping":return"text-indigo-600 bg-indigo-50 border border-indigo-200";case"in transit":return"text-blue-600 bg-blue-50 border border-blue-200";case"shipped":return"text-emerald-600 bg-emerald-50 border border-emerald-200";case"delivered":return"text-cyan-600 bg-cyan-50 border border-cyan-200";case"completed":return"text-green-600 bg-green-50 border border-green-200";case"cancelled":return"text-red-600 bg-red-50 border border-red-200";default:return"text-gray-600 bg-gray-50 border border-gray-200"}})(N.status)}`,children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(e=>{switch(e.toLowerCase()){case"delivered":case"completed":return(0,r.jsx)(o.CheckCircle,{className:"w-5 h-5"});case"in transit":case"shipped":return(0,r.jsx)(a.Truck,{className:"w-5 h-5"});default:return(0,r.jsx)(x.Clock,{className:"w-5 h-5"})}})(N.status),(0,r.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Order Status"})]}),(0,r.jsx)("p",{className:"text-base font-semibold capitalize",children:N.status.replace(/_/g," ")})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Order #"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:(0,g.formatOrderNumber)(N.id)})]})]})}),N.trackingNumber&&(0,r.jsxs)("div",{className:"backdrop-blur-sm bg-white/40 border border-gray-200/50 rounded-xl p-6 sm:p-8 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,r.jsx)(a.Truck,{className:"w-5 h-5 text-blue-600"}),"Tracking Information"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-4 bg-blue-50/50 border border-blue-200 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Tracking Number"}),(0,r.jsx)("p",{className:"text-lg font-mono font-bold text-gray-900 mt-1",children:N.trackingNumber})]}),N.trackingUrl&&(0,r.jsxs)("a",{href:N.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors whitespace-nowrap",children:["Track Package",(0,r.jsx)(m.ExternalLink,{className:"w-4 h-4"})]})]}),N.trackingCarrier&&(0,r.jsxs)("div",{className:"p-4 bg-gray-50/50 border border-gray-200 rounded-lg",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Carrier"}),(0,r.jsx)("p",{className:"text-base font-medium text-gray-900 mt-1",children:N.trackingCarrier})]}),N.shippedDate&&(0,r.jsxs)("div",{className:"p-4 bg-gray-50/50 border border-gray-200 rounded-lg",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Shipped On"}),(0,r.jsx)("p",{className:"text-base font-medium text-gray-900 mt-1",children:T(N.shippedDate)})]})]})]}),N.digitalFiles&&N.digitalFiles.length>0&&(0,r.jsxs)("div",{className:"backdrop-blur-sm bg-white/40 border border-gray-200/50 rounded-xl p-6 sm:p-8 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,r.jsx)(c.Image,{className:"w-5 h-5 text-green-500"}),"Design Files"]}),(0,r.jsx)("div",{className:"space-y-3",children:N.digitalFiles.map(e=>(0,r.jsxs)("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 bg-gray-50/50 hover:bg-green-50/50 border border-gray-200 hover:border-green-200 rounded-lg transition-colors gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,r.jsx)(t.Package,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file_name}),e.file_size&&(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:[(e.file_size/1024/1024).toFixed(2)," ","MB"]})]})]}),(0,r.jsx)(m.ExternalLink,{className:"w-5 h-5 text-green-600 flex-shrink-0"})]},e.id))})]}),(0,r.jsxs)("div",{className:"backdrop-blur-sm bg-white/40 border border-gray-200/50 rounded-xl p-6 sm:p-8 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,r.jsx)(l.DollarSign,{className:"w-5 h-5 text-green-500"}),"Order Total Breakdown"]}),N.products&&N.products.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Item Costs"}),(0,r.jsx)("div",{className:"space-y-4 bg-gray-50 rounded-lg p-4",children:N.products.map(e=>(0,r.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-b-0 last:pb-0",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-start mb-3",children:[e.design_file_url&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{src:e.design_file_url,alt:e.product_name||"Product Design",className:"w-16 h-16 rounded border border-gray-300 object-cover"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:e.product_name||`Product ${e.product_id}`}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:_(e.line_total||0)})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mb-2",children:[e.quantity," Ã— ",_(e.price)]})]})]}),e.options&&e.options.length>0&&(0,r.jsx)("div",{className:"ml-3 mt-2 pt-2 border-t border-gray-300 space-y-1",children:e.options.map((e,s)=>(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,r.jsxs)("span",{children:[(0,r.jsxs)("span",{className:"font-semibold",children:[e.option_name,":"]})," ",e.option_value]}),e.modifier_price&&e.modifier_price>0&&(0,r.jsxs)("span",{className:"text-gray-700 font-semibold",children:["+",_(e.modifier_price)]})]},s))})]},e.id))})]}),(0,r.jsxs)("div",{className:"space-y-3 border-t border-gray-200 pt-4",children:[void 0!==N.subtotal&&(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Subtotal (Items)"}),(0,r.jsx)("span",{className:"font-semibold",children:_(N.subtotal)})]}),void 0!==N.tax&&N.tax>0&&(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Sales Tax"}),(0,r.jsx)("span",{className:"font-semibold",children:_(N.tax)})]}),void 0!==N.shipping&&N.shipping>0&&(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Shipping"}),(0,r.jsx)("span",{className:"font-semibold",children:_(N.shipping)})]}),0===N.shipping&&void 0!==N.shipping&&(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Shipping"}),(0,r.jsx)("span",{className:"font-semibold text-green-600",children:"Free"})]}),(0,r.jsxs)("div",{className:"pt-3 border-t border-gray-300 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 flex justify-between",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Final Total"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-green-600",children:_(N.total)})]})]})]}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-600 pb-4",children:["Order placed on"," ",(0,r.jsx)("span",{className:"font-semibold",children:T(N.dateCreated)})]})]})]})})]})})}e.s(["default",()=>p])}]);