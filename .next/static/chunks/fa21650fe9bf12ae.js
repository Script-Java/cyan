(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86311,e=>{"use strict";let t=(0,e.i(75254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>t],86311)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},12426,e=>{"use strict";let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},15788,e=>{"use strict";let t=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},73708,3408,e=>{"use strict";let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>t],3408),e.s(["Image",()=>t],73708)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);e.s(["Home",()=>t],94351)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},71546,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(4792),s=e.i(94351),l=e.i(1928),i=e.i(88844),o=e.i(61911),n=e.i(12426),c=e.i(17923),d=e.i(75254);let x=(0,d.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=e.i(92270),m=e.i(86536),g=e.i(64659),p=e.i(63488);let u=(0,d.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var b=e.i(7233),y=e.i(92161),f=e.i(37727),j=e.i(73708);let v=(0,d.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var w=e.i(47163);function N(){let e=(0,r.useLocation)(),[d,N]=(0,a.useState)(0),[k,C]=(0,a.useState)(!1),[S,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=!0,t=null,a=async()=>{if(e)try{let a=localStorage.getItem("authToken");if(!a){e&&N(0);return}let r=new AbortController;t=setTimeout(()=>{r.abort()},1e4);try{let s=await fetch("/api/admin/pending-orders",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},signal:r.signal});if(t&&clearTimeout(t),!s.ok)return void(401===s.status?e&&(localStorage.removeItem("authToken"),N(0)):e&&N(0));try{let t=await s.json();e&&N(t.count??t.orders?.length??0)}catch(t){e&&N(0)}}catch(a){t&&clearTimeout(t),e&&N(0)}}catch(t){e&&N(0)}},r=setTimeout(()=>{a()},500),s=setInterval(a,6e4);return()=>{e=!1,clearTimeout(r),t&&clearTimeout(t),clearInterval(s)}},[]);let T=[{label:"Dashboard",icon:(0,t.jsx)(s.Home,{className:"w-4 h-4"}),path:"/admin"},{label:"Orders",icon:(0,t.jsx)(l.ShoppingCart,{className:"w-4 h-4"}),path:"/admin/orders",badge:d},{label:"Proofs",icon:(0,t.jsx)(m.Eye,{className:"w-4 h-4"}),path:"/admin/proofs"},{label:"Products",icon:(0,t.jsx)(i.Package,{className:"w-4 h-4"}),path:"/admin/products"},{label:"Customers",icon:(0,t.jsx)(o.Users,{className:"w-4 h-4"}),path:"/admin/customers"},{label:"Finance",icon:(0,t.jsx)(n.DollarSign,{className:"w-4 h-4"}),path:"/admin/finance"},{label:"Analytics",icon:(0,t.jsx)(c.BarChart3,{className:"w-4 h-4"}),path:"/admin/analytics"}],P=[{label:"Gallery",icon:(0,t.jsx)(j.Image,{className:"w-4 h-4"}),path:"/admin/gallery"},{label:"Email",icon:(0,t.jsx)(p.Mail,{className:"w-4 h-4"}),path:"/admin/email-notifications"},{label:"Apps",icon:(0,t.jsx)(b.Plus,{className:"w-4 h-4"}),children:[{label:"Forms",icon:(0,t.jsx)(u,{className:"w-3.5 h-3.5"}),path:"/admin/apps/forms"}]}],E=t=>!!t&&(e.pathname===t||e.pathname.startsWith(t+"/")),A=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("customerId"),localStorage.removeItem("isAdmin"),window.dispatchEvent(new Event("auth-change")),window.location.href="/login"},z=e=>{e&&(window.location.href=e,C(!1),M(!1))},F=({item:e,isDropdown:a=!1,isOpen:r,onClick:s})=>{let l=E(e.path);return a?(0,t.jsxs)("button",{onClick:s,className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium whitespace-nowrap",r?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,t.jsx)("span",{children:e.label}),(0,t.jsx)(g.ChevronDown,{className:(0,w.cn)("w-4 h-4 transition-transform",r&&"rotate-180")})]}):(0,t.jsxs)("button",{onClick:()=>z(e.path),className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium whitespace-nowrap",l?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,t.jsx)("span",{children:e.label}),e.badge?(0,t.jsx)("span",{className:"ml-1 bg-red-500 text-white text-xs font-bold rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:e.badge>99?"99+":e.badge}):null]})};return(0,t.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-20 z-40",children:(0,t.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsxs)("div",{className:"flex h-14 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide",children:T.map(e=>(0,t.jsx)(F,{item:e},e.label))}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 ml-4 pl-4 border-l border-gray-200",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>M(!S),className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium",S?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,t.jsx)(v,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"More"}),(0,t.jsx)(g.ChevronDown,{className:(0,w.cn)("w-4 h-4 transition-transform",S&&"rotate-180")})]}),S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>M(!1)}),(0,t.jsx)("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-xl shadow-xl border border-gray-100 z-50 py-2",children:P.map(e=>e.children?(0,t.jsxs)("div",{className:"px-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e.label}),e.children.map(e=>(0,t.jsxs)("button",{onClick:()=>z(e.path),className:(0,w.cn)("w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all",E(e.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.label))]},e.label):(0,t.jsxs)("button",{onClick:()=>z(e.path),className:(0,w.cn)("w-full flex items-center gap-2 px-5 py-2.5 text-sm transition-all mx-2 rounded-lg",E(e.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.label))})]})]}),(0,t.jsxs)("button",{onClick:()=>window.location.href="/admin/settings",className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium",E("/admin/settings")?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,t.jsx)(x,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden xl:inline",children:"Settings"})]}),(0,t.jsxs)("button",{onClick:A,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-red-600 hover:bg-red-50 transition-all duration-200",children:[(0,t.jsx)(h.LogOut,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden xl:inline",children:"Logout"})]})]})]})}),(0,t.jsxs)("div",{className:"hidden md:flex lg:hidden h-14 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide flex-1",children:T.map(e=>(0,t.jsx)(F,{item:e},e.label))}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2 pl-2 border-l border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>M(!S),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:(0,t.jsx)(v,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>window.location.href="/admin/settings",className:(0,w.cn)("p-2 rounded-lg transition-all",E("/admin/settings")?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:(0,t.jsx)(x,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:A,className:"p-2 rounded-lg text-gray-600 hover:text-red-600 hover:bg-red-50",children:(0,t.jsx)(h.LogOut,{className:"w-4 h-4"})})]}),S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>M(!1)}),(0,t.jsx)("div",{className:"absolute right-4 top-14 mt-1 w-56 bg-white rounded-xl shadow-xl border border-gray-100 z-50 py-2",children:P.map(e=>e.children?(0,t.jsxs)("div",{className:"px-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e.label}),e.children.map(e=>(0,t.jsxs)("button",{onClick:()=>z(e.path),className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.label))]},e.label):(0,t.jsxs)("button",{onClick:()=>z(e.path),className:"w-full flex items-center gap-2 px-5 py-2.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 mx-2 rounded-lg",children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.label))})]})]}),(0,t.jsxs)("div",{className:"md:hidden",children:[(0,t.jsxs)("div",{className:"flex h-14 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-1 flex-1 overflow-x-auto scrollbar-hide",children:T.slice(0,4).map(e=>(0,t.jsxs)("button",{onClick:()=>z(e.path),className:(0,w.cn)("flex items-center gap-1 px-2 py-1.5 rounded text-xs font-medium whitespace-nowrap",E(e.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,t.jsx)("span",{children:e.label}),e.badge?(0,t.jsx)("span",{className:"bg-red-500 text-white text-[10px] font-bold rounded-full px-1",children:e.badge}):null]},e.label))}),(0,t.jsx)("button",{onClick:()=>C(!k),className:"ml-2 p-2 hover:bg-gray-100 rounded-lg",children:k?(0,t.jsx)(f.X,{className:"w-5 h-5 text-gray-900"}):(0,t.jsx)(y.Menu,{className:"w-5 h-5 text-gray-900"})})]}),k&&(0,t.jsx)("div",{className:"border-t border-gray-200 bg-gray-50/50 py-2",children:(0,t.jsxs)("div",{className:"space-y-1",children:[T.slice(4).map(e=>(0,t.jsxs)("button",{onClick:()=>z(e.path),className:(0,w.cn)("w-full flex items-center gap-2 px-4 py-2 text-sm",E(e.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,t.jsx)("span",{children:e.label}),e.badge?(0,t.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold rounded-full px-2 py-0.5",children:e.badge}):null]},e.label)),(0,t.jsx)("div",{className:"border-t border-gray-200 my-2 pt-2",children:P.map(e=>e.children?e.children.map(e=>(0,t.jsxs)("button",{onClick:()=>z(e.path),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.label)):(0,t.jsxs)("button",{onClick:()=>z(e.path),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[e.icon,(0,t.jsx)("span",{children:e.label})]},e.label))}),(0,t.jsxs)("div",{className:"border-t border-gray-200 my-2 pt-2 space-y-1",children:[(0,t.jsxs)("button",{onClick:()=>{window.location.href="/admin/settings",C(!1)},className:(0,w.cn)("w-full flex items-center gap-2 px-4 py-2 text-sm",E("/admin/settings")?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,t.jsx)(x,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Settings"})]}),(0,t.jsxs)("button",{onClick:A,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50",children:[(0,t.jsx)(h.LogOut,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Logout"})]})]})]})})]})]})})})}var k=e.i(3408),k=k,C=e.i(10980),S=e.i(78583),M=e.i(15788),T=e.i(86311),P=e.i(70273);let E=(0,d.default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),A=(0,d.default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),z=[{title:"Orders",description:"View all orders",icon:(0,t.jsx)(i.Package,{className:"w-5 h-5"}),path:"/admin/orders",color:"bg-blue-100 hover:bg-blue-200",textColor:"text-blue-600"},{title:"Proofs",description:"Manage proofs",icon:(0,t.jsx)(m.Eye,{className:"w-5 h-5"}),path:"/admin/proofs",color:"bg-orange-100 hover:bg-orange-200",textColor:"text-orange-600"},{title:"Products",description:"Manage catalog",icon:(0,t.jsx)(i.Package,{className:"w-5 h-5"}),path:"/admin/products",color:"bg-pink-100 hover:bg-pink-200",textColor:"text-pink-600"},{title:"Customers",description:"View customers",icon:(0,t.jsx)(o.Users,{className:"w-5 h-5"}),path:"/admin/customers",color:"bg-purple-100 hover:bg-purple-200",textColor:"text-purple-600"},{title:"Finance",description:"View spending",icon:(0,t.jsx)(n.DollarSign,{className:"w-5 h-5"}),path:"/admin/finance",color:"bg-green-100 hover:bg-green-200",textColor:"text-green-600"},{title:"Invoices",description:"Manage invoices",icon:(0,t.jsx)(A,{className:"w-5 h-5"}),path:"/admin/invoices",color:"bg-violet-100 hover:bg-violet-200",textColor:"text-violet-600"},{title:"Analytics",description:"View analytics",icon:(0,t.jsx)(c.BarChart3,{className:"w-5 h-5"}),path:"/admin/analytics",color:"bg-cyan-100 hover:bg-cyan-200",textColor:"text-cyan-600"},{title:"Blogs",description:"Manage blogs",icon:(0,t.jsx)(C.BookOpen,{className:"w-5 h-5"}),path:"/admin/blogs",color:"bg-indigo-100 hover:bg-indigo-200",textColor:"text-indigo-600"},{title:"Legal Pages",description:"Manage legal content",icon:(0,t.jsx)(S.FileText,{className:"w-5 h-5"}),path:"/admin/legal-pages",color:"bg-amber-100 hover:bg-amber-200",textColor:"text-amber-600"},{title:"Shipping",description:"Manage shipping options",icon:(0,t.jsx)(M.Truck,{className:"w-5 h-5"}),path:"/admin/shipping",color:"bg-teal-100 hover:bg-teal-200",textColor:"text-teal-600"},{title:"Support",description:"Answer support tickets",icon:(0,t.jsx)(T.MessageSquare,{className:"w-5 h-5"}),path:"/admin/support",color:"bg-red-100 hover:bg-red-200",textColor:"text-red-600"},{title:"Reviews",description:"Moderate customer reviews",icon:(0,t.jsx)(P.Star,{className:"w-5 h-5"}),path:"/admin/reviews",color:"bg-yellow-100 hover:bg-yellow-200",textColor:"text-yellow-600"},{title:"Email Templates",description:"View & manage email notifications",icon:(0,t.jsx)(p.Mail,{className:"w-5 h-5"}),path:"/admin/email-notifications",color:"bg-sky-100 hover:bg-sky-200",textColor:"text-sky-600"},{title:"Gallery",description:"Manage featured gallery",icon:(0,t.jsx)(k.default,{className:"w-5 h-5"}),path:"/admin/gallery",color:"bg-rose-100 hover:bg-rose-200",textColor:"text-rose-600"},{title:"Discounts",description:"Manage discount codes",icon:(0,t.jsx)(E,{className:"w-5 h-5"}),path:"/admin/discounts",color:"bg-emerald-100 hover:bg-emerald-200",textColor:"text-emerald-600"}];function F(){let{notifications:e}=function(){let[e,t]=(0,a.useState)({openTickets:0,pendingOrders:0,rejectedProofs:0}),[r,s]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=!0,a=async(e,t,a=8e3)=>{let r=new AbortController,s=setTimeout(()=>{r.signal.aborted||r.abort(Error("Request timeout"))},a);try{let a=await fetch(e,{headers:{Authorization:`Bearer ${t}`},signal:r.signal});return clearTimeout(s),a}catch(e){if(clearTimeout(s),e instanceof Error&&"AbortError"===e.name)return null;throw e}},r=async()=>{try{if(!e)return;s(!0);let r=localStorage.getItem("authToken");if(!r){e&&s(!1);return}let l=0,o=0,n=0;try{let e=await a("/api/admin/tickets",r);if(e?.ok){let t=await e.text(),a=t?JSON.parse(t):[];l=(Array.isArray(a)?a:a.tickets||[]).filter(e=>"open"===e.status||"in-progress"===e.status).length}}catch(t){e&&console.warn("Error fetching tickets:",{error:t instanceof Error?t.message:String(t)})}try{let e=await a("/api/admin/pending-orders",r);if(e?.ok){let t=await e.text();o=(t?JSON.parse(t):{count:0}).count||0}}catch(t){e&&console.warn("Error fetching pending orders:",{error:t instanceof Error?t.message:String(t)})}try{let e=await a("/api/admin/proofs",r);if(e?.ok){let t=await e.text();n=((t?JSON.parse(t):{proofs:[]}).proofs||[]).filter(e=>"revisions_requested"===e.status).length}}catch(t){e&&console.warn("Error fetching proofs:",{error:t instanceof Error?t.message:String(t)})}e&&(t({openTickets:l,pendingOrders:o,rejectedProofs:n}),i(null))}catch(t){e&&(console.error("Error in fetchNotifications:",{error:t instanceof Error?t.message:String(t)}),i(t instanceof Error?t.message:"Failed to fetch notifications"))}finally{e&&s(!1)}};r();let l=setInterval(r,3e4);return()=>{e=!1,clearInterval(l)}},[]),{notifications:e,isLoading:r,error:l}}();return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Access"}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2",children:z.map(a=>{var r;let s="Support"===(r=a.title)&&e.openTickets>0?e.openTickets:"Orders"===r&&e.pendingOrders>0?e.pendingOrders:"Proofs"===r&&e.rejectedProofs>0?e.rejectedProofs:null;return(0,t.jsxs)("button",{type:"button",onClick:()=>{var e;return e=a.path,void(window.location.href=e)},className:`relative flex flex-col items-center justify-center gap-2 p-3 rounded-lg border border-gray-200 transition-all duration-200 hover:scale-105 active:scale-95 ${a.color} cursor-pointer`,children:[(0,t.jsx)("div",{className:`${a.textColor}`,children:a.icon}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-xs font-semibold text-gray-900 line-clamp-1",children:a.title})}),null!==s&&(0,t.jsx)("div",{className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:s>99?"99+":s})]},a.path)})})]})}function O({children:e,showNavGrid:a=!0,hideQuickAccess:r=!1}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N,{}),(0,t.jsx)("main",{className:"min-h-screen bg-[#fafafa] text-gray-900 pt-20",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!r&&(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)(F,{})}),e]})})]})}e.s(["default",()=>O],71546)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},22004,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(4792),s=e.i(71546),l=e.i(69074),i=e.i(37727),o=e.i(71689),n=e.i(46696);function c(){let e=(0,r.useNavigate)(),[c,d]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[p,u]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1),[v,w]=(0,a.useState)(0),N=async()=>{try{if(!c)return void n.toast.error("Please enter customer email");if(!x)return void n.toast.error("Please enter proof subject");if(!p)return void n.toast.error("Please upload a design file");j(!0),w(0),n.toast.loading("Uploading file to Cloudinary...");let t=new FormData;t.append("file",p),t.append("upload_preset","sticky_slap_proofs");let a=await fetch("https://api.cloudinary.com/v1_1/dabgothkm/auto/upload",{method:"POST",body:t});if(w(50),!a.ok)throw Error("Failed to upload file to Cloudinary");let r=(await a.json()).secure_url;n.toast.loading("Sending proof to customer...");let s=localStorage.getItem("authToken");if(!s)throw Error("You are not logged in. Please log in and try again.");let l=await fetch("/api/admin/proofs/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({customerEmail:c,description:x,referenceNumber:m||null,fileUrl:r,fileName:p.name})});if(w(100),!l.ok){let e=await l.json();throw Error(e.error||"Failed to send proof")}n.toast.success("Proof sent to customer successfully!"),d(""),h(""),g(""),u(null),y(null),w(0),setTimeout(()=>{e("/admin/proofs")},1500)}catch(t){let e=t instanceof Error?t.message:"Failed to send proof";n.toast.error(e)}finally{j(!1)}};return(0,t.jsx)(s.default,{children:(0,t.jsx)("div",{className:"w-full pb-20 md:pb-0 px-3 sm:px-6 lg:px-8 pt-6 md:pt-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("button",{onClick:()=>e("/admin/proofs"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-4",children:[(0,t.jsx)(o.ArrowLeft,{className:"w-4 h-4"}),"Back to Proofs"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Send Design Proof"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Send a design proof directly to a customer's email"})]}),(0,t.jsx)("div",{className:"bg-white border border-gray-300 rounded-2xl p-6 sm:p-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Customer Email *"}),(0,t.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),placeholder:"customer@example.com",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 transition"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"The proof will be sent to this email address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Proof Subject/Title *"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"e.g., T-Shirt Design Mockup - Front and Back",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 transition"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Reference Number (Optional)"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"e.g., Order #12345, Project ID, etc.",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 transition"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Any reference info the customer should see (e.g., order number, project name)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Upload Design File *"}),p?(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"File Selected"}),(0,t.jsx)("button",{onClick:()=>{u(null),y(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(i.X,{className:"w-5 h-5"})})]}),b?(0,t.jsxs)("div",{children:[(0,t.jsx)("img",{src:b,alt:"Preview",className:"w-full max-h-48 object-cover rounded-lg border border-gray-300 mb-3"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:p.name})]}):(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:p.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]})}),v>0&&v<100&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${v}%`}})}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[v,"% uploaded"]})]})]}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files?.[0];if(t){if(t.size>0x3200000)return void n.toast.error("File size must be less than 50MB");if(u(t),t.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{y(e.target?.result)},e.readAsDataURL(t)}else y(null)}},accept:"image/*,.pdf",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,t.jsxs)("div",{className:"px-4 py-8 border-2 border-dashed border-gray-300 rounded-xl text-center hover:border-green-500 hover:bg-gray-50 transition-all",children:[(0,t.jsx)(l.Upload,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:"Click to upload design file"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Images or PDF (max 50MB)"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-300",children:[(0,t.jsx)("button",{onClick:()=>e("/admin/proofs"),className:"flex-1 px-4 py-3 bg-white hover:bg-gray-50 text-gray-900 font-medium text-sm rounded-xl transition-colors border border-gray-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:N,disabled:f||!c||!x||!p,className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 text-white font-medium text-sm rounded-xl transition-colors",children:f?"Sending...":"Send Proof"})]})]})}),(0,t.jsx)("div",{className:"mt-8 bg-blue-50 border border-blue-300 rounded-xl p-4",children:(0,t.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,t.jsx)("strong",{children:"ℹ️ How it works:"})," The customer will receive an email with the design proof. They can approve it, request changes, or add notes. All responses are logged and displayed next to their email in the proof records."]})})]})})})}e.s(["default",()=>c])}]);