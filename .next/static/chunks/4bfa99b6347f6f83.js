(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},86311,e=>{"use strict";let s=(0,e.i(75254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>s],86311)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],3116)},71860,e=>{"use strict";function s(e){let s="string"==typeof e?parseInt(e,10):e;return isNaN(s)||s<=0?(console.warn("Invalid order ID for formatting:",e),`#${e}`):`SY-5${4001+s}`}e.s(["formatOrderNumber",()=>s])},95468,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},40160,e=>{"use strict";let s=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>s],40160)},14764,e=>{"use strict";let s=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>s],14764)},45423,e=>{"use strict";let s=(0,e.i(75254).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>s],45423)},78894,e=>{"use strict";let s=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],78894)},30896,e=>{"use strict";let s=(0,e.i(75254).default)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);e.s(["FileIcon",()=>s],30896)},22246,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(95468),l=e.i(3116),i=e.i(86311),n=e.i(63209),m=e.i(64659),o=e.i(14764),d=e.i(78894),c=e.i(45423),x=e.i(40160),h=e.i(30896),p=e.i(46696),u=e.i(71860);function g(){let e=(0,a.useRouter)(),[g,f]=(0,t.useState)([]),[b,y]=(0,t.useState)(!0),[j,w]=(0,t.useState)(""),[N,v]=(0,t.useState)(null),[k,C]=(0,t.useState)(0),[S,_]=(0,t.useState)({}),[A,$]=(0,t.useState)({}),[T,D]=(0,t.useState)({}),[F,P]=(0,t.useState)(1),[R,q]=(0,t.useState)(null),[I,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{localStorage.getItem("authToken")?O():e.push("/login")},[e]);let O=async(e=1,s=!1)=>{try{s?M(!0):y(!0),w("");let t=localStorage.getItem("authToken"),a=await fetch(`/api/proofs?page=${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to fetch proofs")}let r=await a.json();s?f(e=>[...e,...r.proofs||[]]):f(r.proofs||[]),C(r.unreadNotifications||0),q(r.pagination||null),P(e)}catch(e){w(e instanceof Error?e.message:"Failed to load proofs")}finally{y(!1),M(!1)}},E=async e=>{try{let s=localStorage.getItem("authToken"),t=await fetch(`/api/proofs/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(!t.ok)throw Error("Failed to fetch proof details");let a=await t.json();f(s=>s.map(s=>s.id===e?a.proof:s))}catch(e){console.error("Error fetching proof detail:",e)}},z=async e=>{try{D(s=>({...s,[e]:!0}));let s=localStorage.getItem("authToken"),t=await fetch(`/api/proofs/${e}/approve`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to approve proof")}p.toast.success("Proof approved! Admin has been notified."),O()}catch(s){let e=s instanceof Error?s.message:"Failed to approve proof";p.toast.error(e)}finally{D(s=>({...s,[e]:!1}))}},B=async e=>{try{D(s=>({...s,[e]:!0}));let s=localStorage.getItem("authToken"),t=S[`deny-${e}`]||"",a=await fetch(`/api/proofs/${e}/deny`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({revisionNotes:t})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to deny proof")}p.toast.success("Revision requested. Admin will see your feedback."),_(s=>({...s,[`deny-${e}`]:""})),O()}catch(s){let e=s instanceof Error?s.message:"Failed to deny proof";p.toast.error(e)}finally{D(s=>({...s,[e]:!1}))}},L=async e=>{try{let s=S[e]?.trim();if(!s)return void p.toast.error("Please enter a comment");$(s=>({...s,[e]:!0}));let t=localStorage.getItem("authToken");if(!(await fetch(`/api/proofs/${e}/comments`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({message:s})})).ok)throw Error("Failed to add comment");_(s=>({...s,[e]:""})),p.toast.success("Comment added"),E(e)}catch(s){let e=s instanceof Error?s.message:"Failed to add comment";p.toast.error(e)}finally{$(s=>({...s,[e]:!1}))}},Y=e=>{switch(e){case"approved":return(0,s.jsx)(r.CheckCircle2,{className:"w-6 h-6 text-green-600"});case"denied":case"revisions_requested":return(0,s.jsx)(d.AlertTriangle,{className:"w-6 h-6 text-orange-600"});default:return(0,s.jsx)(l.Clock,{className:"w-6 h-6 text-blue-600"})}},H=e=>{switch(e){case"approved":return"text-green-600 bg-green-50";case"denied":case"revisions_requested":return"text-orange-600 bg-orange-50";default:return"text-blue-600 bg-blue-50"}},K=e=>{switch(e){case"approved":return"Approved";case"denied":return"Denied";case"revisions_requested":return"Revisions Requested";default:return"Pending Review"}},U=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=g.filter(e=>"pending"===e.status),J=g.filter(e=>"pending"!==e.status),W=V.length;return b?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"text-gray-600 text-lg",children:"Loading your proofs..."})}):(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 min-h-screen",children:[(0,s.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Proofs"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 sm:mt-2",children:"Review and approve design proofs for your orders"})]}),W>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-blue-50 border border-blue-200 rounded-lg px-3 sm:px-4 py-2 flex-shrink-0 text-xs sm:text-sm",children:[(0,s.jsx)(c.Bell,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0"}),(0,s.jsxs)("span",{className:"font-medium text-blue-900",children:[W," ",1===W?"proof":"proofs"," awaiting"]})]})]})}),j&&(0,s.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 flex gap-2 sm:gap-3",children:[(0,s.jsx)(n.AlertCircle,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-red-800",children:j})]}),0===g.length&&!j&&(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-8 sm:p-12 text-center",children:[(0,s.jsx)(l.Clock,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"No Proofs Yet"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Your design proofs will appear here once the admin sends them for your review."})]}),V.length>0&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"mb-3 sm:mb-4",children:(0,s.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(l.Clock,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Awaiting Your Review (",V.length,")"]})}),(0,s.jsx)("div",{className:"space-y-3 sm:space-y-4",children:V.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-blue-200 overflow-hidden hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("button",{onClick:()=>v(N===e.id?null:e.id),className:"w-full px-3 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 hover:bg-blue-50 transition-colors text-left",children:[(0,s.jsxs)("div",{className:"flex items-start sm:items-center gap-2 sm:gap-4 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"bg-blue-100 p-2 sm:p-3 rounded-lg flex-shrink-0",children:Y(e.status)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-1 sm:mb-2",children:[(0,s.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Order ",(0,u.formatOrderNumber)(e.order_id)]}),(0,s.jsx)("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-medium w-fit ${H(e.status)}`,children:K(e.status)})]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:e.description||"Design proof ready for your review"}),e.file_name&&(0,s.jsxs)("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1 truncate",children:[(0,s.jsx)(h.FileIcon,{className:"w-3 h-3 flex-shrink-0"}),(0,s.jsxs)("span",{className:"truncate",children:["File: ",e.file_name]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Sent on ",U(e.created_at)]})]})]}),(0,s.jsx)(m.ChevronDown,{className:`w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 transition-transform ${N===e.id?"rotate-180":""}`})]}),N===e.id&&(0,s.jsxs)("div",{className:"border-t border-gray-200 px-3 sm:px-6 py-4 sm:py-6 bg-gray-50 space-y-4 sm:space-y-6",children:[e.file_url&&(0,s.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-3 sm:p-4",children:[(0,s.jsxs)("h4",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center gap-2",children:[(0,s.jsx)(x.Download,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Attached File"]}),e.file_url.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp)$/i)?(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:e.file_url,alt:"Proof preview",className:"w-full max-h-96 object-contain rounded border border-gray-200 mb-2 sm:mb-3"}),(0,s.jsxs)("a",{href:e.file_url,download:e.file_name||"proof",className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(x.Download,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Download"}),(0,s.jsx)("span",{className:"sm:hidden",children:"DL"})]})]}):(0,s.jsxs)("a",{href:e.file_url,download:e.file_name||"proof",className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100 transition-colors",children:[(0,s.jsx)(h.FileIcon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-blue-900 truncate",children:e.file_name||"Proof file"}),(0,s.jsx)("p",{className:"text-xs text-blue-700",children:"Click to download"})]}),(0,s.jsx)(x.Download,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0"})]})]}),e.comments&&e.comments.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-4 flex items-center gap-2",children:[(0,s.jsx)(i.MessageSquare,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Comments"]}),(0,s.jsx)("div",{className:"space-y-3 sm:space-y-4",children:e.comments.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-3 sm:p-4",children:[(0,s.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:e.admin_email?"Admin":"You"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:U(e.created_at)})]})}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap",children:e.message})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-3 sm:p-4",children:[(0,s.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-900 mb-2",children:"Add a Comment"}),(0,s.jsx)("textarea",{value:S[e.id]||"",onChange:s=>_(t=>({...t,[e.id]:s.target.value})),placeholder:"Share your thoughts on this proof...",className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2 sm:mb-3",rows:3}),(0,s.jsxs)("button",{onClick:()=>L(e.id),disabled:A[e.id],className:"inline-flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded font-medium hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:[(0,s.jsx)(o.Send,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Post Comment"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Post"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-3 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 sm:gap-3 flex-col sm:flex-row",children:[(0,s.jsxs)("button",{onClick:()=>z(e.id),disabled:T[e.id],className:"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-green-400 transition-colors",children:[(0,s.jsx)(r.CheckCircle2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Approve"}),(0,s.jsx)("span",{className:"sm:hidden",children:"OK"})]}),(0,s.jsxs)("button",{onClick:()=>{let s=S[`deny-${e.id}`];s?.trim()||_(s=>({...s,[`deny-${e.id}`]:"Please update this design"}))},disabled:T[e.id],className:"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 disabled:bg-orange-400 transition-colors",children:[(0,s.jsx)(d.AlertTriangle,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Request Revisions"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Revise"})]})]}),S[`deny-${e.id}`]&&(0,s.jsxs)("div",{className:"mt-3 sm:mt-4",children:[(0,s.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-900 mb-2",children:"Revision Notes (Optional)"}),(0,s.jsx)("textarea",{value:S[`deny-${e.id}`]||"",onChange:s=>_(t=>({...t,[`deny-${e.id}`]:s.target.value})),placeholder:"What needs to be changed?",className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 mb-2 sm:mb-3",rows:3}),(0,s.jsxs)("button",{onClick:()=>B(e.id),disabled:T[e.id],className:"w-full px-3 sm:px-4 py-2 text-xs sm:text-sm bg-orange-600 text-white rounded font-medium hover:bg-orange-700 disabled:bg-orange-400 transition-colors",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Confirm Request for Revisions"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Confirm"})]})]})]})]})]},e.id))})]}),J.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-3 sm:mb-4",children:(0,s.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Reviewed Proofs (",J.length,")"]})}),(0,s.jsx)("div",{className:"space-y-3 sm:space-y-4",children:J.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("button",{onClick:()=>v(N===e.id?null:e.id),className:"w-full px-3 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 hover:bg-gray-50 transition-colors text-left",children:[(0,s.jsxs)("div",{className:"flex items-start sm:items-center gap-2 sm:gap-4 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"bg-gray-100 p-2 sm:p-3 rounded-lg flex-shrink-0",children:Y(e.status)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-1 sm:mb-2",children:[(0,s.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Order ",(0,u.formatOrderNumber)(e.order_id)]}),(0,s.jsx)("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-medium w-fit ${H(e.status)}`,children:K(e.status)})]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:e.description||"Design proof"}),e.file_name&&(0,s.jsxs)("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1 truncate",children:[(0,s.jsx)(h.FileIcon,{className:"w-3 h-3 flex-shrink-0"}),(0,s.jsxs)("span",{className:"truncate",children:["File: ",e.file_name]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last updated on ",U(e.updated_at)]})]})]}),(0,s.jsx)(m.ChevronDown,{className:`w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 transition-transform ${N===e.id?"rotate-180":""}`})]}),N===e.id&&(0,s.jsxs)("div",{className:"border-t border-gray-200 px-3 sm:px-6 py-4 sm:py-6 bg-gray-50 space-y-4 sm:space-y-6",children:[e.file_url&&(0,s.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-3 sm:p-4",children:[(0,s.jsxs)("h4",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3 flex items-center gap-2",children:[(0,s.jsx)(x.Download,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Attached File"]}),e.file_url.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp)$/i)?(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:e.file_url,alt:"Proof preview",className:"w-full max-h-96 object-contain rounded border border-gray-200 mb-2 sm:mb-3"}),(0,s.jsxs)("a",{href:e.file_url,download:e.file_name||"proof",className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(x.Download,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Download"}),(0,s.jsx)("span",{className:"sm:hidden",children:"DL"})]})]}):(0,s.jsxs)("a",{href:e.file_url,download:e.file_name||"proof",className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100 transition-colors",children:[(0,s.jsx)(h.FileIcon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-blue-900 truncate",children:e.file_name||"Proof file"}),(0,s.jsx)("p",{className:"text-xs text-blue-700",children:"Click to download"})]}),(0,s.jsx)(x.Download,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0"})]})]}),(0,s.jsxs)("div",{className:"p-3 sm:p-4 bg-white rounded border border-gray-200",children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-2",children:"Status"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"approved"===e.status?"âœ“ You approved this proof":"revisions_requested"===e.status?"Revisions have been requested":"This proof was denied"}),e.revision_notes&&(0,s.jsxs)("div",{className:"mt-2 sm:mt-3 p-2 sm:p-3 bg-orange-50 rounded border border-orange-200",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-orange-900 mb-1",children:"Revision Notes:"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-orange-800 whitespace-pre-wrap",children:e.revision_notes})]})]}),e.comments&&e.comments.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(i.MessageSquare,{className:"w-4 h-4"}),"Comments"]}),(0,s.jsx)("div",{className:"space-y-4",children:e.comments.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.admin_email?"Admin":"You"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:U(e.created_at)})]})}),(0,s.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.message})]},e.id))})]})]})]},e.id))})]})]})}e.s(["default",()=>g])}]);