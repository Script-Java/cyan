{"version":3,"sources":["../../../../components/dashboard/Designs.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n    Cloud,\r\n    Download,\r\n    Calendar,\r\n    Search,\r\n    Filter,\r\n    Grid3x3,\r\n    List,\r\n    ChevronDown,\r\n    X,\r\n    Star,\r\n    Eye,\r\n    Share2,\r\n    Trash2,\r\n    DownloadCloud,\r\n    ArrowRight,\r\n    Zap,\r\n    CheckCircle2,\r\n    AlertCircle,\r\n    Clock,\r\n    FileImage,\r\n    Tag,\r\n    SortAsc,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\n\r\ninterface Design {\r\n    id: string;\r\n    name: string;\r\n    url?: string;\r\n    description?: string;\r\n    type: string;\r\n    size?: string;\r\n    createdAt?: string;\r\n    approved?: boolean;\r\n    proofUrl?: string;\r\n    orderId?: number;\r\n    orderDate?: string;\r\n    orderStatus?: string;\r\n}\r\n\r\ninterface OrderDesigns {\r\n    orderId: number;\r\n    orderDate: string;\r\n    orderStatus: string;\r\n    designs: Design[];\r\n}\r\n\r\ninterface DesignsResponse {\r\n    success: boolean;\r\n    designs: OrderDesigns[];\r\n    totalOrders: number;\r\n    ordersWithDesigns: number;\r\n}\r\n\r\nexport default function Designs() {\r\n    const router = useRouter();\r\n    const [designsByOrder, setDesignsByOrder] = useState<OrderDesigns[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [expandedOrderId, setExpandedOrderId] = useState<number | null>(null);\r\n    const [viewMode, setViewMode] = useState<\"list\" | \"grid\">(\"grid\");\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [selectedDesign, setSelectedDesign] = useState<Design | null>(null);\r\n    const [sortBy, setSortBy] = useState<\"newest\" | \"oldest\" | \"name\">(\"newest\");\r\n    const [filterStatus, setFilterStatus] = useState<\r\n        \"all\" | \"approved\" | \"pending\" | \"denied\"\r\n    >(\"all\");\r\n    const [favorites, setFavorites] = useState<Set<string>>(new Set());\r\n\r\n    useEffect(() => {\r\n        // Client-side only local storage access\r\n        const savedFavorites = localStorage.getItem(\"favoriteDesigns\");\r\n        if (savedFavorites) {\r\n            setFavorites(new Set(JSON.parse(savedFavorites)));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"authToken\");\r\n\r\n        if (!token) {\r\n            router.push(\"/login\");\r\n            return;\r\n        }\r\n\r\n        const fetchDesigns = async () => {\r\n            try {\r\n                setIsLoading(true);\r\n                setError(\"\");\r\n\r\n                const response = await fetch(\"/api/designs\", {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    const errorData = await response.json();\r\n                    throw new Error(errorData.error || \"Failed to fetch designs\");\r\n                }\r\n\r\n                const data: DesignsResponse = await response.json();\r\n                setDesignsByOrder(data.designs || []);\r\n            } catch (err) {\r\n                const message =\r\n                    err instanceof Error ? err.message : \"Failed to load designs\";\r\n                setError(message);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchDesigns();\r\n    }, [router]);\r\n\r\n    // Save favorites to localStorage whenever they change\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.setItem(\r\n                \"favoriteDesigns\",\r\n                JSON.stringify(Array.from(favorites)),\r\n            );\r\n        }\r\n    }, [favorites]);\r\n\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n            year: \"numeric\",\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n        });\r\n    };\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status.toLowerCase()) {\r\n            case \"completed\":\r\n            case \"shipped\":\r\n                return {\r\n                    bg: \"bg-emerald-50\",\r\n                    text: \"text-emerald-700\",\r\n                    icon: CheckCircle2,\r\n                };\r\n            case \"pending\":\r\n            case \"processing\":\r\n                return {\r\n                    bg: \"bg-amber-50\",\r\n                    text: \"text-amber-700\",\r\n                    icon: Clock,\r\n                };\r\n            case \"cancelled\":\r\n                return {\r\n                    bg: \"bg-red-50\",\r\n                    text: \"text-red-700\",\r\n                    icon: AlertCircle,\r\n                };\r\n            default:\r\n                return {\r\n                    bg: \"bg-gray-50\",\r\n                    text: \"text-gray-700\",\r\n                    icon: FileImage,\r\n                };\r\n        }\r\n    };\r\n\r\n    const allDesigns = useMemo(() => {\r\n        return designsByOrder.flatMap((order) =>\r\n            order.designs.map((design) => ({\r\n                ...design,\r\n                orderId: order.orderId,\r\n                orderDate: order.orderDate,\r\n                orderStatus: order.orderStatus,\r\n            })),\r\n        );\r\n    }, [designsByOrder]);\r\n\r\n    const filteredDesigns = useMemo(() => {\r\n        let result = allDesigns.filter((design) => {\r\n            const matchesSearch =\r\n                design.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                design.description?.toLowerCase().includes(searchQuery.toLowerCase());\r\n\r\n            let matchesStatus = true;\r\n            if (filterStatus !== \"all\") {\r\n                if (filterStatus === \"approved\") {\r\n                    matchesStatus = design.approved === true;\r\n                } else if (filterStatus === \"pending\") {\r\n                    matchesStatus =\r\n                        design.approved === false && design.type !== \"proof_denied\";\r\n                } else if (filterStatus === \"denied\") {\r\n                    matchesStatus = design.type === \"proof_denied\";\r\n                }\r\n            }\r\n\r\n            return matchesSearch && matchesStatus;\r\n        });\r\n\r\n        // Sort\r\n        switch (sortBy) {\r\n            case \"newest\":\r\n                result.sort(\r\n                    (a, b) =>\r\n                        new Date(b.createdAt || \"\").getTime() -\r\n                        new Date(a.createdAt || \"\").getTime(),\r\n                );\r\n                break;\r\n            case \"oldest\":\r\n                result.sort(\r\n                    (a, b) =>\r\n                        new Date(a.createdAt || \"\").getTime() -\r\n                        new Date(b.createdAt || \"\").getTime(),\r\n                );\r\n                break;\r\n            case \"name\":\r\n                result.sort((a, b) => a.name.localeCompare(b.name));\r\n                break;\r\n        }\r\n\r\n        return result;\r\n    }, [allDesigns, searchQuery, sortBy, filterStatus]);\r\n\r\n    const totalDesigns = allDesigns.length;\r\n    const approvedDesigns = allDesigns.filter((d) => d.approved).length;\r\n\r\n    const toggleFavorite = (designId: string) => {\r\n        setFavorites((prev) => {\r\n            const newFavorites = new Set(prev);\r\n            if (newFavorites.has(designId)) {\r\n                newFavorites.delete(designId);\r\n            } else {\r\n                newFavorites.add(designId);\r\n            }\r\n            return newFavorites;\r\n        });\r\n    };\r\n\r\n    const downloadAllDesigns = () => {\r\n        allDesigns.forEach((design) => {\r\n            if (design.url) {\r\n                const link = document.createElement(\"a\");\r\n                link.href = design.url;\r\n                link.download = design.name || \"design\";\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n            }\r\n        });\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-64\">\r\n                <div className=\"text-gray-600 text-lg\">\r\n                    Loading your designs...\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg p-4 sm:p-6 min-h-screen\">\r\n            {/* Header Section */}\r\n            <div className=\"mb-6 sm:mb-10\">\r\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-8\">\r\n                    <div>\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                            <h1 className=\"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent\">\r\n                                Design Library\r\n                            </h1>\r\n                            <Zap className=\"w-6 h-6 sm:w-8 sm:h-8 text-amber-500 flex-shrink-0\" />\r\n                        </div>\r\n                        <p className=\"text-gray-600 text-base sm:text-lg\">\r\n                            {totalDesigns > 0\r\n                                ? \"Organize, preview, and manage all your design files\"\r\n                                : \"Your design library is ready for your first order\"}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Stats Grid */}\r\n                {totalDesigns > 0 && (\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\r\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-gray-600 mb-2\">\r\n                                        Total Designs\r\n                                    </p>\r\n                                    <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\r\n                                        {totalDesigns}\r\n                                    </p>\r\n                                </div>\r\n                                <FileImage className=\"w-8 h-8 text-blue-500 opacity-20\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-gray-600 mb-2\">\r\n                                        Orders\r\n                                    </p>\r\n                                    <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\r\n                                        {designsByOrder.length}\r\n                                    </p>\r\n                                </div>\r\n                                <Calendar className=\"w-8 h-8 text-emerald-500 opacity-20\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-gray-600 mb-2\">\r\n                                        Approved\r\n                                    </p>\r\n                                    <p className=\"text-2xl sm:text-3xl font-bold text-emerald-600\">\r\n                                        {approvedDesigns}\r\n                                    </p>\r\n                                </div>\r\n                                <CheckCircle2 className=\"w-8 h-8 text-emerald-500 opacity-20\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-gray-600 mb-2\">\r\n                                        Favorites\r\n                                    </p>\r\n                                    <p className=\"text-2xl sm:text-3xl font-bold text-amber-600\">\r\n                                        {favorites.size}\r\n                                    </p>\r\n                                </div>\r\n                                <Star className=\"w-8 h-8 text-amber-500 opacity-20 fill-current\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n                <div className=\"mb-8 bg-red-50 border border-red-200 rounded-xl p-4 flex gap-3\">\r\n                    <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n                    <p className=\"text-sm text-red-800\">{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Empty State */}\r\n            {totalDesigns === 0 && !error && (\r\n                <div className=\"bg-white rounded-2xl border border-gray-200 p-8 sm:p-16 text-center\">\r\n                    <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-100 to-blue-50 mb-6\">\r\n                        <Cloud className=\"w-8 h-8 text-blue-600\" />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\r\n                        No Designs Yet\r\n                    </h2>\r\n                    <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\r\n                        Once you upload designs with an order, they'll appear here.\r\n                        Start creating your first design order today!\r\n                    </p>\r\n                    <Button\r\n                        onClick={() => router.push(\"/ecwid-store\")}\r\n                        className=\"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-8 py-2 rounded-lg font-medium transition-all\"\r\n                    >\r\n                        Create Your First Order\r\n                    </Button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Controls and Filters */}\r\n            {totalDesigns > 0 && (\r\n                <div className=\"mb-8 space-y-4\">\r\n                    {/* Search Bar */}\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search designs by name or description...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white text-sm\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Filter and View Controls */}\r\n                    <div className=\"flex flex-col xl:flex-row gap-4 items-start xl:items-center justify-between\">\r\n                        <div className=\"flex flex-wrap gap-3 w-full xl:w-auto\">\r\n                            {/* Filter by Status */}\r\n                            <div className=\"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 flex-1 xl:flex-none\">\r\n                                <Filter className=\"w-5 h-5 text-gray-400 ml-3 flex-shrink-0\" />\r\n                                <select\r\n                                    value={filterStatus}\r\n                                    onChange={(e) =>\r\n                                        setFilterStatus(\r\n                                            e.target.value as\r\n                                            | \"all\"\r\n                                            | \"approved\"\r\n                                            | \"pending\"\r\n                                            | \"denied\",\r\n                                        )\r\n                                    }\r\n                                    className=\"px-3 py-2 text-sm font-medium border-0 focus:outline-none bg-transparent cursor-pointer w-full\"\r\n                                >\r\n                                    <option value=\"all\">All Status</option>\r\n                                    <option value=\"approved\">✅ Approved</option>\r\n                                    <option value=\"pending\">⏱ Pending</option>\r\n                                    <option value=\"denied\">✕ Denied</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Sort Options */}\r\n                            <div className=\"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 flex-1 xl:flex-none\">\r\n                                <SortAsc className=\"w-5 h-5 text-gray-400 ml-3 flex-shrink-0\" />\r\n                                <select\r\n                                    value={sortBy}\r\n                                    onChange={(e) =>\r\n                                        setSortBy(\r\n                                            e.target.value as \"newest\" | \"oldest\" | \"name\",\r\n                                        )\r\n                                    }\r\n                                    className=\"px-3 py-2 text-sm font-medium border-0 focus:outline-none bg-transparent cursor-pointer w-full\"\r\n                                >\r\n                                    <option value=\"newest\">Newest First</option>\r\n                                    <option value=\"oldest\">Oldest First</option>\r\n                                    <option value=\"name\">By Name</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-2 w-full xl:w-auto\">\r\n                            {/* View Mode Toggle */}\r\n                            <div className=\"flex items-center gap-1 bg-white border border-gray-200 rounded-xl p-1\">\r\n                                <button\r\n                                    onClick={() => setViewMode(\"grid\")}\r\n                                    className={`p-2 rounded transition-all ${viewMode === \"grid\"\r\n                                        ? \"bg-blue-100 text-blue-700\"\r\n                                        : \"text-gray-600 hover:bg-gray-100\"\r\n                                        }`}\r\n                                    title=\"Grid view\"\r\n                                >\r\n                                    <Grid3x3 className=\"w-5 h-5\" />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setViewMode(\"list\")}\r\n                                    className={`p-2 rounded transition-all ${viewMode === \"list\"\r\n                                        ? \"bg-blue-100 text-blue-700\"\r\n                                        : \"text-gray-600 hover:bg-gray-100\"\r\n                                        }`}\r\n                                    title=\"List view\"\r\n                                >\r\n                                    <List className=\"w-5 h-5\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Download All */}\r\n                            <button\r\n                                onClick={downloadAllDesigns}\r\n                                className=\"flex-1 xl:flex-none flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-all\"\r\n                                title=\"Download all designs\"\r\n                            >\r\n                                <DownloadCloud className=\"w-5 h-5\" />\r\n                                <span className=\"inline\">Download All</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* No Results */}\r\n            {filteredDesigns.length === 0 && totalDesigns > 0 && (\r\n                <div className=\"bg-white rounded-2xl border border-gray-200 p-12 text-center\">\r\n                    <Search className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                        No designs found\r\n                    </h2>\r\n                    <p className=\"text-gray-600\">\r\n                        Try adjusting your search or filters to find what you're looking\r\n                        for.\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Designs Grid/List View */}\r\n            {filteredDesigns.length > 0 && viewMode === \"grid\" && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n                    {filteredDesigns.map((design) => (\r\n                        <div\r\n                            key={design.id}\r\n                            className=\"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl hover:border-gray-300 transition-all duration-300 flex flex-col\"\r\n                        >\r\n                            {/* Image Container */}\r\n                            <div className=\"relative bg-gradient-to-br from-slate-100 to-slate-50 h-48 overflow-hidden flex items-center justify-center\">\r\n                                {design.url ? (\r\n                                    <>\r\n                                        <img\r\n                                            src={design.url}\r\n                                            alt={design.name}\r\n                                            className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\r\n                                        />\r\n                                        <div className=\"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity\" />\r\n                                    </>\r\n                                ) : (\r\n                                    <Cloud className=\"w-16 h-16 text-gray-300\" />\r\n                                )}\r\n\r\n                                {/* Overlay Actions */}\r\n                                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100\">\r\n                                    <button\r\n                                        onClick={() => setSelectedDesign(design)}\r\n                                        className=\"p-2 bg-white rounded-full hover:bg-gray-100 transition-all\"\r\n                                        title=\"Preview\"\r\n                                    >\r\n                                        <Eye className=\"w-5 h-5 text-gray-700\" />\r\n                                    </button>\r\n                                    {design.url && (\r\n                                        <a\r\n                                            href={design.url}\r\n                                            download={design.name}\r\n                                            className=\"p-2 bg-white rounded-full hover:bg-gray-100 transition-all\"\r\n                                            title=\"Download\"\r\n                                        >\r\n                                            <Download className=\"w-5 h-5 text-gray-700\" />\r\n                                        </a>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Status Badge */}\r\n                                <div className=\"absolute top-3 right-3 flex gap-2\">\r\n                                    {design.type === \"proof\" && (\r\n                                        <span className=\"px-2 py-1 bg-blue-500 text-white text-xs font-semibold rounded-lg\">\r\n                                            Proof\r\n                                        </span>\r\n                                    )}\r\n                                    {design.type === \"proof_denied\" && (\r\n                                        <span className=\"px-2 py-1 bg-red-500 text-white text-xs font-semibold rounded-lg\">\r\n                                            Denied\r\n                                        </span>\r\n                                    )}\r\n                                    {design.approved && (\r\n                                        <span className=\"px-2 py-1 bg-emerald-500 text-white text-xs font-semibold rounded-lg flex items-center gap-1\">\r\n                                            <CheckCircle2 className=\"w-3 h-3\" />\r\n                                            Approved\r\n                                        </span>\r\n                                    )}\r\n                                    {favorites.has(design.id) && (\r\n                                        <span className=\"p-2 bg-amber-500 text-white rounded-lg\">\r\n                                            <Star className=\"w-4 h-4 fill-current\" />\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Content */}\r\n                            <div className=\"p-4 flex-1 flex flex-col\">\r\n                                <h3 className=\"font-semibold text-gray-900 text-sm mb-1 truncate\">\r\n                                    {design.name}\r\n                                </h3>\r\n                                {design.description && (\r\n                                    <p className=\"text-xs text-gray-600 mb-3 line-clamp-2\">\r\n                                        {design.description}\r\n                                    </p>\r\n                                )}\r\n\r\n                                {design.createdAt && (\r\n                                    <p className=\"text-xs text-gray-500 mb-3\">\r\n                                        {formatDate(design.createdAt)}\r\n                                    </p>\r\n                                )}\r\n\r\n                                {design.size && (\r\n                                    <p className=\"text-xs text-gray-600 mb-3\">\r\n                                        Size: {design.size}\r\n                                    </p>\r\n                                )}\r\n\r\n                                <div className=\"mt-auto pt-3 border-t border-gray-100 flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => toggleFavorite(design.id)}\r\n                                        className=\"flex-1 p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors flex items-center justify-center gap-1\"\r\n                                        title={\r\n                                            favorites.has(design.id)\r\n                                                ? \"Remove favorite\"\r\n                                                : \"Add favorite\"\r\n                                        }\r\n                                    >\r\n                                        <Star\r\n                                            className={`w-4 h-4 ${favorites.has(design.id) ? \"fill-current\" : \"\"\r\n                                                }`}\r\n                                        />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setSelectedDesign(design)}\r\n                                        className=\"flex-1 p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors flex items-center justify-center gap-1\"\r\n                                        title=\"View details\"\r\n                                    >\r\n                                        <Eye className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Designs List View */}\r\n            {filteredDesigns.length > 0 && viewMode === \"list\" && (\r\n                <div className=\"space-y-3\">\r\n                    {filteredDesigns.map((design) => (\r\n                        <div\r\n                            key={design.id}\r\n                            className=\"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-lg transition-all flex items-center justify-between gap-4 group\"\r\n                        >\r\n                            <div className=\"flex items-center gap-4 flex-1 min-w-0\">\r\n                                <div className=\"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg flex-shrink-0 flex items-center justify-center overflow-hidden\">\r\n                                    {design.url ? (\r\n                                        <img\r\n                                            src={design.url}\r\n                                            alt={design.name}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                        />\r\n                                    ) : (\r\n                                        <Cloud className=\"w-8 h-8 text-gray-300\" />\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"flex items-center gap-3 mb-2 flex-wrap\">\r\n                                        <h4 className=\"font-semibold text-gray-900 text-sm truncate\">\r\n                                            {design.name}\r\n                                        </h4>\r\n                                        {design.type === \"proof\" && (\r\n                                            <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-lg flex-shrink-0\">\r\n                                                Proof\r\n                                            </span>\r\n                                        )}\r\n                                        {design.type === \"proof_denied\" && (\r\n                                            <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-red-50 text-red-700 text-xs font-semibold rounded-lg flex-shrink-0\">\r\n                                                Denied\r\n                                            </span>\r\n                                        )}\r\n                                        {design.approved && (\r\n                                            <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-emerald-50 text-emerald-700 text-xs font-semibold rounded-lg flex-shrink-0\">\r\n                                                <CheckCircle2 className=\"w-3 h-3\" />\r\n                                                Approved\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                    {design.description && (\r\n                                        <p className=\"text-xs text-gray-600 mb-1 truncate\">\r\n                                            {design.description}\r\n                                        </p>\r\n                                    )}\r\n                                    <p className=\"text-xs text-gray-500\">\r\n                                        Order #{design.orderId} •{\" \"}\r\n                                        {formatDate(design.createdAt || \"\")}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                                <button\r\n                                    onClick={() => toggleFavorite(design.id)}\r\n                                    className={`p-2 rounded-lg transition-colors ${favorites.has(design.id)\r\n                                        ? \"bg-amber-50 text-amber-600\"\r\n                                        : \"text-gray-600 hover:bg-gray-100\"\r\n                                        }`}\r\n                                >\r\n                                    <Star\r\n                                        className={`w-4 h-4 ${favorites.has(design.id) ? \"fill-current\" : \"\"\r\n                                            }`}\r\n                                    />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setSelectedDesign(design)}\r\n                                    className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                    <Eye className=\"w-4 h-4\" />\r\n                                </button>\r\n                                {design.url && (\r\n                                    <a\r\n                                        href={design.url}\r\n                                        download={design.name}\r\n                                        className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                    >\r\n                                        <Download className=\"w-4 h-4\" />\r\n                                    </a>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Design Detail Modal */}\r\n            <Dialog\r\n                open={!!selectedDesign}\r\n                onOpenChange={(open) => {\r\n                    if (!open) setSelectedDesign(null);\r\n                }}\r\n            >\r\n                <DialogContent className=\"max-w-2xl bg-white\">\r\n                    {selectedDesign && (\r\n                        <>\r\n                            <DialogHeader>\r\n                                <div className=\"flex items-start justify-between gap-4\">\r\n                                    <div className=\"flex-1\">\r\n                                        <DialogTitle className=\"text-2xl\">\r\n                                            {selectedDesign.name}\r\n                                        </DialogTitle>\r\n                                        <DialogDescription className=\"text-base mt-2\">\r\n                                            {formatDate(selectedDesign.createdAt || \"\")}\r\n                                        </DialogDescription>\r\n                                    </div>\r\n                                    <div className=\"flex-shrink-0 text-right\">\r\n                                        <div className=\"text-xs font-semibold text-gray-600 uppercase mb-1\">\r\n                                            Order Number\r\n                                        </div>\r\n                                        <div className=\"text-2xl font-bold text-blue-600\">\r\n                                            #{selectedDesign.orderId}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </DialogHeader>\r\n\r\n                            <div className=\"space-y-6 py-4\">\r\n                                {/* Preview */}\r\n                                <div className=\"bg-gradient-to-br from-slate-100 to-slate-50 rounded-xl overflow-hidden flex items-center justify-center min-h-96\">\r\n                                    {selectedDesign.url ? (\r\n                                        <img\r\n                                            src={selectedDesign.url}\r\n                                            alt={selectedDesign.name}\r\n                                            className=\"max-w-full max-h-full object-contain p-4\"\r\n                                        />\r\n                                    ) : (\r\n                                        <Cloud className=\"w-24 h-24 text-gray-300\" />\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Details */}\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <p className=\"text-xs font-semibold text-gray-600 uppercase mb-1\">\r\n                                            Order\r\n                                        </p>\r\n                                        <p className=\"text-sm text-gray-900 font-semibold\">\r\n                                            #{selectedDesign.orderId}\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <p className=\"text-xs font-semibold text-gray-600 uppercase mb-1\">\r\n                                            Date\r\n                                        </p>\r\n                                        <p className=\"text-sm text-gray-900 font-semibold\">\r\n                                            {formatDate(selectedDesign.createdAt || \"\")}\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    {selectedDesign.size && (\r\n                                        <div className=\"col-span-2\">\r\n                                            <p className=\"text-xs font-semibold text-gray-600 uppercase mb-1\">\r\n                                                Size\r\n                                            </p>\r\n                                            <p className=\"text-sm text-gray-900 font-semibold\">\r\n                                                {selectedDesign.size}\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {selectedDesign.description && (\r\n                                        <div className=\"col-span-2\">\r\n                                            <p className=\"text-xs font-semibold text-gray-600 uppercase mb-1\">\r\n                                                Description\r\n                                            </p>\r\n                                            <p className=\"text-sm text-gray-600\">\r\n                                                {selectedDesign.description}\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Actions */}\r\n                                <div className=\"flex gap-3 pt-4 border-t border-gray-100\">\r\n                                    {selectedDesign.url && (\r\n                                        <a\r\n                                            href={selectedDesign.url}\r\n                                            download={selectedDesign.name}\r\n                                            className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-xl font-medium transition-all flex items-center justify-center gap-2\"\r\n                                        >\r\n                                            <Download className=\"w-5 h-5\" />\r\n                                            Download\r\n                                        </a>\r\n                                    )}\r\n                                    <button\r\n                                        onClick={() => toggleFavorite(selectedDesign.id)}\r\n                                        className={`flex-1 px-4 py-2.5 rounded-xl font-medium transition-all flex items-center justify-center gap-2 border ${favorites.has(selectedDesign.id)\r\n                                            ? \"bg-amber-50 border-amber-200 text-amber-700\"\r\n                                            : \"bg-white border-gray-200 text-gray-700 hover:bg-gray-50\"\r\n                                            }`}\r\n                                    >\r\n                                        <Star\r\n                                            className={`w-5 h-5 ${favorites.has(selectedDesign.id) ? \"fill-current\" : \"\"\r\n                                                }`}\r\n                                        />\r\n                                        {favorites.has(selectedDesign.id)\r\n                                            ? \"Favorited\"\r\n                                            : \"Add to Favorites\"}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}