module.exports=[14001,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65967),e=a.i(81010),f=a.i(38784),g=a.i(83497),h=a.i(60246),i=a.i(90166),j=a.i(39761),k=a.i(70106);let l=(0,k.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=a.i(20005),n=a.i(77156),o=a.i(5784),p=a.i(92258);let q=(0,k.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var r=a.i(15618),s=a.i(72692),t=a.i(34075),u=a.i(38632);let v=(0,k.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var w=a.i(97895);function x(){let a=(0,d.useLocation)(),[k,x]=(0,c.useState)(0),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=!0,b=null,c=async()=>{if(a)try{let c=localStorage.getItem("authToken");if(!c){a&&x(0);return}let d=new AbortController;b=setTimeout(()=>{d.abort()},1e4);try{let e=await fetch("/api/admin/pending-orders",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},signal:d.signal});if(b&&clearTimeout(b),!e.ok)return void(401===e.status?a&&(localStorage.removeItem("authToken"),x(0)):a&&x(0));try{let b=await e.json();a&&x(b.count??b.orders?.length??0)}catch(b){a&&x(0)}}catch(c){b&&clearTimeout(b),a&&x(0)}}catch(b){a&&x(0)}},d=setTimeout(()=>{c()},500),e=setInterval(c,6e4);return()=>{a=!1,clearTimeout(d),b&&clearTimeout(b),clearInterval(e)}},[]);let C=[{label:"Dashboard",icon:(0,b.jsx)(e.Home,{className:"w-4 h-4"}),path:"/admin"},{label:"Orders",icon:(0,b.jsx)(f.ShoppingCart,{className:"w-4 h-4"}),path:"/admin/orders",badge:k},{label:"Proofs",icon:(0,b.jsx)(n.Eye,{className:"w-4 h-4"}),path:"/admin/proofs"},{label:"Products",icon:(0,b.jsx)(g.Package,{className:"w-4 h-4"}),path:"/admin/products"},{label:"Customers",icon:(0,b.jsx)(h.Users,{className:"w-4 h-4"}),path:"/admin/customers"},{label:"Finance",icon:(0,b.jsx)(i.DollarSign,{className:"w-4 h-4"}),path:"/admin/finance"},{label:"Analytics",icon:(0,b.jsx)(j.BarChart3,{className:"w-4 h-4"}),path:"/admin/analytics"}],D=[{label:"Gallery",icon:(0,b.jsx)(u.Image,{className:"w-4 h-4"}),path:"/admin/gallery"},{label:"Email",icon:(0,b.jsx)(p.Mail,{className:"w-4 h-4"}),path:"/admin/email-notifications"},{label:"Apps",icon:(0,b.jsx)(r.Plus,{className:"w-4 h-4"}),children:[{label:"Forms",icon:(0,b.jsx)(q,{className:"w-3.5 h-3.5"}),path:"/admin/apps/forms"}]}],E=b=>!!b&&(a.pathname===b||a.pathname.startsWith(b+"/")),F=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("customerId"),localStorage.removeItem("isAdmin"),window.dispatchEvent(new Event("auth-change")),window.location.href="/login"},G=a=>{a&&(window.location.href=a,z(!1),B(!1))},H=({item:a,isDropdown:c=!1,isOpen:d,onClick:e})=>{let f=E(a.path);return c?(0,b.jsxs)("button",{onClick:e,className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium whitespace-nowrap",d?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[a.icon,(0,b.jsx)("span",{children:a.label}),(0,b.jsx)(o.ChevronDown,{className:(0,w.cn)("w-4 h-4 transition-transform",d&&"rotate-180")})]}):(0,b.jsxs)("button",{onClick:()=>G(a.path),className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium whitespace-nowrap",f?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[a.icon,(0,b.jsx)("span",{children:a.label}),a.badge?(0,b.jsx)("span",{className:"ml-1 bg-red-500 text-white text-xs font-bold rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:a.badge>99?"99+":a.badge}):null]})};return(0,b.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-20 z-40",children:(0,b.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsxs)("div",{className:"flex h-14 items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide",children:C.map(a=>(0,b.jsx)(H,{item:a},a.label))}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 ml-4 pl-4 border-l border-gray-200",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>B(!A),className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium",A?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,b.jsx)(v,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"More"}),(0,b.jsx)(o.ChevronDown,{className:(0,w.cn)("w-4 h-4 transition-transform",A&&"rotate-180")})]}),A&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>B(!1)}),(0,b.jsx)("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-xl shadow-xl border border-gray-100 z-50 py-2",children:D.map(a=>a.children?(0,b.jsxs)("div",{className:"px-2",children:[(0,b.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.label}),a.children.map(a=>(0,b.jsxs)("button",{onClick:()=>G(a.path),className:(0,w.cn)("w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all",E(a.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[a.icon,(0,b.jsx)("span",{children:a.label})]},a.label))]},a.label):(0,b.jsxs)("button",{onClick:()=>G(a.path),className:(0,w.cn)("w-full flex items-center gap-2 px-5 py-2.5 text-sm transition-all mx-2 rounded-lg",E(a.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[a.icon,(0,b.jsx)("span",{children:a.label})]},a.label))})]})]}),(0,b.jsxs)("button",{onClick:()=>window.location.href="/admin/settings",className:(0,w.cn)("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 text-sm font-medium",E("/admin/settings")?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,b.jsx)(l,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden xl:inline",children:"Settings"})]}),(0,b.jsxs)("button",{onClick:F,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-red-600 hover:bg-red-50 transition-all duration-200",children:[(0,b.jsx)(m.LogOut,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden xl:inline",children:"Logout"})]})]})]})}),(0,b.jsxs)("div",{className:"hidden md:flex lg:hidden h-14 items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide flex-1",children:C.map(a=>(0,b.jsx)(H,{item:a},a.label))}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2 pl-2 border-l border-gray-200",children:[(0,b.jsx)("button",{onClick:()=>B(!A),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:(0,b.jsx)(v,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>window.location.href="/admin/settings",className:(0,w.cn)("p-2 rounded-lg transition-all",E("/admin/settings")?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:(0,b.jsx)(l,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:F,className:"p-2 rounded-lg text-gray-600 hover:text-red-600 hover:bg-red-50",children:(0,b.jsx)(m.LogOut,{className:"w-4 h-4"})})]}),A&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>B(!1)}),(0,b.jsx)("div",{className:"absolute right-4 top-14 mt-1 w-56 bg-white rounded-xl shadow-xl border border-gray-100 z-50 py-2",children:D.map(a=>a.children?(0,b.jsxs)("div",{className:"px-2",children:[(0,b.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:a.label}),a.children.map(a=>(0,b.jsxs)("button",{onClick:()=>G(a.path),className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[a.icon,(0,b.jsx)("span",{children:a.label})]},a.label))]},a.label):(0,b.jsxs)("button",{onClick:()=>G(a.path),className:"w-full flex items-center gap-2 px-5 py-2.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 mx-2 rounded-lg",children:[a.icon,(0,b.jsx)("span",{children:a.label})]},a.label))})]})]}),(0,b.jsxs)("div",{className:"md:hidden",children:[(0,b.jsxs)("div",{className:"flex h-14 items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-1 flex-1 overflow-x-auto scrollbar-hide",children:C.slice(0,4).map(a=>(0,b.jsxs)("button",{onClick:()=>G(a.path),className:(0,w.cn)("flex items-center gap-1 px-2 py-1.5 rounded text-xs font-medium whitespace-nowrap",E(a.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[a.icon,(0,b.jsx)("span",{children:a.label}),a.badge?(0,b.jsx)("span",{className:"bg-red-500 text-white text-[10px] font-bold rounded-full px-1",children:a.badge}):null]},a.label))}),(0,b.jsx)("button",{onClick:()=>z(!y),className:"ml-2 p-2 hover:bg-gray-100 rounded-lg",children:y?(0,b.jsx)(t.X,{className:"w-5 h-5 text-gray-900"}):(0,b.jsx)(s.Menu,{className:"w-5 h-5 text-gray-900"})})]}),y&&(0,b.jsx)("div",{className:"border-t border-gray-200 bg-gray-50/50 py-2",children:(0,b.jsxs)("div",{className:"space-y-1",children:[C.slice(4).map(a=>(0,b.jsxs)("button",{onClick:()=>G(a.path),className:(0,w.cn)("w-full flex items-center gap-2 px-4 py-2 text-sm",E(a.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[a.icon,(0,b.jsx)("span",{children:a.label}),a.badge?(0,b.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold rounded-full px-2 py-0.5",children:a.badge}):null]},a.label)),(0,b.jsx)("div",{className:"border-t border-gray-200 my-2 pt-2",children:D.map(a=>a.children?a.children.map(a=>(0,b.jsxs)("button",{onClick:()=>G(a.path),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[a.icon,(0,b.jsx)("span",{children:a.label})]},a.label)):(0,b.jsxs)("button",{onClick:()=>G(a.path),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[a.icon,(0,b.jsx)("span",{children:a.label})]},a.label))}),(0,b.jsxs)("div",{className:"border-t border-gray-200 my-2 pt-2 space-y-1",children:[(0,b.jsxs)("button",{onClick:()=>{window.location.href="/admin/settings",z(!1)},className:(0,w.cn)("w-full flex items-center gap-2 px-4 py-2 text-sm",E("/admin/settings")?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,b.jsx)(l,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Settings"})]}),(0,b.jsxs)("button",{onClick:F,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50",children:[(0,b.jsx)(m.LogOut,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Logout"})]})]})]})})]})]})})})}var y=a.i(49625),y=y,z=a.i(53722),A=a.i(4720),B=a.i(10227),C=a.i(63588),D=a.i(21374);let E=(0,k.default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),F=(0,k.default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),G=[{title:"Orders",description:"View all orders",icon:(0,b.jsx)(g.Package,{className:"w-5 h-5"}),path:"/admin/orders",color:"bg-blue-100 hover:bg-blue-200",textColor:"text-blue-600"},{title:"Proofs",description:"Manage proofs",icon:(0,b.jsx)(n.Eye,{className:"w-5 h-5"}),path:"/admin/proofs",color:"bg-orange-100 hover:bg-orange-200",textColor:"text-orange-600"},{title:"Products",description:"Manage catalog",icon:(0,b.jsx)(g.Package,{className:"w-5 h-5"}),path:"/admin/products",color:"bg-pink-100 hover:bg-pink-200",textColor:"text-pink-600"},{title:"Customers",description:"View customers",icon:(0,b.jsx)(h.Users,{className:"w-5 h-5"}),path:"/admin/customers",color:"bg-purple-100 hover:bg-purple-200",textColor:"text-purple-600"},{title:"Finance",description:"View spending",icon:(0,b.jsx)(i.DollarSign,{className:"w-5 h-5"}),path:"/admin/finance",color:"bg-green-100 hover:bg-green-200",textColor:"text-green-600"},{title:"Invoices",description:"Manage invoices",icon:(0,b.jsx)(F,{className:"w-5 h-5"}),path:"/admin/invoices",color:"bg-violet-100 hover:bg-violet-200",textColor:"text-violet-600"},{title:"Analytics",description:"View analytics",icon:(0,b.jsx)(j.BarChart3,{className:"w-5 h-5"}),path:"/admin/analytics",color:"bg-cyan-100 hover:bg-cyan-200",textColor:"text-cyan-600"},{title:"Blogs",description:"Manage blogs",icon:(0,b.jsx)(z.BookOpen,{className:"w-5 h-5"}),path:"/admin/blogs",color:"bg-indigo-100 hover:bg-indigo-200",textColor:"text-indigo-600"},{title:"Legal Pages",description:"Manage legal content",icon:(0,b.jsx)(A.FileText,{className:"w-5 h-5"}),path:"/admin/legal-pages",color:"bg-amber-100 hover:bg-amber-200",textColor:"text-amber-600"},{title:"Shipping",description:"Manage shipping options",icon:(0,b.jsx)(B.Truck,{className:"w-5 h-5"}),path:"/admin/shipping",color:"bg-teal-100 hover:bg-teal-200",textColor:"text-teal-600"},{title:"Support",description:"Answer support tickets",icon:(0,b.jsx)(C.MessageSquare,{className:"w-5 h-5"}),path:"/admin/support",color:"bg-red-100 hover:bg-red-200",textColor:"text-red-600"},{title:"Reviews",description:"Moderate customer reviews",icon:(0,b.jsx)(D.Star,{className:"w-5 h-5"}),path:"/admin/reviews",color:"bg-yellow-100 hover:bg-yellow-200",textColor:"text-yellow-600"},{title:"Email Templates",description:"View & manage email notifications",icon:(0,b.jsx)(p.Mail,{className:"w-5 h-5"}),path:"/admin/email-notifications",color:"bg-sky-100 hover:bg-sky-200",textColor:"text-sky-600"},{title:"Gallery",description:"Manage featured gallery",icon:(0,b.jsx)(y.default,{className:"w-5 h-5"}),path:"/admin/gallery",color:"bg-rose-100 hover:bg-rose-200",textColor:"text-rose-600"},{title:"Discounts",description:"Manage discount codes",icon:(0,b.jsx)(E,{className:"w-5 h-5"}),path:"/admin/discounts",color:"bg-emerald-100 hover:bg-emerald-200",textColor:"text-emerald-600"}];function H(){let{notifications:a}=function(){let[a,b]=(0,c.useState)({openTickets:0,pendingOrders:0,rejectedProofs:0}),[d,e]=(0,c.useState)(!0),[f,g]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let a=!0,c=async(a,b,c=8e3)=>{let d=new AbortController,e=setTimeout(()=>{d.signal.aborted||d.abort(Error("Request timeout"))},c);try{let c=await fetch(a,{headers:{Authorization:`Bearer ${b}`},signal:d.signal});return clearTimeout(e),c}catch(a){if(clearTimeout(e),a instanceof Error&&"AbortError"===a.name)return null;throw a}},d=async()=>{try{if(!a)return;e(!0);let d=localStorage.getItem("authToken");if(!d){a&&e(!1);return}let f=0,h=0,i=0;try{let a=await c("/api/admin/tickets",d);if(a?.ok){let b=await a.text(),c=b?JSON.parse(b):[];f=(Array.isArray(c)?c:c.tickets||[]).filter(a=>"open"===a.status||"in-progress"===a.status).length}}catch(b){a&&console.warn("Error fetching tickets:",{error:b instanceof Error?b.message:String(b)})}try{let a=await c("/api/admin/pending-orders",d);if(a?.ok){let b=await a.text();h=(b?JSON.parse(b):{count:0}).count||0}}catch(b){a&&console.warn("Error fetching pending orders:",{error:b instanceof Error?b.message:String(b)})}try{let a=await c("/api/admin/proofs",d);if(a?.ok){let b=await a.text();i=((b?JSON.parse(b):{proofs:[]}).proofs||[]).filter(a=>"revisions_requested"===a.status).length}}catch(b){a&&console.warn("Error fetching proofs:",{error:b instanceof Error?b.message:String(b)})}a&&(b({openTickets:f,pendingOrders:h,rejectedProofs:i}),g(null))}catch(b){a&&(console.error("Error in fetchNotifications:",{error:b instanceof Error?b.message:String(b)}),g(b instanceof Error?b.message:"Failed to fetch notifications"))}finally{a&&e(!1)}};d();let f=setInterval(d,3e4);return()=>{a=!1,clearInterval(f)}},[]),{notifications:a,isLoading:d,error:f}}();return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Access"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2",children:G.map(c=>{var d;let e="Support"===(d=c.title)&&a.openTickets>0?a.openTickets:"Orders"===d&&a.pendingOrders>0?a.pendingOrders:"Proofs"===d&&a.rejectedProofs>0?a.rejectedProofs:null;return(0,b.jsxs)("button",{type:"button",onClick:()=>{var a;return a=c.path,void(window.location.href=a)},className:`relative flex flex-col items-center justify-center gap-2 p-3 rounded-lg border border-gray-200 transition-all duration-200 hover:scale-105 active:scale-95 ${c.color} cursor-pointer`,children:[(0,b.jsx)("div",{className:`${c.textColor}`,children:c.icon}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-900 line-clamp-1",children:c.title})}),null!==e&&(0,b.jsx)("div",{className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:e>99?"99+":e})]},c.path)})})]})}function I({children:a,showNavGrid:c=!0,hideQuickAccess:d=!1}){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x,{}),(0,b.jsx)("main",{className:"min-h-screen bg-[#fafafa] text-gray-900 pt-20",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!d&&(0,b.jsx)("div",{className:"py-6",children:(0,b.jsx)(H,{})}),a]})})]})}a.s(["default",()=>I],14001)}];

//# sourceMappingURL=components_AdminLayout_tsx_fcf771db._.js.map