{"version":3,"sources":["../../../../client/pages/OrderHistory.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Package,\r\n  Truck,\r\n  Calendar,\r\n  DollarSign,\r\n  ArrowRight,\r\n  AlertCircle,\r\n  ChevronDown,\r\n  Search,\r\n  X,\r\n  MapPin,\r\n  User,\r\n  Phone,\r\n  Mail,\r\n  MessageSquare,\r\n  Image as ImageIcon,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\r\nimport { formatOrderNumber } from \"@/lib/order-number\";\r\n\r\ninterface Shipment {\r\n  id: number;\r\n  status: string;\r\n  dateCreated: string;\r\n  trackingNumber: string;\r\n  shippingProvider: string;\r\n  shippingMethod: string;\r\n  comments?: string;\r\n  itemsCount: number;\r\n}\r\n\r\ninterface OrderItem {\r\n  id: number;\r\n  product_id: number;\r\n  product_name: string;\r\n  quantity: number;\r\n  price_inc_tax?: number;\r\n  price_ex_tax?: number;\r\n  price?: number;\r\n  option_price?: number;\r\n  total_price?: number;\r\n  options?:\r\n  | Record<string, any>\r\n  | Array<{\r\n    option_id?: string;\r\n    option_name?: string;\r\n    name?: string;\r\n    option_value?: string;\r\n    value?: string;\r\n    price?: number;\r\n    modifier_price?: number;\r\n  }>;\r\n  design_file_url?: string;\r\n}\r\n\r\ninterface DigitalFile {\r\n  id: string;\r\n  file_name: string;\r\n  file_url: string;\r\n  file_type?: string;\r\n  file_size?: number;\r\n  uploaded_at: string;\r\n}\r\n\r\ninterface Order {\r\n  id: number;\r\n  customerId: number;\r\n  status: string;\r\n  dateCreated: string;\r\n  total: number;\r\n  itemCount: number;\r\n  shipments: Shipment[];\r\n  subtotal?: number;\r\n  tax?: number;\r\n  shipping?: number;\r\n  items?: OrderItem[];\r\n  estimated_delivery_date?: string;\r\n  tracking_number?: string;\r\n  tracking_carrier?: string;\r\n  tracking_url?: string;\r\n  shipped_date?: string;\r\n  digital_files?: DigitalFile[];\r\n  customerName?: string;\r\n  customerEmail?: string;\r\n  customerPhone?: string;\r\n  shippingAddress?: {\r\n    street: string;\r\n    city: string;\r\n    state: string;\r\n    postalCode: string;\r\n    country: string;\r\n  };\r\n}\r\n\r\ninterface OrdersResponse {\r\n  success: boolean;\r\n  orders: Order[];\r\n  count: number;\r\n  pagination?: {\r\n    page: number;\r\n    limit: number;\r\n    offset: number;\r\n    totalCount: number;\r\n    totalPages: number;\r\n    hasMore: boolean;\r\n  };\r\n}\r\n\r\nexport default function OrderHistory() {\r\n  const navigate = useNavigate();\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [expandedOrderId, setExpandedOrderId] = useState<number | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  // Helper functions\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatPrice = (price: number | undefined): string => {\r\n    if (typeof price === \"number\") {\r\n      return price.toFixed(2);\r\n    }\r\n    return \"0.00\";\r\n  };\r\n\r\n  const getItemPrice = (item: OrderItem): number => {\r\n    if (typeof item.price_inc_tax === \"number\") return item.price_inc_tax;\r\n    if (typeof item.price_ex_tax === \"number\") return item.price_ex_tax;\r\n    if (typeof item.price === \"number\") return item.price;\r\n    return 0;\r\n  };\r\n\r\n  const formatOptionValue = (value: any): string => {\r\n    if (typeof value === \"string\") return value;\r\n    if (typeof value === \"number\") return String(value);\r\n    if (typeof value === \"boolean\") return value ? \"Yes\" : \"No\";\r\n    return \"\";\r\n  };\r\n\r\n  const formatOptionKey = (key: string): string => {\r\n    return key\r\n      .split(\"_\")\r\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\r\n      .join(\" \");\r\n  };\r\n\r\n  // Filter orders based on search query\r\n  const filteredOrders = orders.filter((order) => {\r\n    if (!searchQuery.trim()) return true;\r\n\r\n    const query = searchQuery.toLowerCase().trim();\r\n\r\n    // Search by order number/ID\r\n    if (order.id.toString().includes(query)) return true;\r\n\r\n    // Search by date (flexible matching: \"dec\", \"2025\", \"12/25\", etc.)\r\n    const orderDate = formatDate(order.dateCreated).toLowerCase();\r\n    if (orderDate.includes(query)) return true;\r\n\r\n    // Search by amount (without currency symbol)\r\n    const amount = order.total.toFixed(2);\r\n    if (amount.includes(query)) return true;\r\n\r\n    // Search by formatted currency amount\r\n    const currencyAmount = formatCurrency(order.total)\r\n      .replace(\"$\", \"\")\r\n      .toLowerCase();\r\n    if (currencyAmount.includes(query)) return true;\r\n\r\n    return false;\r\n  });\r\n\r\n  const fetchOrders = async (page: number = 1, reset: boolean = true) => {\r\n    try {\r\n      const token = localStorage.getItem(\"authToken\");\r\n      if (!reset) {\r\n        setIsLoadingMore(true);\r\n      } else {\r\n        setIsLoading(true);\r\n      }\r\n      setError(\"\");\r\n\r\n      const response = await fetch(`/api/orders?page=${page}&limit=20`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || \"Failed to fetch order history\");\r\n      }\r\n\r\n      const data: OrdersResponse = await response.json();\r\n\r\n      if (reset) {\r\n        setOrders(data.orders || []);\r\n      } else {\r\n        setOrders((prev) => [...prev, ...(data.orders || [])]);\r\n      }\r\n\r\n      setCurrentPage(page);\r\n      setHasMore(data.pagination?.hasMore || false);\r\n    } catch (err) {\r\n      const message =\r\n        err instanceof Error ? err.message : \"Failed to load order history\";\r\n      setError(message);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setIsLoadingMore(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    // Reset pagination on initial load\r\n    setCurrentPage(1);\r\n    setOrders([]);\r\n    fetchOrders(1, true);\r\n  }, [navigate]);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    // OPTIMISTIC UI: Normalize pending_payment to processing\r\n    const normalizedStatus = status.toLowerCase() === \"pending_payment\" ? \"processing\" : status.toLowerCase();\r\n\r\n    switch (normalizedStatus) {\r\n      case \"pending\":\r\n        return \"text-orange-600 bg-orange-50\";\r\n      case \"processing\":\r\n        return \"text-yellow-600 bg-yellow-50\";\r\n      case \"printing\":\r\n        return \"text-purple-600 bg-purple-50\";\r\n      case \"preparing for shipping\":\r\n        return \"text-indigo-600 bg-indigo-50\";\r\n      case \"in transit\":\r\n        return \"text-blue-600 bg-blue-50\";\r\n      case \"shipped\":\r\n        return \"text-emerald-600 bg-emerald-50\";\r\n      case \"delivered\":\r\n        return \"text-cyan-600 bg-cyan-50\";\r\n      case \"completed\":\r\n        return \"text-green-600 bg-green-50\";\r\n      case \"cancelled\":\r\n        return \"text-red-600 bg-red-50\";\r\n      default:\r\n        return \"text-gray-600 bg-gray-50\";\r\n    }\r\n  };\r\n\r\n  const getShipmentStatusIcon = (status: string) => {\r\n    switch (status.toLowerCase()) {\r\n      case \"shipped\":\r\n      case \"in_transit\":\r\n        return <Truck className=\"w-4 h-4\" />;\r\n      case \"delivered\":\r\n        return <Package className=\"w-4 h-4\" />;\r\n      default:\r\n        return <Package className=\"w-4 h-4\" />;\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\n      <>\n        <main className=\"min-h-screen bg-gray-50 py-8\">\n          <div className=\"max-w-6xl mx-auto px-4\">\n            <div className=\"flex justify-center items-center h-64\">\n              <div className=\"text-gray-600 text-lg\">\n                Loading your orders...\n              </div>\n            </div>\n          </div>\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\n    <>\n      <main className=\"min-h-screen bg-gray-50 py-6 sm:py-8\">\n        <div className=\"max-w-6xl mx-auto px-3 sm:px-4\">\r\n          {/* Header */}\r\n          <div className=\"mb-6 sm:mb-8\">\r\n            <button\r\n              onClick={() => navigate(\"/dashboard\")}\r\n              className=\"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 mb-4\"\r\n            >\r\n              <ArrowRight className=\"w-4 h-4 rotate-180\" />\r\n              Back to Dashboard\r\n            </button>\r\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\r\n              Order History\r\n            </h1>\r\n            <p className=\"text-gray-600 mt-2\">\r\n              View all your orders and track shipments\r\n            </p>\r\n          </div>\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3\">\r\n              <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n              <p className=\"text-sm text-red-800\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Search Bar */}\r\n          {orders.length > 0 && (\r\n            <div className=\"mb-6 bg-white rounded-lg border border-gray-200 p-4 sm:p-6\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search orders by number, date (Dec 1), or amount ($50)...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                />\r\n                {searchQuery && (\r\n                  <button\r\n                    onClick={() => setSearchQuery(\"\")}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                    title=\"Clear search\"\r\n                  >\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n              {searchQuery && (\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                  Found {filteredOrders.length} order\r\n                  {filteredOrders.length !== 1 ? \"s\" : \"\"}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Empty State */}\r\n          {orders.length === 0 && !error && (\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6 sm:p-12 text-center\">\r\n              <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                No Orders Yet\r\n              </h2>\r\n              <p className=\"text-gray-600 mb-6\">\r\n                You haven't placed any orders yet. Start shopping to see your\r\n                order history here.\r\n              </p>\r\n              <Button\r\n                onClick={() => navigate(\"/products\")}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              >\r\n                Shop Now\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {/* No search results */}\r\n          {orders.length > 0 && filteredOrders.length === 0 && searchQuery && (\r\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6 sm:p-12 text-center\">\r\n              <Search className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                No Orders Found\r\n              </h2>\r\n              <p className=\"text-gray-600 mb-6\">\r\n                No orders match \"{searchQuery}\". Try searching by order number,\r\n                date, or amount.\r\n              </p>\r\n              <Button\r\n                onClick={() => setSearchQuery(\"\")}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n              >\r\n                Clear Search\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Orders Detailed View */}\r\n          {filteredOrders.length > 0 && (\r\n            <div className=\"space-y-4\">\r\n              {filteredOrders.map((order) => (\r\n                <div\r\n                  key={order.id}\r\n                  className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow\"\r\n                >\r\n                  {/* Order Summary */}\r\n                  <button\r\n                    onClick={() =>\r\n                      setExpandedOrderId(\r\n                        expandedOrderId === order.id ? null : order.id,\r\n                      )\r\n                    }\r\n                    className=\"w-full px-4 sm:px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    <div className=\"flex items-center gap-3 sm:gap-4 flex-1 text-left\">\r\n                      <div className=\"bg-gray-100 p-2 sm:p-3 rounded-lg flex-shrink-0\">\r\n                        <Package className=\"w-5 h-5 sm:w-6 sm:h-6 text-gray-600\" />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2 sm:gap-3 mb-2 flex-wrap\">\r\n                          <h3 className=\"text-base sm:text-lg font-semibold text-gray-900\">\r\n                            {formatOrderNumber(order.id)}\r\n                          </h3>\r\n                          <span\r\n                            className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}\r\n                          >\r\n                            {(order.status === \"pending_payment\" ? \"processing\" : order.status).charAt(0).toUpperCase() +\r\n                              (order.status === \"pending_payment\" ? \"processing\" : order.status).slice(1)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3 sm:gap-6 text-xs sm:text-sm text-gray-600 flex-wrap\">\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <Calendar className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                            {formatDate(order.dateCreated)}\r\n                          </div>\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <Package className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                            {order.itemCount} item\r\n                            {order.itemCount !== 1 ? \"s\" : \"\"}\r\n                          </div>\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <DollarSign className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                            {formatCurrency(order.total)}\r\n                          </div>\r\n                          {order.estimated_delivery_date && (\r\n                            <div className=\"flex items-center gap-1 text-blue-600 font-medium\">\r\n                              <Calendar className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              <span className=\"hidden sm:inline\">\r\n                                Delivery:\r\n                              </span>{\" \"}\r\n                              {formatDate(order.estimated_delivery_date)}\r\n                            </div>\r\n                          )}\r\n                          {order.tracking_number && (\r\n                            <div className=\"flex items-center gap-1 text-green-600 font-medium\">\r\n                              <Truck className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              <span className=\"hidden sm:inline\">\r\n                                Tracking:\r\n                              </span>{\" \"}\r\n                              {order.tracking_number}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <ChevronDown\r\n                      className={`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${expandedOrderId === order.id ? \"rotate-180\" : \"\"\r\n                        }`}\r\n                    />\r\n                  </button>\r\n\r\n                  {/* Order Details - Expanded */}\r\n                  {expandedOrderId === order.id && (\r\n                    <div className=\"bg-gray-50 border-t-2 border-gray-200 p-3 sm:p-5 space-y-3 sm:space-y-4\">\r\n                      {/* Customer Information */}\r\n                      <div className=\"bg-white rounded-lg border-2 border-blue-200 p-3 sm:p-4 shadow-sm\">\r\n                        <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                          <User className=\"w-3 h-3 sm:w-4 sm:h-4 text-blue-600\" />\r\n                          Customer & Shipping Information\r\n                        </h3>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\r\n                          {order.customerName && (\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-600 mb-1\">\r\n                                Full Name\r\n                              </p>\r\n                              <p className=\"text-xs sm:text-sm font-medium text-gray-900\">\r\n                                {order.customerName}\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                          {order.customerEmail && (\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-600 mb-1 flex items-center gap-1\">\r\n                                <Mail className=\"w-3 h-3\" />\r\n                                Email\r\n                              </p>\r\n                              <p className=\"text-sm font-medium text-blue-600 break-all\">\r\n                                {order.customerEmail}\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                          {order.customerPhone && (\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-600 mb-1 flex items-center gap-1\">\r\n                                <Phone className=\"w-3 h-3\" />\r\n                                Phone\r\n                              </p>\r\n                              <p className=\"text-sm font-medium text-gray-900\">\r\n                                {order.customerPhone}\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                          {order.estimated_delivery_date && (\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-600 mb-1 flex items-center gap-1\">\r\n                                <Calendar className=\"w-3 h-3\" />\r\n                                Est. Delivery\r\n                              </p>\r\n                              <p className=\"text-sm font-medium text-blue-600\">\r\n                                {formatDate(order.estimated_delivery_date)}\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        {order.shippingAddress && (\r\n                          <div className=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200\">\r\n                            <p className=\"text-xs text-gray-600 mb-2 flex items-center gap-1\">\r\n                              <MapPin className=\"w-3 h-3\" />\r\n                              Shipping Address\r\n                            </p>\r\n                            <div className=\"text-xs sm:text-sm text-gray-900 space-y-1\">\r\n                              <p>{order.shippingAddress.street}</p>\r\n                              <p>\r\n                                {order.shippingAddress.city},{\" \"}\r\n                                {order.shippingAddress.state}{\" \"}\r\n                                {order.shippingAddress.postalCode}\r\n                              </p>\r\n                              <p>{order.shippingAddress.country}</p>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Design Thumbnails */}\r\n                      {order.digital_files &&\r\n                        order.digital_files.length > 0 && (\r\n                          <div>\r\n                            <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                              <ImageIcon className=\"w-3 h-3 sm:w-4 sm:h-4 text-blue-600\" />\r\n                              Design Files\r\n                            </h3>\r\n                            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\r\n                              {order.digital_files.map((file) => (\r\n                                <a\r\n                                  key={file.id}\r\n                                  href={file.file_url}\r\n                                  target=\"_blank\"\r\n                                  rel=\"noopener noreferrer\"\r\n                                  className=\"relative group overflow-hidden rounded-lg border-2 border-gray-200 hover:border-blue-400 transition-colors h-24 sm:h-28\"\r\n                                >\r\n                                  {file.file_type?.includes(\"image\") ? (\r\n                                    <img\r\n                                      src={file.file_url}\r\n                                      alt={file.file_name}\r\n                                      className=\"w-full h-full object-cover group-hover:scale-105 transition-transform\"\r\n                                    />\r\n                                  ) : (\r\n                                    <div className=\"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center\">\r\n                                      <Package className=\"w-6 h-6 sm:w-8 sm:h-8 text-gray-400\" />\r\n                                    </div>\r\n                                  )}\r\n                                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all flex items-end justify-center opacity-0 group-hover:opacity-100\">\r\n                                    <p className=\"text-white text-xs font-medium mb-2 px-2 text-center truncate\">\r\n                                      {file.file_name}\r\n                                    </p>\r\n                                  </div>\r\n                                </a>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                      {/* Digital Files */}\r\n                      {order.digital_files &&\r\n                        order.digital_files.length > 0 && (\r\n                          <div className=\"bg-white rounded-lg border-2 border-blue-200 p-3 sm:p-4 shadow-sm\">\r\n                            <h4 className=\"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3\">\r\n                              üìÅ Digital Files\r\n                            </h4>\r\n                            <div className=\"space-y-2\">\r\n                              {order.digital_files.map((file) => (\r\n                                <a\r\n                                  key={file.id}\r\n                                  href={file.file_url}\r\n                                  target=\"_blank\"\r\n                                  rel=\"noopener noreferrer\"\r\n                                  className=\"flex items-center justify-between bg-gray-50 p-2 sm:p-3 rounded border border-blue-100 hover:border-blue-400 hover:bg-blue-50 transition-colors gap-2\"\r\n                                >\r\n                                  <div className=\"flex items-center gap-2 sm:gap-3 min-w-0\">\r\n                                    <Package className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                                    <div className=\"min-w-0\">\r\n                                      <p className=\"text-xs sm:text-sm font-medium text-blue-900 truncate\">\r\n                                        {file.file_name}\r\n                                      </p>\r\n                                      {file.file_size && (\r\n                                        <p className=\"text-xs text-gray-600\">\r\n                                          {(\r\n                                            file.file_size /\r\n                                            1024 /\r\n                                            1024\r\n                                          ).toFixed(2)}{\" \"}\r\n                                          MB\r\n                                        </p>\r\n                                      )}\r\n                                    </div>\r\n                                  </div>\r\n                                  <ArrowRight className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                                </a>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                      {/* Order Totals */}\r\n                      <div className=\"bg-white rounded-lg border-2 border-gray-200 p-3 sm:p-4 shadow-sm\">\r\n                        <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-3 sm:mb-4 flex items-center gap-2\">\r\n                          <DollarSign className=\"w-4 h-4 text-gray-600\" />\r\n                          Order Summary\r\n                        </h3>\r\n\r\n                        {/* Items Breakdown */}\r\n                        <div className=\"mb-3 sm:mb-4 pb-3 sm:pb-4 border-b border-gray-200\">\r\n                          <p className=\"text-xs font-semibold text-gray-700 mb-2\">\r\n                            Items Breakdown:\r\n                          </p>\r\n                          {order.items && order.items.length > 0 ? (\r\n                            <div className=\"space-y-3\">\r\n                              {order.items.map((item) => {\r\n                                // Get the actual price per unit from order data\r\n                                const pricePerUnit = getItemPrice(item);\r\n                                const itemTotal = pricePerUnit * item.quantity;\r\n\r\n                                return (\r\n                                  <div\r\n                                    key={item.id}\r\n                                    className=\"bg-gray-50 p-2 rounded border border-gray-100 text-xs\"\r\n                                  >\r\n                                    {/* Design Thumbnail */}\r\n                                    {item.design_file_url && (\r\n                                      <div className=\"mb-2\">\r\n                                        <p className=\"text-xs font-semibold text-gray-700 mb-1\">\r\n                                          Artwork file that was uploaded\r\n                                        </p>\r\n                                        <div className=\"flex gap-2\">\r\n                                          {item.design_file_url.startsWith(\r\n                                            \"data:\",\r\n                                          ) ||\r\n                                            item.design_file_url.match(\r\n                                              /\\.(jpg|jpeg|png|gif|webp)$/i,\r\n                                            ) ? (\r\n                                            <a\r\n                                              href={item.design_file_url}\r\n                                              target=\"_blank\"\r\n                                              rel=\"noopener noreferrer\"\r\n                                              className=\"flex-shrink-0\"\r\n                                            >\r\n                                              <img\r\n                                                src={item.design_file_url}\r\n                                                alt=\"Design Upload\"\r\n                                                className=\"h-12 w-12 object-cover rounded border border-gray-300 hover:border-blue-400 transition-colors\"\r\n                                              />\r\n                                            </a>\r\n                                          ) : (\r\n                                            <a\r\n                                              href={item.design_file_url}\r\n                                              target=\"_blank\"\r\n                                              rel=\"noopener noreferrer\"\r\n                                              className=\"flex-shrink-0 h-12 w-12 flex items-center justify-center rounded border border-gray-300 bg-gray-100\"\r\n                                            >\r\n                                              <Package className=\"w-4 h-4 text-gray-400\" />\r\n                                            </a>\r\n                                          )}\r\n                                          <div className=\"flex-1\">\r\n                                            <p className=\"font-semibold text-gray-900\">\r\n                                              {item.product_name}\r\n                                            </p>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n\r\n                                    {/* Product Name (if no design file) */}\r\n                                    {!item.design_file_url && (\r\n                                      <p className=\"font-semibold text-gray-900 mb-1\">\r\n                                        {item.product_name}\r\n                                      </p>\r\n                                    )}\r\n\r\n                                    {/* Product Options Display */}\r\n                                    {item.options && (\r\n                                      <div className=\"pt-2 border-t border-gray-300 space-y-1 mb-2\">\r\n                                        <p className=\"text-xs font-semibold text-gray-700\">\r\n                                          Options:\r\n                                        </p>\r\n                                        <div className=\"space-y-1\">\r\n                                          {Array.isArray(item.options)\r\n                                            ? item.options.map(\r\n                                              (option: any, idx: number) => {\r\n                                                const optionName =\r\n                                                  option.option_id ||\r\n                                                  option.name ||\r\n                                                  `Option ${idx + 1}`;\r\n                                                const optionValue =\r\n                                                  option.option_value ||\r\n                                                  option.value ||\r\n                                                  \"\";\r\n                                                const optionPrice =\r\n                                                  option.price ||\r\n                                                  option.modifier_price ||\r\n                                                  0;\r\n                                                return (\r\n                                                  <div\r\n                                                    key={idx}\r\n                                                    className=\"flex justify-between items-center text-xs\"\r\n                                                  >\r\n                                                    <span className=\"text-gray-700\">\r\n                                                      {optionName}{\" \"}\r\n                                                      {optionValue &&\r\n                                                        `(${optionValue})`}\r\n                                                    </span>\r\n                                                    {optionPrice > 0 && (\r\n                                                      <span className=\"text-blue-600 font-medium\">\r\n                                                        +$\r\n                                                        {formatPrice(\r\n                                                          optionPrice,\r\n                                                        )}\r\n                                                      </span>\r\n                                                    )}\r\n                                                  </div>\r\n                                                );\r\n                                              },\r\n                                            )\r\n                                            : Object.entries(item.options).map(\r\n                                              ([key, value]: [\r\n                                                string,\r\n                                                any,\r\n                                              ]) => {\r\n                                                const optionPrice =\r\n                                                  typeof value === \"object\"\r\n                                                    ? value.price ||\r\n                                                    value.modifier_price\r\n                                                    : 0;\r\n                                                const displayValue =\r\n                                                  typeof value === \"object\"\r\n                                                    ? value.value ||\r\n                                                    value.name\r\n                                                    : value;\r\n                                                const formattedKey =\r\n                                                  formatOptionKey(key);\r\n                                                return (\r\n                                                  <div\r\n                                                    key={key}\r\n                                                    className=\"flex justify-between items-center text-xs\"\r\n                                                  >\r\n                                                    <span className=\"text-gray-700\">\r\n                                                      {formattedKey}{\" \"}\r\n                                                      {displayValue &&\r\n                                                        `(${formatOptionValue(displayValue)})`}\r\n                                                    </span>\r\n                                                    {optionPrice > 0 && (\r\n                                                      <span className=\"text-blue-600 font-medium\">\r\n                                                        +$\r\n                                                        {formatPrice(\r\n                                                          optionPrice,\r\n                                                        )}\r\n                                                      </span>\r\n                                                    )}\r\n                                                  </div>\r\n                                                );\r\n                                              },\r\n                                            )}\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n\r\n                                    {/* Item pricing summary */}\r\n                                    <div className=\"space-y-1 text-xs\">\r\n                                      <div className=\"flex justify-between\">\r\n                                        <p className=\"text-gray-600\">\r\n                                          Per Sticker:\r\n                                        </p>\r\n                                        <span className=\"text-gray-900 font-medium\">\r\n                                          ${formatPrice(pricePerUnit)}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"flex justify-between\">\r\n                                        <span className=\"text-gray-600\">\r\n                                          Quantity:\r\n                                        </span>\r\n                                        <span className=\"text-gray-900 font-medium\">\r\n                                          √ó {item.quantity}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"pt-2 border-t border-gray-300 flex justify-between font-semibold\">\r\n                                        <span className=\"text-gray-900\">\r\n                                          Item Total:\r\n                                        </span>\r\n                                        <span className=\"text-emerald-600\">\r\n                                          ${formatPrice(itemTotal)}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          ) : (\r\n                            <p className=\"text-xs text-gray-600\">\r\n                              {order.itemCount} item\r\n                              {order.itemCount !== 1 ? \"s\" : \"\"}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Price Breakdown */}\r\n                        <div className=\"space-y-2 text-xs sm:text-sm\">\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-gray-600\">Subtotal:</span>\r\n                            <span className=\"font-medium text-gray-900\">\r\n                              {formatCurrency(order.subtotal || 0)}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {order.tax !== undefined && order.tax > 0 && (\r\n                            <div className=\"flex justify-between\">\r\n                              <span className=\"text-gray-600\">Tax:</span>\r\n                              <span className=\"font-medium text-gray-900\">\r\n                                {formatCurrency(order.tax)}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n\r\n                          {order.shipping !== undefined &&\r\n                            order.shipping > 0 && (\r\n                              <div className=\"flex justify-between\">\r\n                                <span className=\"text-gray-600\">Shipping:</span>\r\n                                <span className=\"font-medium text-gray-900\">\r\n                                  {formatCurrency(order.shipping)}\r\n                                </span>\r\n                              </div>\r\n                            )}\r\n\r\n                          <div className=\"pt-2 border-t-2 border-gray-300 flex justify-between\">\r\n                            <span className=\"font-bold text-gray-900\">\r\n                              Order Total:\r\n                            </span>\r\n                            <span className=\"font-bold text-lg text-emerald-600\">\r\n                              {formatCurrency(order.total)}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Summary Stats */}\r\n                        <div className=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200 grid grid-cols-2 gap-2\">\r\n                          <div className=\"bg-gray-50 p-2 rounded text-center\">\r\n                            <p className=\"text-xs text-gray-600\">Items</p>\r\n                            <p className=\"text-sm font-bold text-gray-900\">\r\n                              {order.itemCount}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"bg-emerald-50 p-2 rounded text-center\">\r\n                            <p className=\"text-xs text-gray-600\">Order Date</p>\r\n                            <p className=\"text-xs font-medium text-emerald-700\">\r\n                              {new Date(order.dateCreated).toLocaleDateString(\r\n                                \"en-US\",\r\n                                {\r\n                                  month: \"short\",\r\n                                  day: \"numeric\",\r\n                                },\r\n                              )}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Shipments and Tracking */}\r\n                      {order.shipments && order.shipments.length > 0 ? (\r\n                        <div className=\"bg-white rounded-lg border-2 border-blue-200 p-3 sm:p-4 shadow-sm\">\r\n                          <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                            <Truck className=\"w-3 h-3 sm:w-4 sm:h-4 text-blue-600\" />\r\n                            Shipping & Tracking\r\n                          </h3>\r\n                          <div className=\"space-y-3\">\r\n                            {order.shipments.map((shipment) => (\r\n                              <div\r\n                                key={shipment.id}\r\n                                className=\"bg-gray-50 p-3 rounded border border-gray-200\"\r\n                              >\r\n                                <div className=\"flex items-start justify-between mb-2 gap-2\">\r\n                                  <div className=\"flex items-center gap-2 min-w-0\">\r\n                                    {getShipmentStatusIcon(shipment.status)}\r\n                                    <div className=\"min-w-0\">\r\n                                      <p className=\"text-xs sm:text-sm font-semibold text-gray-900 truncate\">\r\n                                        {shipment.shippingProvider ||\r\n                                          \"Shipment\"}{\" \"}\r\n                                        -{\" \"}\r\n                                        {shipment.shippingMethod || \"Standard\"}\r\n                                      </p>\r\n                                      <p className=\"text-xs text-gray-600\">\r\n                                        {formatDate(shipment.dateCreated)}\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                  <span className=\"px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 flex-shrink-0\">\r\n                                    {shipment.status\r\n                                      .replace(/_/g, \" \")\r\n                                      .charAt(0)\r\n                                      .toUpperCase() +\r\n                                      shipment.status\r\n                                        .replace(/_/g, \" \")\r\n                                        .slice(1)}\r\n                                  </span>\r\n                                </div>\r\n\r\n                                {shipment.trackingNumber && (\r\n                                  <div className=\"mb-2 text-xs sm:text-sm\">\r\n                                    <div className=\"flex justify-between\">\r\n                                      <span className=\"text-gray-600\">\r\n                                        Tracking Number:\r\n                                      </span>\r\n                                      <div className=\"flex flex-col items-end gap-1\">\r\n                                        <span className=\"font-mono font-semibold text-gray-900 text-xs sm:text-sm break-all\">\r\n                                          {shipment.trackingNumber}\r\n                                        </span>\r\n                                        {shipment.shippingProvider && (\r\n                                          <span className=\"text-xs text-gray-500\">\r\n                                            {shipment.shippingProvider}\r\n                                          </span>\r\n                                        )}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n\r\n                                {shipment.comments && (\r\n                                  <div className=\"mt-2 p-2 sm:p-3 bg-gray-100 rounded text-xs sm:text-sm text-gray-700\">\r\n                                    {shipment.comments}\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"bg-white rounded-lg border-2 border-blue-200 p-3 sm:p-4 shadow-sm\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-700\">\r\n                            üì¶ Your order has not been shipped yet. We'll send\r\n                            you a tracking number as soon as it's on its way!\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Support Ticket Button */}\r\n                      <div className=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200\">\r\n                        <button\r\n                          onClick={() => {\r\n                            const ticketData = {\r\n                              orderId: order.id,\r\n                              orderAmount: order.total,\r\n                              orderDate: formatDate(order.dateCreated),\r\n                              orderStatus: order.status,\r\n                              productTypes: order.items\r\n                                ?.map((item) => item.product_name)\r\n                                .join(\", \"),\r\n                              trackingNumber: order.tracking_number,\r\n                              estimatedDelivery: order.estimated_delivery_date\r\n                                ? formatDate(order.estimated_delivery_date)\r\n                                : \"Not available\",\r\n                            };\r\n\r\n                            // Navigate to support page with pre-filled order data\r\n                            localStorage.setItem(\r\n                              \"prefillOrderData\",\r\n                              JSON.stringify(ticketData),\r\n                            );\r\n                            navigate(\"/support\");\r\n                          }}\r\n                          className=\"w-full px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 shadow-sm hover:shadow-md text-xs sm:text-sm\"\r\n                        >\r\n                          <MessageSquare className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                          Create Support Ticket\r\n                        </button>\r\n                        <p className=\"text-xs text-gray-600 mt-2 text-center\">\r\n                          Need help with this order? Click above to open a\r\n                          support ticket and we'll pre-fill your order details.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              {/* Load More Button */}\r\n              {filteredOrders.length > 0 && hasMore && !searchQuery && (\r\n                <div className=\"flex justify-center pt-6\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setIsLoadingMore(true);\r\n                      fetchOrders(currentPage + 1, false);\r\n                    }}\r\n                    disabled={isLoadingMore}\r\n                    className=\"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors\"\r\n                  >\r\n                    {isLoadingMore ? (\r\n                      <>\r\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                        Loading...\r\n                      </>\r\n                    ) : (\r\n                      \"Load More Orders\"\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Total Summary */}\r\n          {filteredOrders.length > 0 && (\r\n            <div className=\"mt-8 bg-white rounded-lg border border-gray-200 p-4 sm:p-6\">\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                <div>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mb-1\">\r\n                    {searchQuery ? \"Matching Orders\" : \"Total Orders\"}\r\n                  </p>\r\n                  <p className=\"text-xl sm:text-2xl font-bold text-gray-900\">\r\n                    {filteredOrders.length}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mb-1\">\r\n                    {searchQuery ? \"Matching Total Spent\" : \"Total Spent\"}\r\n                  </p>\r\n                  <p className=\"text-xl sm:text-2xl font-bold text-gray-900\">\r\n                    {formatCurrency(\r\n                      filteredOrders.reduce(\r\n                        (sum, order) => sum + order.total,\r\n                        0,\r\n                      ),\r\n                    )}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mb-1\">\r\n                    {searchQuery ? \"Matching Total Items\" : \"Total Items\"}\r\n                  </p>\r\n                  <p className=\"text-xl sm:text-2xl font-bold text-gray-900\">\r\n                    {filteredOrders.reduce(\r\n                      (sum, order) => sum + order.itemCount,\r\n                      0,\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"uDAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAiBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OA0Fe,SAAS,IACtB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,EAAE,EAC1C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,MAChE,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAGjC,EAAa,AAAC,GACX,IAAI,KAAK,GAAY,kBAAkB,CAAC,QAAS,CACtD,KAAM,UACN,MAAO,QACP,IAAK,SACP,GAGI,EAAiB,AAAC,GACf,IAAI,KAAK,YAAY,CAAC,QAAS,CACpC,MAAO,WACP,SAAU,KACZ,GAAG,MAAM,CAAC,GAGN,EAAc,AAAC,GACnB,AAAqB,UAAjB,AAA2B,OAApB,EACF,EAAM,OAAO,CAAC,GAEhB,OAyBH,EAAiB,EAAO,MAAM,CAAC,AAAC,IACpC,GAAI,CAAC,EAAY,IAAI,GAAI,OAAO,EAEhC,IAAM,EAAQ,EAAY,WAAW,GAAG,IAAI,YAGxC,EAAM,EAAE,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAI7B,AADc,EAAW,EAAM,AAHM,OAAO,IAGF,EAAE,WAAW,GAC7C,QAAQ,CAAC,IAGR,AACX,EADiB,EAHU,GAGL,CAAC,GAHW,IAGJ,CAAC,GACxB,QAAQ,CAAC,IAMhB,AAHmB,EAAe,EAAM,AAHhB,KAGqB,EAC9C,AAJgC,OAIzB,CAAC,IAAK,IACb,WAAW,GACK,QAAQ,CAAC,GAG9B,GAEM,EALgC,AAKlB,MAAO,CALkB,CAKH,CAAC,CAAE,GAAiB,CAAI,IAChE,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,aAC9B,EAGH,GAAa,EAHH,CACV,GAAiB,GAInB,EAAS,IAET,IAAM,EAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,EAAK,SAAS,CAAC,CAAE,CAChE,QAAS,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,CAC9C,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,EACrC,OAAM,AAAI,MAAM,EAAU,KAAK,EAAI,gCACrC,CAEA,IAAM,EAAuB,MAAM,EAAS,IAAI,GAE5C,EACF,EAAU,EAAK,CADN,KACY,EAAI,EAAE,EAE3B,EAAU,AAAC,GAAS,IAAI,KAAU,EAAK,MAAM,EAAI,EAAE,CAAE,EAGvD,EAAe,GACf,EAAW,EAAK,UAAU,EAAE,UAAW,EACzC,CAAE,MAAO,EAAK,CAGZ,EADE,OACO,MADQ,MAAQ,EAAI,OAAO,CAAG,+BAEzC,QAAU,CACR,GAAa,GACb,GAAiB,EACnB,CACF,SAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGR,AAFc,IAEV,CAAC,OAAO,CAFe,OAAO,CAAC,cAQnC,EAAe,GACf,EAAU,EAAE,EACZ,EAAY,GAAG,IAPb,EAAS,SAQb,EAAG,CAAC,EAAS,EA0CT,GAEA,CAAA,EAAA,EAAA,GAAA,AAFW,EAEX,EAAA,QAAA,CAAA,UACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,mCAWjD,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAS,cACxB,UAAU,+FAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,uBAAuB,uBAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDAA+C,kBAG7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,gDAMnC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,8CACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,OAKxC,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iGAClB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,4DACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,UAAU,mJAEX,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAe,IAC9B,UAAU,0GACV,MAAM,wBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,iBAIlB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,SACjC,EAAe,MAAM,CAAC,SACF,IAA1B,EAAe,MAAM,CAAS,IAAM,SAO5C,AAAkB,MAAX,MAAM,EAAU,CAAC,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,kBAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,sFAIlC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAS,aACxB,UAAU,oDACX,gBAOJ,EAAO,MAAM,CAAG,GAAK,AAA0B,MAAX,MAAM,EAAU,GACnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,yCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,oBAGzD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,oBACd,EAAY,wDAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAe,IAC9B,UAAU,oDACX,oBAOJ,EAAe,MAAM,CAAG,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAe,GAAG,CAAC,AAAC,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,yGAGV,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IACP,EACE,IAAoB,EAAM,EAAE,CAAG,KAAO,EAAM,EAAE,EAGlD,UAAU,0GAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,0CAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DACX,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,EAAM,EAAE,IAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,2CAA2C,EAAE,CAvL3D,AAAD,IAIrB,OAFkD,AAE1C,oBAFiB,EAAO,WAAW,GAA2B,aAAe,EAAO,WAAW,IAGrG,IAAK,UACH,MAAO,8BACT,KAAK,aACH,MAAO,8BACT,KAAK,WACH,MAAO,8BACT,KAAK,yBACH,MAAO,8BACT,KAAK,aACH,MAAO,0BACT,KAAK,UACH,MAAO,gCACT,KAAK,YACH,MAAO,0BACT,KAAK,YACH,MAAO,4BACT,KAAK,YACH,MAAO,wBACT,SACE,MAAO,0BACX,EACF,EA6JkG,EAAM,MAAM,EAAA,CAAG,UAEtF,CAAkB,oBAAjB,EAAM,MAAM,CAAyB,aAAe,EAAM,MAAA,AAAM,EAAE,MAAM,CAAC,GAAG,WAAW,GACvF,CAAkB,oBAAjB,EAAM,MAAM,CAAyB,aAAe,EAAM,MAAA,AAAM,EAAE,KAAK,CAAC,QAG/E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,0BACnB,EAAW,EAAM,WAAW,KAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,0BAClB,EAAM,SAAS,CAAC,QACI,IAApB,EAAM,SAAS,CAAS,IAAM,MAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,0BACrB,EAAe,EAAM,KAAK,KAE5B,EAAM,uBAAuB,EAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,0BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,cAE3B,IACP,EAAW,EAAM,uBAAuB,KAG5C,EAAM,eAAe,EACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,0BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,cAE3B,IACP,EAAM,eAAe,aAMhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CACV,UAAW,CAAC,yDAAyD,EAAE,IAAoB,EAAM,EAAE,CAAG,aAAe,GAAA,CACjH,MAKP,IAAoB,EAAM,EAAE,EAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oFAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4FACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wCAAwC,qCAG1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DACZ,EAAM,YAAY,EACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,cAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wDACV,EAAM,YAAY,MAIxB,EAAM,aAAa,EAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+DACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,WAG9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDACV,EAAM,aAAa,MAIzB,EAAM,aAAa,EAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+DACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,WAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CACV,EAAM,aAAa,MAIzB,EAAM,uBAAuB,EAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+DACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,mBAGlC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CACV,EAAW,EAAM,uBAAuB,UAKhD,EAAM,eAAe,EACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+DACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,sBAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,EAAM,eAAe,CAAC,MAAM,GAChC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACE,EAAM,eAAe,CAAC,IAAI,CAAC,IAAE,IAC7B,EAAM,eAAe,CAAC,KAAK,CAAE,IAC7B,EAAM,eAAe,CAAC,UAAU,IAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,EAAM,eAAe,CAAC,OAAO,YAOxC,EAAM,aAAa,EAClB,EAAM,aAAa,CAAC,MAAM,CAAG,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4FACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAS,CAAA,CAAC,UAAU,wCAAwC,kBAG/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,EAAM,aAAa,CAAC,GAAG,CAAE,AAAD,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAEC,KAAM,EAAK,QAAQ,CACnB,OAAO,SACP,IAAI,sBACJ,UAAU,oIAET,EAAK,SAAS,EAAE,SAAS,SACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,QAAQ,CAClB,IAAK,EAAK,SAAS,CACnB,UAAU,0EAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sGACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,0CAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2JACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yEACV,EAAK,SAAS,OAnBd,EAAK,EAAE,QA6BvB,EAAM,aAAa,EAClB,EAAM,aAAa,CAAC,MAAM,CAAG,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uEAA8D,qBAG5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,aAAa,CAAC,GAAG,CAAC,AAAC,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAEC,KAAM,EAAK,QAAQ,CACnB,OAAO,SACP,IAAI,sBACJ,UAAU,kKAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,sDACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iEACV,EAAK,SAAS,GAEhB,EAAK,SAAS,EACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCACV,CACC,EAAK,SAAS,CACd,KACA,IAAA,CACF,CAAE,OAAO,CAAC,GAAI,IAAI,cAM1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,wDAxBjB,EAAK,EAAE,QAgCxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4FACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,0BAA0B,mBAKlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDAA2C,qBAGvD,EAAM,KAAK,EAAI,EAAM,KAAK,CAAC,MAAM,CAAG,EACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,KAAK,CAAC,GAAG,CAAC,AAAC,IAEhB,IAAM,EAlflC,AAAkC,UAAU,AAAxC,GAkf6C,IAlftC,EAAK,aAAa,CAAsB,AAkfW,EAlfN,aAAa,CACpC,UAA7B,AAAuC,OAAhC,EAAK,YAAY,CAAsB,EAAK,YAAY,CACzC,UAAtB,AAAgC,OAAzB,EAAK,KAAK,CAAsB,EAAK,KAAK,CAC9C,EAgf2B,EAAY,EAAe,EAAK,QAAQ,CAE9C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,kEAGT,EAAK,eAAe,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDAA2C,mCAGxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACZ,EAAK,eAAe,CAAC,UAAU,CAC9B,UAEA,EAAK,eAAe,CAAC,KAAK,CACxB,+BAEF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,EAAK,eAAe,CAC1B,OAAO,SACP,IAAI,sBACJ,UAAU,yBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,eAAe,CACzB,IAAI,gBACJ,UAAU,oGAId,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,EAAK,eAAe,CAC1B,OAAO,SACP,IAAI,sBACJ,UAAU,+GAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,4BAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCACV,EAAK,YAAY,WAQ3B,CAAC,EAAK,eAAe,EACpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CACV,EAAK,YAAY,GAKrB,EAAK,OAAO,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,aAGnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,MAAM,OAAO,CAAC,EAAK,OAAO,EACvB,EAAK,OAAO,CAAC,GAAG,CAChB,CAAC,EAAa,KACZ,IAAM,EACJ,EAAO,SAAS,EAChB,EAAO,IAAI,EACX,CAAC,OAAO,EAAE,EAAM,EAAA,CAAG,CACf,EACJ,EAAO,YAAY,EACnB,EAAO,KAAK,EACZ,GACI,EACJ,EAAO,KAAK,EACZ,EAAO,cAAc,EACrB,EACF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,sDAEV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BACb,EAAY,IACZ,GACC,CAAC,CAAC,EAAE,EAAY,CAAC,CAAC,IAErB,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA4B,KAEzC,EACC,QAZD,EAkBX,GAEA,OAAO,OAAO,CAAC,EAAK,OAAO,EAAE,GAAG,CAChC,CAAC,CAAC,EAAK,EAGN,IACC,IAAM,EACa,UAAjB,OAAO,EACH,EAAM,KAAK,EACb,EAAM,cAAc,CAClB,EACA,EACa,UAAjB,OAAO,EACH,EAAM,KAAK,EACb,EAAM,IAAI,CACR,EACA,EACY,AA3lBvD,EACJ,KAAK,CAAC,KACN,AAylB2C,GAzlBxC,CAAC,AAAC,GAAS,EAAK,MAAM,CAAC,GAAG,WAAW,GAAK,EAAK,KAAK,CAAC,GAAG,WAAW,IACtE,IAAI,CAAC,KAylBoC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,sDAEV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BACb,EAAc,IACd,GACC,CAAC,CAAC,EA3mBtD,AA2mBwD,AA3mBnC,UAAU,AAA3B,OAAkC,AAA3B,IACU,UAAjB,AAA2B,OAApB,EAA2B,OAAO,GACxB,WAAjB,AAA4B,OAArB,EAA4B,AAymBmC,EAzmB3B,MAAQ,KAChD,GAwmBiF,CAAC,CAAC,IAEzC,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA4B,KAEzC,EACC,QAZD,EAkBX,QAOV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,iBAG7B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA4B,IACxC,EAAY,SAGlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA4B,KACvC,EAAK,QAAQ,OAGpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,gBAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6BAAmB,IAC/B,EAAY,cApKf,EAAK,EAAE,CA0KlB,KAGF,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCACV,EAAM,SAAS,CAAC,QACI,IAApB,EAAM,SAAS,CAAS,IAAM,SAMrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCACb,EAAe,EAAM,QAAQ,EAAI,QAIvB,SAAd,EAAM,GAAG,EAAkB,EAAM,GAAG,CAAG,GACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,SAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCACb,EAAe,EAAM,GAAG,YAKX,IAAnB,EAAM,QAAQ,EACb,EAAM,QAAQ,CAAG,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCACb,EAAe,EAAM,QAAQ,OAKtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mCAA0B,iBAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8CACb,EAAe,EAAM,KAAK,UAMjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,UACrC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CACV,EAAM,SAAS,MAGpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,eACrC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDACV,IAAI,KAAK,EAAM,WAAW,EAAE,kBAAkB,CAC7C,QACA,CACE,MAAO,QACP,IAAK,SACP,cAQT,EAAM,SAAS,EAAI,EAAM,SAAS,CAAC,MAAM,CAAG,EAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4FACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,wCAAwC,yBAG3D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,SAAS,CAAC,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,0DAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,CAxnBJ,AAAD,IAC5B,OAAQ,EAAO,WAAW,IACxB,IAAK,UACL,IAAK,aACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,WAC1B,KAAK,IACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,WAG9B,CACF,GA8mByD,EAAS,MAAM,EACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oEACV,EAAS,gBAAgB,EACxB,WAAY,IAAI,IAChB,IACD,EAAS,cAAc,EAAI,cAE9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCACV,EAAW,EAAS,WAAW,UAItC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qGACb,EAAS,MAAM,CACb,OAAO,CAAC,KAAM,KACd,MAAM,CAAC,GACP,WAAW,GACZ,EAAS,MAAM,CACZ,OAAO,CAAC,KAAM,KACd,KAAK,CAAC,QAId,EAAS,cAAc,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,qBAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8EACb,EAAS,cAAc,GAEzB,EAAS,gBAAgB,EACxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACb,EAAS,gBAAgB,WAQrC,EAAS,QAAQ,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACZ,EAAS,QAAQ,KAnDjB,EAAS,EAAE,QA2DxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,2GAQpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAM,EAAa,CACjB,QAAS,EAAM,EAAE,CACjB,YAAa,EAAM,KAAK,CACxB,UAAW,EAAW,EAAM,WAAW,EACvC,YAAa,EAAM,MAAM,CACzB,aAAc,EAAM,KAAK,EACrB,IAAK,AAAD,GAAU,EAAK,YAAY,EAChC,KAAK,MACR,eAAgB,EAAM,eAAe,CACrC,kBAAmB,EAAM,uBAAuB,CAC5C,EAAW,EAAM,uBAAuB,EACxC,eACN,EAGA,aAAa,OAAO,CAClB,mBACA,KAAK,SAAS,CAAC,IAEjB,EAAS,WACX,EACA,UAAU,qMAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,0BAA0B,2BAGrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,mHA/kBvD,EAAM,EAAE,GAylBhB,EAAe,MAAM,CAAG,GAAK,GAAW,CAAC,GACxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,EAAiB,IACjB,EAAY,EAAc,GAAG,EAC/B,EACA,SAAU,EACV,UAAU,2JAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFAAiF,gBAIlG,0BASX,EAAe,MAAM,CAAG,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDACV,EAAc,kBAAoB,iBAErC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDACV,EAAe,MAAM,MAG1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDACV,EAAc,uBAAyB,gBAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDACV,EACC,EAAe,MAAM,CACnB,CAAC,EAAK,IAAU,EAAM,EAAM,KAAK,CACjC,SAKR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDACV,EAAc,uBAAyB,gBAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDACV,EAAe,MAAM,CACpB,CAAC,EAAK,IAAU,EAAM,EAAM,SAAS,CACrC,mBAWtB"}