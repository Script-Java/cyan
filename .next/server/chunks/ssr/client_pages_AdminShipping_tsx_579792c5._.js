module.exports=[99067,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65967),e=a.i(14001),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(65733),j=a.i(5094),k=a.i(97895);let l=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:d,className:(0,k.cn)("w-full caption-bottom text-sm",a),...c})}));l.displayName="Table";let m=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("thead",{ref:d,className:(0,k.cn)("[&_tr]:border-b",a),...c}));m.displayName="TableHeader";let n=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tbody",{ref:d,className:(0,k.cn)("[&_tr:last-child]:border-0",a),...c}));n.displayName="TableBody",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tfoot",{ref:d,className:(0,k.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let o=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tr",{ref:d,className:(0,k.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));o.displayName="TableRow";let p=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("th",{ref:d,className:(0,k.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));p.displayName="TableHead";let q=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("td",{ref:d,className:(0,k.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));q.displayName="TableCell",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("caption",{ref:d,className:(0,k.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption";var r=a.i(10227),s=a.i(15618),t=a.i(10448),u=a.i(81560),v=a.i(92e3),w=a.i(23292);let x={name:"",description:"",cost:"",processing_time_days:"",estimated_delivery_days_min:"",estimated_delivery_days_max:"",is_active:!0,display_order:""};function y(){let a=(0,d.useNavigate)(),[k,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(x),[L,M]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let b=localStorage.getItem("authToken"),c="true"===localStorage.getItem("isAdmin");b&&c?N():a("/login")},[a]);let N=async()=>{try{let a=localStorage.getItem("authToken"),b=await fetch("/api/admin/shipping-options",{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Failed to fetch shipping options");let c=await b.json();y(c.data||[])}catch(a){console.error("Error fetching shipping options:",a),w.toast.error("Failed to load shipping options")}finally{A(!1)}},O=a=>{a?(G(a.id),K({name:a.name,description:a.description||"",cost:a.cost,processing_time_days:a.processing_time_days,estimated_delivery_days_min:a.estimated_delivery_days_min,estimated_delivery_days_max:a.estimated_delivery_days_max,is_active:a.is_active,display_order:a.display_order})):(G(null),K(x)),C(!0)},P=()=>{C(!1),G(null),K(x)},Q=a=>{let{name:b,value:c,type:d}=a.target;"checkbox"===d?K(c=>({...c,[b]:a.target.checked})):["cost","processing_time_days","estimated_delivery_days_min","estimated_delivery_days_max","display_order"].includes(b)?K(a=>({...a,[b]:""===c?"":Number(c)})):K(a=>({...a,[b]:c}))},R=async()=>{let a=J.name.trim()?""===J.cost?"Cost is required":J.cost<0?"Cost must be non-negative":""===J.processing_time_days?"Processing time is required":J.processing_time_days<0?"Processing time must be non-negative":""===J.estimated_delivery_days_min?"Min delivery days is required":J.estimated_delivery_days_min<1?"Min delivery days must be at least 1":""===J.estimated_delivery_days_max?"Max delivery days is required":J.estimated_delivery_days_max<1?"Max delivery days must be at least 1":J.estimated_delivery_days_max<J.estimated_delivery_days_min?"Max delivery days must be >= min delivery days":null:"Name is required";if(a)return void w.toast.error(a);M(!0);try{let a=localStorage.getItem("authToken"),b=F?`/api/admin/shipping-options/${F}`:"/api/admin/shipping-options",c=await fetch(b,{method:F?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:J.name.trim(),...J.description&&{description:J.description.trim()},cost:Number(J.cost),processing_time_days:Number(J.processing_time_days),estimated_delivery_days_min:Number(J.estimated_delivery_days_min),estimated_delivery_days_max:Number(J.estimated_delivery_days_max),is_active:J.is_active,display_order:""===J.display_order?0:Number(J.display_order)})});if(!c.ok){let a=await c.json();if(a.details&&Array.isArray(a.details)){let b=a.details.map(a=>{let b=a.path?.join(".")||"field";return`${b}: ${a.message}`}).join(", ");throw Error(b)}throw Error(a.error||"Failed to save shipping option")}w.toast.success(F?"Shipping option updated successfully":"Shipping option created successfully"),P(),N()}catch(a){console.error("Error saving shipping option:",a),w.toast.error(a instanceof Error?a.message:"Failed to save shipping option")}finally{M(!1)}},S=async()=>{if(H){M(!0);try{let a=localStorage.getItem("authToken");if(!(await fetch(`/api/admin/shipping-options/${H}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok)throw Error("Failed to delete shipping option");w.toast.success("Shipping option deleted successfully"),E(!1),I(null),N()}catch(a){console.error("Error deleting shipping option:",a),w.toast.error(a instanceof Error?a.message:"Failed to delete shipping option")}finally{M(!1)}}};return(0,b.jsxs)(e.default,{children:[(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,b.jsx)("div",{className:"px-4 sm:px-10 py-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 text-gray-900",children:"Shipping Options"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage shipping methods, costs, and delivery times"})]}),(0,b.jsxs)(f.Button,{onClick:()=>O(),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[(0,b.jsx)(s.Plus,{className:"w-4 h-4"}),"Add Shipping Option"]})]})})})}),(0,b.jsx)("main",{className:"min-h-screen text-gray-900 px-4 sm:px-10 py-12",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto space-y-6",children:(0,b.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:z?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading shipping options..."})]}):0===k.length?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)(r.Truck,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Shipping Options"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first shipping option to get started"}),(0,b.jsx)(f.Button,{onClick:()=>O(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Shipping Option"})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(l,{children:[(0,b.jsx)(m,{children:(0,b.jsxs)(o,{className:"border-gray-200 bg-gray-50 hover:bg-gray-50",children:[(0,b.jsx)(p,{className:"text-gray-900",children:"Name"}),(0,b.jsx)(p,{className:"text-gray-900",children:"Cost"}),(0,b.jsx)(p,{className:"text-gray-900",children:"Processing Time"}),(0,b.jsx)(p,{className:"text-gray-900",children:"Est. Delivery"}),(0,b.jsx)(p,{className:"text-gray-900",children:"Status"}),(0,b.jsx)(p,{className:"text-gray-900",children:"Actions"})]})}),(0,b.jsx)(n,{children:k.map(a=>(0,b.jsxs)(o,{className:"border-gray-200 hover:bg-gray-50",children:[(0,b.jsx)(q,{className:"font-medium text-gray-900",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:a.description})]})}),(0,b.jsxs)(q,{className:"text-gray-900",children:["$",a.cost.toFixed(2)]}),(0,b.jsxs)(q,{className:"text-gray-700",children:[a.processing_time_days," day",1!==a.processing_time_days?"s":""]}),(0,b.jsxs)(q,{className:"text-gray-700",children:[a.estimated_delivery_days_min,"-",a.estimated_delivery_days_max," days"]}),(0,b.jsx)(q,{children:a.is_active?(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Active"}):(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Inactive"})}),(0,b.jsx)(q,{className:"text-gray-900",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>O(a),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:(0,b.jsx)(t.Edit2,{className:"w-4 h-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{I(a.id),E(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})})})})})]}),(0,b.jsx)(i.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(i.DialogContent,{className:"bg-white border-gray-200 max-w-2xl",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsx)(i.DialogTitle,{className:"text-gray-900",children:F?"Edit Shipping Option":"Create Shipping Option"}),(0,b.jsx)(i.DialogDescription,{className:"text-gray-600",children:F?"Update the shipping option details below":"Add a new shipping option with cost and delivery time information"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{className:"text-gray-900 mb-2 block",children:["Option Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(g.Input,{name:"name",value:J.name,onChange:Q,placeholder:"e.g., Standard Shipping, Express, Overnight",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-gray-900 mb-2 block",children:"Description"}),(0,b.jsx)("textarea",{name:"description",value:J.description,onChange:Q,placeholder:"e.g., Delivery within 5-7 business days",className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{className:"text-gray-900 mb-2 block",children:["Shipping Cost ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-2.5 text-gray-600",children:"$"}),(0,b.jsx)(g.Input,{type:"number",name:"cost",value:J.cost,onChange:Q,placeholder:"0.00",step:"0.01",min:"0",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500 pl-7"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{className:"text-gray-900 mb-2 block",children:["Processing Time ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Input,{type:"number",name:"processing_time_days",value:J.processing_time_days,onChange:Q,placeholder:"0",min:"0",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"}),(0,b.jsx)("span",{className:"text-gray-600",children:"days"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{className:"text-gray-900 mb-2 block",children:["Min Delivery Days ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(g.Input,{type:"number",name:"estimated_delivery_days_min",value:J.estimated_delivery_days_min,onChange:Q,placeholder:"1",min:"1",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{className:"text-gray-900 mb-2 block",children:["Max Delivery Days ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(g.Input,{type:"number",name:"estimated_delivery_days_max",value:J.estimated_delivery_days_max,onChange:Q,placeholder:"7",min:"1",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-gray-900 mb-2 block",children:"Display Order"}),(0,b.jsx)(g.Input,{type:"number",name:"display_order",value:J.display_order,onChange:Q,placeholder:"0",min:"0",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Lower numbers appear first"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",name:"is_active",id:"is_active",checked:J.is_active,onChange:Q,className:"w-4 h-4 rounded border-gray-300 bg-white cursor-pointer"}),(0,b.jsx)(h.Label,{htmlFor:"is_active",className:"text-gray-900 cursor-pointer",children:"Active (available for customers)"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:P,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:R,disabled:L,className:"bg-blue-600 hover:bg-blue-700 text-white",children:L?"Saving...":F?"Update":"Create"})]})]})}),(0,b.jsx)(j.AlertDialog,{open:D,onOpenChange:E,children:(0,b.jsxs)(j.AlertDialogContent,{className:"bg-white border-gray-200",children:[(0,b.jsxs)(j.AlertDialogHeader,{children:[(0,b.jsxs)(j.AlertDialogTitle,{className:"text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(v.AlertCircle,{className:"w-5 h-5 text-red-600"}),"Delete Shipping Option"]}),(0,b.jsx)(j.AlertDialogDescription,{className:"text-gray-600",children:"Are you sure you want to delete this shipping option? This action cannot be undone."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(j.AlertDialogCancel,{className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)(j.AlertDialogAction,{onClick:S,disabled:L,className:"bg-red-600 hover:bg-red-700 text-white",children:L?"Deleting...":"Delete"})]})]})})]})}a.s(["default",()=>y],99067)}];

//# sourceMappingURL=client_pages_AdminShipping_tsx_579792c5._.js.map