{"version":3,"sources":["../../../../client/pages/Product.tsx","../../../../components/ProductBenefits.tsx","../../../../components/ProductReviews.tsx"],"sourcesContent":["import ProductGallery from \"@/components/ProductGallery\";\nimport ProductBenefits from \"@/components/ProductBenefits\";\r\nimport ProductReviews from \"@/components/ProductReviews\";\r\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\r\nimport { ChevronLeft, Upload, X, AlertCircle, Check } from \"lucide-react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { toast } from \"sonner\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription,\r\n} from \"@/components/ui/dialog\";\r\n\r\ninterface ProductImage {\r\n  id?: string;\r\n  url: string;\r\n  name?: string;\r\n  preview?: string;\r\n}\r\n\r\ninterface VariantValue {\r\n  id: string;\r\n  name: string;\r\n  priceModifier?: number;\r\n  image?: {\r\n    id: string;\r\n    url: string;\r\n    name: string;\r\n    preview?: string;\r\n  };\r\n}\r\n\r\ninterface ProductOption {\r\n  id: string;\r\n  name: string;\r\n  type: \"dropdown\" | \"swatch\" | \"radio\" | \"text\";\r\n  required?: boolean;\r\n  values: VariantValue[];\r\n  defaultValueId?: string;\r\n  displayOrder?: number;\r\n}\r\n\r\ninterface ProductData {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n  base_price?: number;\r\n  price?: number;\r\n  image_url?: string;\r\n  images?: ProductImage[];\r\n  weight?: number;\r\n  type?: string;\r\n  status?: string;\r\n  options?: ProductOption[];\r\n  availability?: boolean;\r\n  customer_upload_config?: {\r\n    enabled: boolean;\r\n    maxFileSize: number;\r\n    allowedFormats: string[];\r\n    description: string;\r\n  };\r\n  optional_fields?: Array<{ name: string; type: string }>;\r\n  show_quantity_panel?: boolean;\r\n  fixed_quantity?: number | null;\r\n}\r\n\r\nconst MOCK_PRODUCTS: Record<string, ProductData> = {\r\n  \"test-square-product\": {\r\n    id: \"999\",\r\n    name: \"Test Square Product\",\r\n    description:\r\n      \"Perfect for testing Square checkout integration. $1.00 product.\",\r\n    price: 1.0,\r\n    image_url: \"/placeholder.svg\",\r\n    type: \"sticker\",\r\n    status: \"ACTIVE\",\r\n    options: [],\r\n    images: [{ url: \"/placeholder.svg\", name: \"Test Product\" }],\r\n    availability: true,\r\n    customer_upload_config: {\r\n      enabled: true,\r\n      maxFileSize: 5,\r\n      allowedFormats: [\"pdf\", \"ai\", \"png\", \"jpg\"],\r\n      description: \"Upload your design\",\r\n    },\r\n    optional_fields: [],\r\n    show_quantity_panel: true,\r\n    fixed_quantity: null,\r\n  },\r\n};\r\n\r\nexport default function Product() {\r\n  const { productId } = useParams<{ productId: string }>();\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState<ProductData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedOptions, setSelectedOptions] = useState<{\r\n    [optionId: string]: string;\r\n  }>({});\r\n  const [designFile, setDesignFile] = useState<File | null>(null);\r\n  const [designPreview, setDesignPreview] = useState<string | null>(null);\r\n  const [optionalFields, setOptionalFields] = useState<{\r\n    [fieldName: string]: string;\r\n  }>({});\r\n  const [orderNotes, setOrderNotes] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(100);\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\r\n  const [activeQuantityOption, setActiveQuantityOption] = useState<\r\n    number | null\r\n  >(100);\r\n  const [showCheckoutDialog, setShowCheckoutDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        // Check if it's a mock product first\r\n        if (productId && productId in MOCK_PRODUCTS) {\r\n          const mockProduct = MOCK_PRODUCTS[productId];\r\n          setProduct(mockProduct);\r\n          if (mockProduct.optional_fields) {\r\n            const initialFields: { [key: string]: string } = {};\r\n            mockProduct.optional_fields.forEach((field) => {\r\n              initialFields[field.name] = \"\";\r\n            });\r\n            setOptionalFields(initialFields);\r\n          }\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Handle new admin/imported product IDs (admin_11, imported_5, etc.)\r\n        if (productId?.startsWith(\"admin_\")) {\r\n          const adminId = productId.split(\"_\")[1];\r\n          const response = await fetch(`/api/public/products/admin/${adminId}`);\r\n\r\n          if (!response.ok) {\r\n            throw new Error(\"Failed to fetch admin product\");\r\n          }\r\n\r\n          const data = await response.json();\r\n          const productData: ProductData = {\r\n            id: adminId,\r\n            name: data.name,\r\n            description: data.description,\r\n            base_price: data.base_price || data.price,\r\n            price: data.base_price || data.price,\r\n            images: data.images || [\r\n              { url: data.image_url || \"/placeholder.svg\" },\r\n            ],\r\n            type: \"sticker\",\r\n            status: data.availability ? \"ACTIVE\" : \"INACTIVE\",\r\n            options: data.options || [],\r\n            availability: data.availability ?? true,\r\n            customer_upload_config: data.customer_upload_config || {\r\n              enabled: true,\r\n              maxFileSize: 5,\r\n              allowedFormats: [\"pdf\", \"ai\", \"png\", \"jpg\"],\r\n              description: \"Upload your design\",\r\n            },\r\n            optional_fields: data.optional_fields || [],\r\n            show_quantity_panel: data.show_quantity_panel === true,\r\n            fixed_quantity: data.fixed_quantity || null,\r\n          };\r\n          setProduct(productData);\r\n\r\n          // Set quantity based on product settings\r\n          if (\r\n            productData.show_quantity_panel === false &&\r\n            productData.fixed_quantity\r\n          ) {\r\n            setQuantity(productData.fixed_quantity);\r\n            setActiveQuantityOption(productData.fixed_quantity);\r\n          }\r\n\r\n          if (productData.optional_fields) {\r\n            const initialFields: { [key: string]: string } = {};\r\n            productData.optional_fields.forEach((field) => {\r\n              initialFields[field.name] = \"\";\r\n            });\r\n            setOptionalFields(initialFields);\r\n          }\r\n\r\n          if (productData.options) {\r\n            const initialOptions: { [key: string]: string } = {};\r\n            productData.options.forEach((option) => {\r\n              if (option.defaultValueId) {\r\n                initialOptions[option.id] = option.defaultValueId;\r\n              } else if (option.values && option.values.length > 0) {\r\n                initialOptions[option.id] = option.values[0].id;\r\n              }\r\n            });\r\n            setSelectedOptions(initialOptions);\r\n          }\r\n\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n\r\n        if (productId?.startsWith(\"imported_\")) {\r\n          const importedId = productId.split(\"_\")[1];\r\n          const response = await fetch(\r\n            `/api/public/products/imported/${importedId}`,\r\n          );\r\n\r\n          if (!response.ok) {\r\n            throw new Error(\"Failed to fetch imported product\");\r\n          }\r\n\r\n          const data = await response.json();\r\n          const productData: ProductData = {\r\n            id: importedId,\r\n            name: data.name,\r\n            description: data.description,\r\n            price: data.min_price || data.price,\r\n            base_price: data.min_price || data.price,\r\n            image_url: data.image_url,\r\n            images: data.image_url ? [{ url: data.image_url }] : [],\r\n            type: \"sticker\",\r\n            status: \"ACTIVE\",\r\n            options: data.options || [],\r\n            availability: true,\r\n            customer_upload_config: {\r\n              enabled: true,\r\n              maxFileSize: 5,\r\n              allowedFormats: [\"pdf\", \"ai\", \"png\", \"jpg\"],\r\n              description: \"Upload your design\",\r\n            },\r\n            optional_fields: [],\r\n            show_quantity_panel: data.show_quantity_panel === true,\r\n            fixed_quantity: data.fixed_quantity || null,\r\n          };\r\n          setProduct(productData);\r\n\r\n          // Set quantity based on product settings\r\n          if (\r\n            productData.show_quantity_panel === false &&\r\n            productData.fixed_quantity\r\n          ) {\r\n            setQuantity(productData.fixed_quantity);\r\n            setActiveQuantityOption(productData.fixed_quantity);\r\n          }\r\n\r\n          if (productData.options) {\r\n            const initialOptions: { [key: string]: string } = {};\r\n            productData.options.forEach((option) => {\r\n              if (option.defaultValueId) {\r\n                initialOptions[option.id] = option.defaultValueId;\r\n              } else if (option.values && option.values.length > 0) {\r\n                initialOptions[option.id] = option.values[0].id;\r\n              }\r\n            });\r\n            setSelectedOptions(initialOptions);\r\n          }\r\n\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n\r\n        setError(\"Product not found\");\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        const errorMessage =\r\n          err instanceof Error ? err.message : \"Failed to load product\";\r\n        console.error(\"Product fetch error:\", {\r\n          productId,\r\n          error: errorMessage,\r\n          details: err,\r\n        });\r\n        setError(errorMessage);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProduct();\r\n  }, [productId]);\r\n\r\n  const handleDesignUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const allowedFormats = product?.customer_upload_config?.allowedFormats || [\r\n      \"pdf\",\r\n      \"ai\",\r\n      \"png\",\r\n      \"jpg\",\r\n    ];\r\n    if (\r\n      !allowedFormats.includes(file.name.split(\".\").pop()?.toLowerCase() || \"\")\r\n    ) {\r\n      toast.error(`Invalid File Format. Allowed: ${allowedFormats.join(\", \")}`);\r\n      return;\r\n    }\r\n\r\n    const maxSize =\r\n      (product?.customer_upload_config?.maxFileSize || 5) * 1024 * 1024;\r\n    if (file.size > maxSize) {\r\n      toast.error(\r\n        `File Too Large. Max: ${product?.customer_upload_config?.maxFileSize}MB`,\r\n      );\r\n      return;\r\n    }\r\n\r\n    setDesignFile(file);\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      setDesignPreview(event.target?.result as string);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const removeDesign = () => {\r\n    setDesignFile(null);\r\n    setDesignPreview(null);\r\n  };\r\n\r\n  const calculatePrice = (): string => {\r\n    if (!product) return \"0.00\";\r\n    let totalPrice = product.base_price || 0;\r\n\r\n    Object.entries(selectedOptions).forEach(([optionId, valueId]) => {\r\n      const option = product.options?.find((o) => o.id === optionId);\r\n      if (option) {\r\n        const value = option.values.find((v) => v.id === valueId);\r\n        if (value && value.priceModifier && value.priceModifier !== 0) {\r\n          totalPrice += value.priceModifier;\r\n        }\r\n      }\r\n    });\r\n\r\n    return totalPrice.toFixed(2);\r\n  };\r\n\r\n  const getQuantityTierPricing = () => {\r\n    const basePricePerUnit = parseFloat(calculatePrice());\r\n    const quantityTiers = [\r\n      { qty: 50, discountPercent: 0 },\r\n      { qty: 100, discountPercent: 0 },\r\n      { qty: 200, discountPercent: 0 },\r\n      { qty: 300, discountPercent: 0 },\r\n      { qty: 500, discountPercent: 0 },\r\n      { qty: 1000, discountPercent: 0 },\r\n      { qty: 2500, discountPercent: 0 },\r\n    ];\r\n\r\n    return quantityTiers.map((tier) => {\r\n      const discountedPrice =\r\n        basePricePerUnit * (1 - tier.discountPercent / 100);\r\n      const totalPrice = discountedPrice * tier.qty;\r\n      return {\r\n        qty: tier.qty,\r\n        price: totalPrice,\r\n        save: tier.discountPercent > 0 ? tier.discountPercent : null,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleAddToCart = async () => {\r\n    if (product?.customer_upload_config?.enabled && !designFile) {\r\n      toast.error(\"Please upload your design to continue\");\r\n      return;\r\n    }\r\n\r\n    setIsAddingToCart(true);\r\n    try {\r\n      const basePrice = parseFloat(calculatePrice());\r\n      const quantityTiers = [\r\n        { qty: 50, discountPercent: 0 },\r\n        { qty: 100, discountPercent: 0 },\r\n        { qty: 200, discountPercent: 0 },\r\n        { qty: 300, discountPercent: 0 },\r\n        { qty: 500, discountPercent: 0 },\r\n        { qty: 1000, discountPercent: 0 },\r\n        { qty: 2500, discountPercent: 0 },\r\n      ];\r\n      const tierInfo = quantityTiers.find((t) => t.qty === quantity);\r\n      const savePercentage = tierInfo?.discountPercent || 0;\r\n\r\n      const discountedPricePerUnit = basePrice * (1 - savePercentage / 100);\r\n      const totalPrice = discountedPricePerUnit * quantity;\r\n\r\n      // Upload design file to server if provided\r\n      let design_file_url: string | undefined;\r\n      if (designFile) {\r\n        try {\r\n          const reader = new FileReader();\r\n          const fileData = await new Promise<string>((resolve) => {\r\n            reader.onload = (event) => {\r\n              const result = event.target?.result as string;\r\n              // Extract base64 part\r\n              const base64 = result.split(\",\")[1];\r\n              resolve(base64);\r\n            };\r\n            reader.readAsDataURL(designFile);\r\n          });\r\n\r\n          const token = localStorage.getItem(\"authToken\");\r\n          const uploadResponse = await fetch(\"/api/designs/upload\", {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              ...(token && { Authorization: `Bearer ${token}` }),\r\n            },\r\n            body: JSON.stringify({\r\n              fileData,\r\n              fileName: designFile.name,\r\n              fileType: designFile.type,\r\n            }),\r\n          });\r\n\r\n          if (!uploadResponse.ok) {\r\n            throw new Error(\"Failed to upload design file\");\r\n          }\r\n\r\n          const uploadData = await uploadResponse.json();\r\n          design_file_url = uploadData.fileUrl;\r\n        } catch (error) {\r\n          console.error(\"Error uploading design file:\", error);\r\n          toast.error(\r\n            \"Design file upload failed. Try again or continue without uploading.\",\r\n          );\r\n        }\r\n      }\r\n\r\n      const cartItem = {\r\n        productId: productId!,\r\n        selectedOptions,\r\n        design_file_url,\r\n        optionalFields,\r\n        orderNotes,\r\n        quantity,\r\n        pricePerUnit: discountedPricePerUnit,\r\n        totalPrice,\r\n        basePrice,\r\n        savePercentage,\r\n      };\r\n\r\n      const existingCart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\");\r\n      existingCart.push(cartItem);\r\n      localStorage.setItem(\"cart\", JSON.stringify(existingCart));\r\n\r\n      // Calculate total items in cart\r\n      const totalItems = existingCart.reduce(\r\n        (sum: number, item: any) => sum + item.quantity,\r\n        0,\r\n      );\r\n\r\n      // Dispatch storage event to update header cart badge\r\n      window.dispatchEvent(\r\n        new StorageEvent(\"storage\", {\r\n          key: \"cart\",\r\n          newValue: JSON.stringify(existingCart),\r\n          storageArea: localStorage,\r\n        }),\r\n      );\r\n\r\n      toast.success(\r\n        totalItems === 1\r\n          ? \"1 item added to cart\"\r\n          : `${totalItems} items added to cart`,\r\n        {\r\n          description: `You now have ${totalItems} item${totalItems !== 1 ? \"s\" : \"\"} in your cart`,\r\n        },\r\n      );\r\n      setShowCheckoutDialog(true);\r\n    } catch (error) {\r\n      console.error(\"Error adding to cart:\", error);\r\n      toast.error(\"Failed to add product to cart\");\r\n    } finally {\r\n      setIsAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\n        <div className=\"min-h-screen bg-[#fafafa] text-black flex items-center justify-center pt-20\">\n          <div className=\"text-center\">\n            <p className=\"text-gray-600\">Loading product...</p>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  if (error || !product) {\n    return (\n      <>\n        <div className=\"pt-20 min-h-screen bg-[#fafafa]\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\r\n            <div className=\"text-center\">\r\n              <AlertCircle className=\"w-12 h-12 text-red-600 mx-auto mb-4\" />\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\r\n                Product Not Found\r\n              </h1>\r\n              <p className=\"text-gray-600 mb-8\">\r\n                {error || \"We couldn't find the product you're looking for.\"}\r\n              </p>\r\n              <Link\r\n                to=\"/products\"\r\n                className=\"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-all\"\r\n              >\r\n                <ChevronLeft className=\"w-5 h-5\" />\r\n                Back to Products\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  const productImages =\r\n    product.images && product.images.length > 0\r\n      ? product.images.map((img) => img.url)\r\n      : [product.image_url || \"/placeholder.svg\"];\r\n\r\n  return (\n    <>\n      <main className=\"min-h-screen bg-white text-black\">\n        <div\r\n          style={{\r\n            maxWidth: \"1100px\",\r\n            margin: \"58px auto 3px\",\r\n            padding: \"8px 12px 80px\",\r\n          }}\r\n          className=\"px-3 sm:px-4 lg:px-6\"\r\n        >\r\n          {/* Back Navigation */}\r\n          <button\r\n            onClick={() => navigate(\"/products\")}\r\n            className=\"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition mb-2\"\r\n          >\r\n            <ChevronLeft className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Product Gallery with Description */}\r\n          <div\r\n            className=\"mb-3 bg-white rounded-lg border border-gray-200 p-3\"\r\n            style={{\r\n              backdropFilter: \"blur(4px)\",\r\n              backgroundColor: \"rgb(255, 255, 255)\",\r\n              borderColor: \"rgba(220, 220, 220, 0.8)\",\r\n            }}\r\n          >\r\n            <div className=\"mb-2\">\r\n              <ProductGallery\r\n                images={productImages}\r\n                productName={product.name}\r\n                productDescription={product.description}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content Grid - 3 Columns */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-3\">\r\n            {/* Product Options - Each in Own Column */}\r\n            {product.options &&\r\n              product.options.map((option) => (\r\n                <div\r\n                  key={option.id}\r\n                  className=\"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg\"\r\n                  style={{ marginRight: \"0px\", padding: \"10px 8px 10px 8px\" }}\r\n                >\r\n                  <h2 className=\"text-xs font-bold mb-1.5 flex items-center gap-1\">\r\n                    {option.name === \"Shape\" && (\r\n                      <img\r\n                        src=\"https://res.cloudinary.com/dxcnvqk6b/image/upload/v1763135086/StickerShuttle_DieCutIcon_r0vire.png\"\r\n                        alt={option.name}\r\n                        className=\"w-5 h-5\"\r\n                      />\r\n                    )}\r\n                    {option.name === \"Material\" && (\r\n                      <img\r\n                        src=\"https://res.cloudinary.com/dxcnvqk6b/image/upload/v1763228661/StickerShuttle_KissCutIcon_pynbqq.png\"\r\n                        alt={option.name}\r\n                        className=\"w-5 h-5\"\r\n                      />\r\n                    )}\r\n                    {option.name === \"Size\" && (\r\n                      <img\r\n                        src=\"https://res.cloudinary.com/dxcnvqk6b/image/upload/v1763135086/StickerShuttle_CircleIcon_igib6i.png\"\r\n                        alt={option.name}\r\n                        className=\"w-5 h-5\"\r\n                      />\r\n                    )}\r\n                    <span className=\"truncate\">Select a {option.name}</span>\r\n                  </h2>\r\n\r\n                  {option.type === \"dropdown\" && (\r\n                    <div className=\"grid grid-cols-1 gap-2\">\r\n                      {option.values.map((value, index) => (\r\n                        <button\r\n                          key={value.id}\r\n                          onClick={() => {\r\n                            const newOptions = {\r\n                              ...selectedOptions,\r\n                              [option.id]: value.id,\r\n                            };\r\n                            setSelectedOptions(newOptions);\r\n                          }}\r\n                          className={`relative flex flex-row items-center justify-start gap-3 border-2 rounded p-2 transition text-left ${\r\n                            selectedOptions[option.id] === value.id\r\n                              ? \"border-purple-500 bg-purple-100 shadow-lg shadow-purple-200/50\"\r\n                              : \"border-gray-200 hover:border-gray-300 bg-gray-50\"\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex-shrink-0\">\r\n                            {option.name === \"Material\" &&\r\n                            value.name?.toLowerCase() === \"satin\" ? (\r\n                              <img\r\n                                src=\"https://cdn.builder.io/api/v1/image/assets%2F1e00ee8c48924560b1c928d354e4521b%2F1b04ce3e2b7342ff891113ccedd6beda?format=webp&width=800\"\r\n                                alt=\"Satin\"\r\n                                className=\"w-10 h-10 object-contain\"\r\n                              />\r\n                            ) : (\r\n                              value.image && (\r\n                                <img\r\n                                  src={value.image.preview || value.image.url}\r\n                                  alt={value.name}\r\n                                  className=\"w-10 h-10 object-contain\"\r\n                                />\r\n                              )\r\n                            )}\r\n                          </div>\r\n                          <div className=\"flex-grow flex flex-col items-start justify-center\">\r\n                            <p className=\"font-medium text-sm text-black\">\r\n                              {value.name}\r\n                            </p>\r\n                            {value.priceModifier !== undefined &&\r\n                              value.priceModifier > 0 && (\r\n                                <p className=\"text-xs text-gray-600 mt-0.5\">\r\n                                  +${value.priceModifier.toFixed(2)}\r\n                                </p>\r\n                              )}\r\n                          </div>\r\n                          {index === 0 && (\r\n                            <span\r\n                              className=\"absolute top-1 right-1 text-xxs font-bold text-white bg-purple-600 px-1.5 py-0.5 rounded\"\r\n                              style={{ fontSize: \"10px\" }}\r\n                            >\r\n                              Popular\r\n                            </span>\r\n                          )}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n\r\n                  {option.type === \"radio\" && (\r\n                    <div className=\"grid grid-cols-2 gap-1\">\r\n                      {option.values.map((value) => (\r\n                        <button\r\n                          key={value.id}\r\n                          onClick={() => {\r\n                            const newOptions = {\r\n                              ...selectedOptions,\r\n                              [option.id]: value.id,\r\n                            };\r\n                            setSelectedOptions(newOptions);\r\n                          }}\r\n                          className={`border-2 rounded-lg p-1 transition text-center text-xs ${\r\n                            selectedOptions[option.id] === value.id\r\n                              ? \"border-purple-500 bg-purple-100\"\r\n                              : \"border-gray-200 hover:border-gray-300 bg-gray-50\"\r\n                          }`}\r\n                        >\r\n                          {value.image && (\r\n                            <img\r\n                              src={value.image.preview || value.image.url}\r\n                              alt={value.name}\r\n                              className=\"w-8 h-8 object-cover mx-auto mb-0.5 rounded\"\r\n                            />\r\n                          )}\r\n                          <p className=\"font-medium text-xs text-black\">\r\n                            {value.name}\r\n                          </p>\r\n                          {value.priceModifier !== undefined &&\r\n                            value.priceModifier > 0 && (\r\n                              <p className=\"text-xs text-gray-600 mt-0.5\">\r\n                                +${value.priceModifier.toFixed(2)}\r\n                              </p>\r\n                            )}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n\r\n                  {option.type === \"swatch\" && (\r\n                    <div className=\"grid grid-cols-2 gap-1.5\">\r\n                      {option.values.map((value) => (\r\n                        <button\r\n                          key={value.id}\r\n                          onClick={() => {\r\n                            const newOptions = {\r\n                              ...selectedOptions,\r\n                              [option.id]: value.id,\r\n                            };\r\n                            setSelectedOptions(newOptions);\r\n                          }}\r\n                          className={`relative border-2 rounded overflow-hidden transition flex flex-col items-center justify-center p-1 ${\r\n                            selectedOptions[option.id] === value.id\r\n                              ? \"border-purple-500\"\r\n                              : \"border-gray-200 hover:border-gray-300\"\r\n                          }`}\r\n                        >\r\n                          {value.image ? (\r\n                            <img\r\n                              src={value.image.preview || value.image.url}\r\n                              alt={value.name}\r\n                              className=\"w-10 h-10 object-contain\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-10 bg-gray-100 flex items-center justify-center\">\r\n                              <span className=\"text-gray-600 text-xs text-center px-1 truncate\">\r\n                                {value.name}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                          <span className=\"text-gray-700 text-xs mt-0.5 font-medium text-center truncate\">\r\n                            {value.name}\r\n                          </span>\r\n                          {(value.priceModifier ?? 0) > 0 && (\r\n                            <span className=\"text-purple-600 text-xs font-bold mt-0.5\">\r\n                              +$\r\n                              {value.priceModifier?.toFixed(2)}\r\n                            </span>\r\n                          )}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n\r\n                  {option.type === \"text\" && (\r\n                    <Input\r\n                      type=\"text\"\r\n                      value={selectedOptions[option.id] || \"\"}\r\n                      onChange={(e) =>\r\n                        setSelectedOptions((prev) => ({\r\n                          ...prev,\r\n                          [option.id]: e.target.value,\r\n                        }))\r\n                      }\r\n                      placeholder={`Enter ${option.name}`}\r\n                      className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n            {/* Manual Quantity Input */}\r\n            <div className=\"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3\">\r\n              <label className=\"text-xs font-bold block mb-2\">\r\n                {product.fixed_quantity ? (\r\n                  <>\r\n                    <svg\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                      className=\"w-4 h-4 inline mr-1\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth=\"2\"\r\n                        d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm6-10V7a3 3 0 00-3-3h0a3 3 0 00-3 3v2h6z\"\r\n                      />\r\n                    </svg>\r\n                    Fixed Quantity\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <svg\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                      className=\"w-4 h-4 inline mr-1\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth=\"2\"\r\n                        d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\r\n                      />\r\n                    </svg>\r\n                    Quantity\r\n                  </>\r\n                )}\r\n              </label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                value={quantity}\r\n                onChange={(e) => {\r\n                  if (!product.fixed_quantity) {\r\n                    const value = parseInt(e.target.value) || 1;\r\n                    setQuantity(Math.max(1, value));\r\n                  }\r\n                }}\r\n                disabled={!!product.fixed_quantity}\r\n                readOnly={!!product.fixed_quantity}\r\n                className={`text-sm ${\r\n                  product.fixed_quantity\r\n                    ? \"bg-gray-100 border-gray-300 text-gray-700 cursor-not-allowed opacity-70\"\r\n                    : \"bg-white border-gray-200 text-black placeholder-gray-500\"\r\n                }`}\r\n              />\r\n              <p className=\"text-gray-500 text-xs mt-1\">\r\n                {product.fixed_quantity\r\n                  ? \"‚úì Fixed quantity - cannot be changed\"\r\n                  : \"Enter desired quantity\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Price Summary Section */}\r\n          <div className=\"backdrop-blur-xl bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-300 rounded-lg p-4 mb-4 shadow-lg\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {/* Selected Quantity */}\r\n              <div className=\"bg-white rounded-lg p-3 text-center border border-purple-200\">\r\n                <p className=\"text-gray-600 text-xs font-semibold uppercase mb-1\">\r\n                  Selected Quantity\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-purple-600\">\r\n                  {quantity.toLocaleString()}\r\n                </p>\r\n                <p className=\"text-gray-500 text-xs mt-1\">stickers</p>\r\n              </div>\r\n\r\n              {/* Price Per Unit */}\r\n              <div className=\"bg-white rounded-lg p-3 text-center border border-blue-200\">\r\n                <p className=\"text-gray-600 text-xs font-semibold uppercase mb-1\">\r\n                  Price Per sticker\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-blue-600\">\r\n                  ${parseFloat(calculatePrice()).toFixed(2)}\r\n                </p>\r\n                <p className=\"text-gray-500 text-xs mt-1\">each</p>\r\n              </div>\r\n\r\n              {/* Total Price */}\r\n              <div className=\"bg-white rounded-lg p-3 text-center border-2 border-green-400\">\r\n                <p className=\"text-gray-600 text-xs font-semibold uppercase mb-1\">\r\n                  Total Price\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-green-600\">\r\n                  ${(parseFloat(calculatePrice()) * quantity).toFixed(2)}\r\n                </p>\r\n                <p className=\"text-gray-500 text-xs mt-1\">for your order</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Product Benefits */}\r\n            <ProductBenefits />\r\n          </div>\r\n\r\n          {/* Below Grid - Additional Fields and Upload */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-3\">\r\n            {/* Additional Fields */}\r\n            {product.optional_fields && product.optional_fields.length > 0 && (\r\n              <div className=\"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3\">\r\n                <h2 className=\"text-xs font-bold mb-1.5\">\r\n                  ‚úèÔ∏è Additional Instructions (optional)\r\n                </h2>\r\n                <div className=\"space-y-1.5\">\r\n                  {product.optional_fields.map((field) => (\r\n                    <div key={field.name}>\r\n                      <Label className=\"text-gray-700 text-xs mb-1 block\">\r\n                        {field.name}\r\n                      </Label>\r\n                      {field.type === \"textarea\" ? (\r\n                        <Textarea\r\n                          value={optionalFields[field.name] || \"\"}\r\n                          onChange={(e) =>\r\n                            setOptionalFields((prev) => ({\r\n                              ...prev,\r\n                              [field.name]: e.target.value,\r\n                            }))\r\n                          }\r\n                          placeholder={`Enter any special requests or instructions here...`}\r\n                          className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 min-h-12 text-xs\"\r\n                        />\r\n                      ) : field.type === \"date\" ? (\r\n                        <Input\r\n                          type=\"date\"\r\n                          value={optionalFields[field.name] || \"\"}\r\n                          onChange={(e) =>\r\n                            setOptionalFields((prev) => ({\r\n                              ...prev,\r\n                              [field.name]: e.target.value,\r\n                            }))\r\n                          }\r\n                          className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n                        />\r\n                      ) : field.type === \"number\" ? (\r\n                        <Input\r\n                          type=\"number\"\r\n                          value={optionalFields[field.name] || \"\"}\r\n                          onChange={(e) =>\r\n                            setOptionalFields((prev) => ({\r\n                              ...prev,\r\n                              [field.name]: e.target.value,\r\n                            }))\r\n                          }\r\n                          placeholder={`Enter ${field.name}`}\r\n                          className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n                        />\r\n                      ) : (\r\n                        <Input\r\n                          type=\"text\"\r\n                          value={optionalFields[field.name] || \"\"}\r\n                          onChange={(e) =>\r\n                            setOptionalFields((prev) => ({\r\n                              ...prev,\r\n                              [field.name]: e.target.value,\r\n                            }))\r\n                          }\r\n                          placeholder={`Enter ${field.name}`}\r\n                          className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Custom Design Upload */}\r\n            {product.customer_upload_config?.enabled && (\r\n              <div className=\"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3\">\r\n                <h2 className=\"text-xs font-bold mb-1\">Upload your artwork</h2>\r\n                <p className=\"text-gray-600 text-xs mb-1.5\">\r\n                  {product.customer_upload_config.description}\r\n                </p>\r\n\r\n                {designPreview ? (\r\n                  <div className=\"space-y-1.5\">\r\n                    <div className=\"relative bg-gray-50 border border-gray-200 rounded overflow-hidden\">\r\n                      <img\r\n                        src={designPreview}\r\n                        alt=\"Design preview\"\r\n                        className=\"w-full h-20 object-contain p-1.5\"\r\n                      />\r\n                      <button\r\n                        onClick={removeDesign}\r\n                        className=\"absolute top-2 right-2 bg-red-600/80 hover:bg-red-700 text-white p-1 rounded\"\r\n                      >\r\n                        <X className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                    <p className=\"text-gray-600 text-xs\">\r\n                      {designFile?.name} (\r\n                      {((designFile?.size || 0) / 1024 / 1024).toFixed(2)} MB)\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <label className=\"flex flex-col items-center justify-center gap-1.5 border-2 border-dashed border-green-600 rounded p-2 cursor-pointer hover:border-green-700 transition bg-green-50\">\r\n                    <img\r\n                      src=\"https://cdn.builder.io/api/v1/image/assets%2F1e00ee8c48924560b1c928d354e4521b%2Fcee606b598864f7a983db9ee1358acf5?format=webp&width=800\"\r\n                      alt=\"Upload\"\r\n                      className=\"w-8 h-8\"\r\n                    />\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-black font-medium text-xs\">\r\n                        Drag or click to upload\r\n                      </p>\r\n                      <p className=\"text-gray-600 text-xs mt-0.5\">\r\n                        All formats supported. Max file size:{\" \"}\r\n                        {product.customer_upload_config.maxFileSize}MB | 1 file\r\n                        per order\r\n                      </p>\r\n                    </div>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept={product.customer_upload_config.allowedFormats\r\n                        .map((f) => `.${f}`)\r\n                        .join(\",\")}\r\n                      onChange={handleDesignUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                  </label>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Order Notes */}\r\n            <div className=\"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3\">\r\n              <h2 className=\"text-xs font-bold mb-1.5\">\r\n                üìù Order Notes (optional)\r\n              </h2>\r\n              <Textarea\r\n                value={orderNotes}\r\n                onChange={(e) => setOrderNotes(e.target.value)}\r\n                placeholder=\"Add any special requests or notes...\"\r\n                className=\"bg-white border-gray-300 text-black placeholder-gray-500 min-h-10 text-xs\"\r\n              />\r\n              <p className=\"text-gray-600 text-xs mt-1\">\r\n                Let us know about any special requirements or customizations\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Add to Cart Button - Full Width */}\r\n          <div className=\"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3\">\r\n            <Button\r\n              onClick={handleAddToCart}\r\n              disabled={\r\n                isAddingToCart ||\r\n                !product.availability ||\r\n                (product.customer_upload_config?.enabled && !designFile)\r\n              }\r\n              className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-1.5 text-xs font-semibold gap-2 rounded\"\r\n            >\r\n              <Upload className=\"w-3 h-3\" />\r\n              {isAddingToCart\r\n                ? \"Adding to Cart...\"\r\n                : product.customer_upload_config?.enabled && !designFile\r\n                  ? \"Upload Artwork\"\r\n                  : !product.availability\r\n                    ? \"Out of Stock\"\r\n                    : \"Add to Cart\"}\r\n            </Button>\r\n\r\n            <p className=\"text-center text-gray-600 text-xs mt-1.5\">\r\n              Items will be added to your cart\r\n            </p>\r\n          </div>\r\n\r\n          {/* Product Reviews Section */}\r\n          <ProductReviews productId={productId!} />\r\n        </div>\r\n      </main>\r\n\r\n      {/* Post-Checkout Action Dialog */}\r\n      <Dialog open={showCheckoutDialog} onOpenChange={setShowCheckoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader>\r\n            <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-green-100 rounded-full mb-4\">\r\n              <Check className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n            <DialogTitle className=\"text-center text-xl\">\r\n              Item Added to Cart!\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-center\">\r\n              Your artwork has been successfully added. What would you like to\r\n              do next?\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"flex flex-col gap-3 mt-6\">\r\n            <Button\r\n              onClick={() => {\r\n                setShowCheckoutDialog(false);\r\n                setDesignFile(null);\r\n                setDesignPreview(null);\r\n                setOrderNotes(\"\");\r\n              }}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white\"\r\n            >\r\n              Add to Cart & Keep Shopping\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                setShowCheckoutDialog(false);\r\n                navigate(\"/checkout-new\");\r\n              }}\r\n              className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\r\n            >\r\n              Go to Checkout\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","import { CheckCircle, Clock, Package } from \"lucide-react\";\r\n\r\nexport default function ProductBenefits() {\r\n  const benefits = [\r\n    {\r\n      icon: CheckCircle,\r\n      color: \"text-green-600\",\r\n      title: \"Free Online Proof\",\r\n      description: \"Review your design before production\",\r\n    },\r\n    {\r\n      icon: Clock,\r\n      color: \"text-orange-600\",\r\n      title: \"Printed in 24-48 hours\",\r\n      description: \"Fast turnaround on all orders\",\r\n    },\r\n    {\r\n      icon: Package,\r\n      color: \"text-blue-600\",\r\n      title: \"Free Shipping, always.\",\r\n      description: \"No hidden fees or charges\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-gray-200 p-4 mb-3\">\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n        {benefits.map((benefit, index) => {\r\n          const Icon = benefit.icon;\r\n          return (\r\n            <div\r\n              key={index}\r\n              className=\"flex items-start gap-3\"\r\n            >\r\n              <div className=\"flex-shrink-0 mt-0.5\">\r\n                <Icon className={`w-5 h-5 ${benefit.color}`} />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"font-semibold text-sm text-gray-900\">\r\n                  {benefit.title}\r\n                </h3>\r\n                <p className=\"text-xs text-gray-600 mt-0.5\">\r\n                  {benefit.description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { toast } from \"sonner\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Star, Upload, X, Loader2, Image as ImageIcon } from \"lucide-react\";\r\n\r\ninterface Review {\r\n  id: number;\r\n  product_id: string;\r\n  reviewer_name: string;\r\n  rating: number;\r\n  title?: string;\r\n  comment?: string;\r\n  image_urls?: string[];\r\n  helpful_count?: number;\r\n  created_at: string;\r\n}\r\n\r\ninterface ProductReviewsProps {\r\n  productId: string;\r\n}\r\n\r\nexport default function ProductReviews({ productId }: ProductReviewsProps) {\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [averageRating, setAverageRating] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    reviewer_name: \"\",\r\n    reviewer_email: \"\",\r\n    rating: 5,\r\n    title: \"\",\r\n    comment: \"\",\r\n  });\r\n  const [uploadedImages, setUploadedImages] = useState<string[]>([]);\r\n  const [imagePreviewUrls, setImagePreviewUrls] = useState<string[]>([]);\r\n\r\n  // Fetch reviews on mount\r\n  useEffect(() => {\r\n    fetchReviews();\r\n  }, [productId]);\r\n\r\n  const fetchReviews = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(`/api/reviews/${productId}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReviews(data.reviews || []);\r\n        setAverageRating(parseFloat(data.averageRating) || 0);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching reviews:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (!files) return;\r\n\r\n    // Limit to 3 images\r\n    if (uploadedImages.length >= 3) {\r\n      toast.error(\"Maximum 3 images per review\");\r\n      return;\r\n    }\r\n\r\n    Array.from(files).forEach((file) => {\r\n      if (!file.type.startsWith(\"image/\")) {\r\n        toast.error(\"Only image files are allowed\");\r\n        return;\r\n      }\r\n\r\n      if (file.size > 15 * 1024 * 1024) {\r\n        toast.error(\"Image size must be less than 15MB\");\r\n        return;\r\n      }\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        const base64 = event.target?.result as string;\r\n        setUploadedImages((prev) => [...prev, base64]);\r\n        setImagePreviewUrls((prev) => [...prev, base64]);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  const removeImage = (index: number) => {\r\n    setUploadedImages((prev) => prev.filter((_, i) => i !== index));\r\n    setImagePreviewUrls((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleSubmitReview = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!formData.reviewer_name.trim() || !formData.reviewer_email.trim()) {\r\n      toast.error(\"Please fill in all required fields\");\r\n      return;\r\n    }\r\n\r\n    if (!formData.comment.trim() && !formData.title.trim()) {\r\n      toast.error(\"Please write a review or title\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const response = await fetch(\"/api/reviews\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          product_id: productId,\r\n          reviewer_name: formData.reviewer_name.trim(),\r\n          reviewer_email: formData.reviewer_email.trim(),\r\n          rating: formData.rating,\r\n          title: formData.title.trim(),\r\n          comment: formData.comment.trim(),\r\n          images: uploadedImages,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        toast.success(\"Review submitted! It will appear after moderation.\");\r\n        // Reset form\r\n        setFormData({\r\n          reviewer_name: \"\",\r\n          reviewer_email: \"\",\r\n          rating: 5,\r\n          title: \"\",\r\n          comment: \"\",\r\n        });\r\n        setUploadedImages([]);\r\n        setImagePreviewUrls([]);\r\n        setShowForm(false);\r\n        // Refresh reviews\r\n        await fetchReviews();\r\n      } else {\r\n        const error = await response.json();\r\n        toast.error(error.error || \"Failed to submit review\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting review:\", error);\r\n      toast.error(\"Failed to submit review\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const RatingStars = ({ rating, readonly = false, onChange }: { rating: number; readonly?: boolean; onChange?: (r: number) => void }) => (\r\n    <div className=\"flex gap-2\">\r\n      {[1, 2, 3, 4, 5].map((star) => (\r\n        <button\r\n          key={star}\r\n          onClick={() => !readonly && onChange?.(star)}\r\n          className={`transition-all ${readonly ? \"cursor-default\" : \"cursor-pointer\"}`}\r\n          disabled={readonly}\r\n        >\r\n          <Star\r\n            className={`w-5 h-5 ${\r\n              star <= rating\r\n                ? \"fill-yellow-400 text-yellow-400\"\r\n                : \"text-gray-300\"\r\n            }`}\r\n          />\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"backdrop-blur-xl bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-300 rounded-lg p-4 mt-4 shadow-lg\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-1 uppercase\">‚≠ê Customer Reviews</h2>\r\n          <div className=\"flex items-center gap-3\">\r\n            {reviews.length > 0 && (\r\n              <>\r\n                <div className=\"flex items-center gap-1\">\r\n                  <div className=\"flex gap-1\">\r\n                    {[1, 2, 3, 4, 5].map((star) => (\r\n                      <Star\r\n                        key={star}\r\n                        className={`w-4 h-4 ${\r\n                          star <= Math.round(averageRating)\r\n                            ? \"fill-yellow-400 text-yellow-400\"\r\n                            : \"text-gray-300\"\r\n                        }`}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                  <span className=\"text-sm font-semibold text-gray-700\">{averageRating.toFixed(1)}</span>\r\n                </div>\r\n                <span className=\"text-xs text-gray-600\">({reviews.length} {reviews.length === 1 ? \"review\" : \"reviews\"})</span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {!showForm && (\r\n          <Button\r\n            onClick={() => setShowForm(true)}\r\n            className=\"bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold shadow-md\"\r\n          >\r\n            ‚úçÔ∏è Write a Review\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Review Form */}\r\n      {showForm && (\r\n        <form onSubmit={handleSubmitReview} className=\"mb-6 p-4 bg-white rounded-lg border-2 border-purple-200 shadow-md\">\r\n          <div className=\"space-y-4\">\r\n            {/* Name and Email */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              <div>\r\n                <Label className=\"text-gray-700 text-xs font-semibold mb-1 block\">\r\n                  Your Name *\r\n                </Label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={formData.reviewer_name}\r\n                  onChange={(e) => setFormData({ ...formData, reviewer_name: e.target.value })}\r\n                  placeholder=\"John Doe\"\r\n                  className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label className=\"text-gray-700 text-xs font-semibold mb-1 block\">\r\n                  Your Email *\r\n                </Label>\r\n                <Input\r\n                  type=\"email\"\r\n                  value={formData.reviewer_email}\r\n                  onChange={(e) => setFormData({ ...formData, reviewer_email: e.target.value })}\r\n                  placeholder=\"john@example.com\"\r\n                  className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Rating */}\r\n            <div>\r\n              <Label className=\"text-gray-700 text-xs font-semibold mb-2 block\">\r\n                Rating *\r\n              </Label>\r\n              <RatingStars\r\n                rating={formData.rating}\r\n                onChange={(r) => setFormData({ ...formData, rating: r })}\r\n              />\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <div>\r\n              <Label className=\"text-gray-700 text-xs font-semibold mb-1 block\">\r\n                Review Title\r\n              </Label>\r\n              <Input\r\n                type=\"text\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                placeholder=\"e.g., Excellent quality stickers!\"\r\n                className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs\"\r\n              />\r\n            </div>\r\n\r\n            {/* Comment */}\r\n            <div>\r\n              <Label className=\"text-gray-700 text-xs font-semibold mb-1 block\">\r\n                Your Review *\r\n              </Label>\r\n              <Textarea\r\n                value={formData.comment}\r\n                onChange={(e) => setFormData({ ...formData, comment: e.target.value })}\r\n                placeholder=\"Share your experience with this product...\"\r\n                className=\"bg-gray-50 border-gray-200 text-black placeholder-gray-500 min-h-24 text-xs\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Image Upload */}\r\n            <div>\r\n              <Label className=\"text-gray-700 text-xs font-semibold mb-2 block\">\r\n                Upload Photos (optional - max 3)\r\n              </Label>\r\n\r\n              {imagePreviewUrls.length > 0 && (\r\n                <div className=\"grid grid-cols-3 gap-2 mb-3\">\r\n                  {imagePreviewUrls.map((preview, idx) => (\r\n                    <div key={idx} className=\"relative bg-gray-100 rounded overflow-hidden\">\r\n                      <img\r\n                        src={preview}\r\n                        alt={`Review image ${idx + 1}`}\r\n                        className=\"w-full h-20 object-cover\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeImage(idx)}\r\n                        className=\"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-white p-1 rounded\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {uploadedImages.length < 3 && (\r\n                <label className=\"flex flex-col items-center justify-center gap-2 border-2 border-dashed border-purple-400 rounded p-3 cursor-pointer hover:border-purple-500 transition bg-purple-50\">\r\n                  <ImageIcon className=\"w-5 h-5 text-purple-600\" />\r\n                  <div className=\"text-center\">\r\n                    <p className=\"text-black font-medium text-xs\">Click to upload photos</p>\r\n                    <p className=\"text-gray-600 text-xs mt-0.5\">JPG, PNG (max 15MB)</p>\r\n                  </div>\r\n                  <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageUpload}\r\n                    className=\"hidden\"\r\n                  />\r\n                </label>\r\n              )}\r\n            </div>\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex gap-2 pt-2\">\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white text-xs font-semibold gap-2 shadow-md\"\r\n              >\r\n                {isSubmitting ? (\r\n                  <>\r\n                    <Loader2 className=\"w-3 h-3 animate-spin\" />\r\n                    Submitting...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Upload className=\"w-3 h-3\" />\r\n                    Submit Review\r\n                  </>\r\n                )}\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowForm(false);\r\n                  setFormData({\r\n                    reviewer_name: \"\",\r\n                    reviewer_email: \"\",\r\n                    rating: 5,\r\n                    title: \"\",\r\n                    comment: \"\",\r\n                  });\r\n                  setUploadedImages([]);\r\n                  setImagePreviewUrls([]);\r\n                }}\r\n                className=\"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 text-xs font-semibold\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* Reviews List */}\r\n      {isLoading ? (\r\n        <div className=\"text-center py-8\">\r\n          <Loader2 className=\"w-6 h-6 animate-spin mx-auto text-gray-400\" />\r\n          <p className=\"text-gray-500 text-xs mt-2\">Loading reviews...</p>\r\n        </div>\r\n      ) : reviews.length === 0 ? (\r\n        <div className=\"text-center py-8 bg-white rounded-lg border-2 border-purple-200 shadow-md\">\r\n          <p className=\"text-gray-600 text-sm mb-3 font-medium\">No reviews yet. Be the first to share your experience!</p>\r\n          {!showForm && (\r\n            <Button\r\n              onClick={() => setShowForm(true)}\r\n              className=\"bg-purple-600 hover:bg-purple-700 text-white text-xs font-semibold\"\r\n            >\r\n              ‚úçÔ∏è Write First Review\r\n            </Button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-3\">\r\n          {reviews.map((review) => (\r\n            <div\r\n              key={review.id}\r\n              className=\"bg-white rounded-lg border-2 border-purple-200 p-4 hover:shadow-md transition hover:border-purple-300\"\r\n            >\r\n              {/* Review Header */}\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <div>\r\n                  <h3 className=\"font-semibold text-gray-900 text-sm\">{review.reviewer_name}</h3>\r\n                  {review.title && (\r\n                    <p className=\"text-gray-700 font-medium text-xs mt-1\">{review.title}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex gap-1\">\r\n                  {[1, 2, 3, 4, 5].map((star) => (\r\n                    <Star\r\n                      key={star}\r\n                      className={`w-4 h-4 ${\r\n                        star <= review.rating\r\n                          ? \"fill-yellow-400 text-yellow-400\"\r\n                          : \"text-gray-300\"\r\n                      }`}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Review Comment */}\r\n              {review.comment && (\r\n                <p className=\"text-gray-600 text-xs mb-3 leading-relaxed\">{review.comment}</p>\r\n              )}\r\n\r\n              {/* Review Images */}\r\n              {review.image_urls && review.image_urls.length > 0 && (\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3\">\r\n                  {review.image_urls.map((imageUrl, idx) => (\r\n                    <img\r\n                      key={idx}\r\n                      src={imageUrl}\r\n                      alt={`Review image ${idx + 1}`}\r\n                      className=\"w-full h-20 object-cover rounded border border-gray-200 cursor-pointer hover:opacity-80 transition\"\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* Review Footer */}\r\n              <div className=\"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-200\">\r\n                <span>{new Date(review.created_at).toLocaleDateString()}</span>\r\n                {review.helpful_count && review.helpful_count > 0 && (\r\n                  <span>{review.helpful_count} found this helpful</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}