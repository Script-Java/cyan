module.exports=[58991,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(35133),f=a.i(84505),g=a.i(41675),h=a.i(87532),i=a.i(69012),j=a.i(1499),k=a.i(67329),l=a.i(21374),m=a.i(77156),n=a.i(72452),o=a.i(1027),p=a.i(67453),q=a.i(92e3);a.i(41710);var r=a.i(13572),s=a.i(77786),t=a.i(40695),u=a.i(65733);function v(){let a=(0,d.useRouter)(),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)("grid"),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)("newest"),[L,M]=(0,c.useState)("all"),[N,O]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{let a=localStorage.getItem("favoriteDesigns");a&&O(new Set(JSON.parse(a)))},[]),(0,c.useEffect)(()=>{let b=localStorage.getItem("authToken");b?(async()=>{try{y(!0),A("");let a=await fetch("/api/designs",{headers:{Authorization:`Bearer ${b}`}});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to fetch designs")}let c=await a.json();w(c.designs||[])}catch(a){A(a instanceof Error?a.message:"Failed to load designs")}finally{y(!1)}})():a.push("/login")},[a]),(0,c.useEffect)(()=>{},[N]);let P=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Q=(0,c.useMemo)(()=>v.flatMap(a=>a.designs.map(b=>({...b,orderId:a.orderId,orderDate:a.orderDate,orderStatus:a.orderStatus}))),[v]),R=(0,c.useMemo)(()=>{let a=Q.filter(a=>{let b=a.name.toLowerCase().includes(F.toLowerCase())||a.description?.toLowerCase().includes(F.toLowerCase()),c=!0;return"all"!==L&&("approved"===L?c=!0===a.approved:"pending"===L?c=!1===a.approved&&"proof_denied"!==a.type:"denied"===L&&(c="proof_denied"===a.type)),b&&c});switch(J){case"newest":a.sort((a,b)=>new Date(b.createdAt||"").getTime()-new Date(a.createdAt||"").getTime());break;case"oldest":a.sort((a,b)=>new Date(a.createdAt||"").getTime()-new Date(b.createdAt||"").getTime());break;case"name":a.sort((a,b)=>a.name.localeCompare(b.name))}return a},[Q,F,J,L]),S=Q.length,T=Q.filter(a=>a.approved).length,U=a=>{O(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})};return x?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"text-gray-600 text-lg",children:"Loading your designs..."})}):(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 min-h-screen",children:[(0,b.jsxs)("div",{className:"mb-6 sm:mb-10",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-8",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent",children:"Design Library"}),(0,b.jsx)(o.Zap,{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500 flex-shrink-0"})]}),(0,b.jsx)("p",{className:"text-gray-600 text-base sm:text-lg",children:S>0?"Organize, preview, and manage all your design files":"Your design library is ready for your first order"})]})}),S>0&&(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Designs"}),(0,b.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:S})]}),(0,b.jsx)(r.FileImage,{className:"w-8 h-8 text-blue-500 opacity-20"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Orders"}),(0,b.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:v.length})]}),(0,b.jsx)(g.Calendar,{className:"w-8 h-8 text-emerald-500 opacity-20"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Approved"}),(0,b.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-emerald-600",children:T})]}),(0,b.jsx)(p.CheckCircle2,{className:"w-8 h-8 text-emerald-500 opacity-20"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Favorites"}),(0,b.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-amber-600",children:N.size})]}),(0,b.jsx)(l.Star,{className:"w-8 h-8 text-amber-500 opacity-20 fill-current"})]})})]})]}),z&&(0,b.jsxs)("div",{className:"mb-8 bg-red-50 border border-red-200 rounded-xl p-4 flex gap-3",children:[(0,b.jsx)(q.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-red-800",children:z})]}),0===S&&!z&&(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 sm:p-16 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-100 to-blue-50 mb-6",children:(0,b.jsx)(e.Cloud,{className:"w-8 h-8 text-blue-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Designs Yet"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Once you upload designs with an order, they'll appear here. Start creating your first design order today!"}),(0,b.jsx)(t.Button,{onClick:()=>a.push("/ecwid-store"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-8 py-2 rounded-lg font-medium transition-all",children:"Create Your First Order"})]}),S>0&&(0,b.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search designs by name or description...",value:F,onChange:a=>G(a.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white text-sm"})]}),(0,b.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4 items-start xl:items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-3 w-full xl:w-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 flex-1 xl:flex-none",children:[(0,b.jsx)(i.Filter,{className:"w-5 h-5 text-gray-400 ml-3 flex-shrink-0"}),(0,b.jsxs)("select",{value:L,onChange:a=>M(a.target.value),className:"px-3 py-2 text-sm font-medium border-0 focus:outline-none bg-transparent cursor-pointer w-full",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"approved",children:"✅ Approved"}),(0,b.jsx)("option",{value:"pending",children:"⏱ Pending"}),(0,b.jsx)("option",{value:"denied",children:"✕ Denied"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 flex-1 xl:flex-none",children:[(0,b.jsx)(s.SortAsc,{className:"w-5 h-5 text-gray-400 ml-3 flex-shrink-0"}),(0,b.jsxs)("select",{value:J,onChange:a=>K(a.target.value),className:"px-3 py-2 text-sm font-medium border-0 focus:outline-none bg-transparent cursor-pointer w-full",children:[(0,b.jsx)("option",{value:"newest",children:"Newest First"}),(0,b.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,b.jsx)("option",{value:"name",children:"By Name"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full xl:w-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-xl p-1",children:[(0,b.jsx)("button",{onClick:()=>E("grid"),className:`p-2 rounded transition-all ${"grid"===D?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,title:"Grid view",children:(0,b.jsx)(j.Grid3x3,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>E("list"),className:`p-2 rounded transition-all ${"list"===D?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,title:"List view",children:(0,b.jsx)(k.List,{className:"w-5 h-5"})})]}),(0,b.jsxs)("button",{onClick:()=>{Q.forEach(a=>{if(a.url){let b=document.createElement("a");b.href=a.url,b.download=a.name||"design",document.body.appendChild(b),b.click(),document.body.removeChild(b)}})},className:"flex-1 xl:flex-none flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-all",title:"Download all designs",children:[(0,b.jsx)(n.DownloadCloud,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"inline",children:"Download All"})]})]})]})]}),0===R.length&&S>0&&(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center",children:[(0,b.jsx)(h.Search,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No designs found"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filters to find what you're looking for."})]}),R.length>0&&"grid"===D&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:R.map(a=>(0,b.jsxs)("div",{className:"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl hover:border-gray-300 transition-all duration-300 flex flex-col",children:[(0,b.jsxs)("div",{className:"relative bg-gradient-to-br from-slate-100 to-slate-50 h-48 overflow-hidden flex items-center justify-center",children:[a.url?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:a.url,alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"})]}):(0,b.jsx)(e.Cloud,{className:"w-16 h-16 text-gray-300"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100",children:[(0,b.jsx)("button",{onClick:()=>I(a),className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-all",title:"Preview",children:(0,b.jsx)(m.Eye,{className:"w-5 h-5 text-gray-700"})}),a.url&&(0,b.jsx)("a",{href:a.url,download:a.name,className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-all",title:"Download",children:(0,b.jsx)(f.Download,{className:"w-5 h-5 text-gray-700"})})]}),(0,b.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2",children:["proof"===a.type&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs font-semibold rounded-lg",children:"Proof"}),"proof_denied"===a.type&&(0,b.jsx)("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-semibold rounded-lg",children:"Denied"}),a.approved&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-emerald-500 text-white text-xs font-semibold rounded-lg flex items-center gap-1",children:[(0,b.jsx)(p.CheckCircle2,{className:"w-3 h-3"}),"Approved"]}),N.has(a.id)&&(0,b.jsx)("span",{className:"p-2 bg-amber-500 text-white rounded-lg",children:(0,b.jsx)(l.Star,{className:"w-4 h-4 fill-current"})})]})]}),(0,b.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 text-sm mb-1 truncate",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:a.description}),a.createdAt&&(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:P(a.createdAt)}),a.size&&(0,b.jsxs)("p",{className:"text-xs text-gray-600 mb-3",children:["Size: ",a.size]}),(0,b.jsxs)("div",{className:"mt-auto pt-3 border-t border-gray-100 flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>U(a.id),className:"flex-1 p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors flex items-center justify-center gap-1",title:N.has(a.id)?"Remove favorite":"Add favorite",children:(0,b.jsx)(l.Star,{className:`w-4 h-4 ${N.has(a.id)?"fill-current":""}`})}),(0,b.jsx)("button",{onClick:()=>I(a),className:"flex-1 p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors flex items-center justify-center gap-1",title:"View details",children:(0,b.jsx)(m.Eye,{className:"w-4 h-4"})})]})]})]},a.id))}),R.length>0&&"list"===D&&(0,b.jsx)("div",{className:"space-y-3",children:R.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-lg transition-all flex items-center justify-between gap-4 group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg flex-shrink-0 flex items-center justify-center overflow-hidden",children:a.url?(0,b.jsx)("img",{src:a.url,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)(e.Cloud,{className:"w-8 h-8 text-gray-300"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:a.name}),"proof"===a.type&&(0,b.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-lg flex-shrink-0",children:"Proof"}),"proof_denied"===a.type&&(0,b.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-50 text-red-700 text-xs font-semibold rounded-lg flex-shrink-0",children:"Denied"}),a.approved&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-emerald-50 text-emerald-700 text-xs font-semibold rounded-lg flex-shrink-0",children:[(0,b.jsx)(p.CheckCircle2,{className:"w-3 h-3"}),"Approved"]})]}),a.description&&(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-1 truncate",children:a.description}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Order #",a.orderId," •"," ",P(a.createdAt||"")]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,b.jsx)("button",{onClick:()=>U(a.id),className:`p-2 rounded-lg transition-colors ${N.has(a.id)?"bg-amber-50 text-amber-600":"text-gray-600 hover:bg-gray-100"}`,children:(0,b.jsx)(l.Star,{className:`w-4 h-4 ${N.has(a.id)?"fill-current":""}`})}),(0,b.jsx)("button",{onClick:()=>I(a),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(m.Eye,{className:"w-4 h-4"})}),a.url&&(0,b.jsx)("a",{href:a.url,download:a.name,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(f.Download,{className:"w-4 h-4"})})]})]},a.id))}),(0,b.jsx)(u.Dialog,{open:!!H,onOpenChange:a=>{a||I(null)},children:(0,b.jsx)(u.DialogContent,{className:"max-w-2xl bg-white",children:H&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(u.DialogTitle,{className:"text-2xl",children:H.name}),(0,b.jsx)(u.DialogDescription,{className:"text-base mt-2",children:P(H.createdAt||"")})]}),(0,b.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,b.jsx)("div",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Order Number"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["#",H.orderId]})]})]})}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-slate-100 to-slate-50 rounded-xl overflow-hidden flex items-center justify-center min-h-96",children:H.url?(0,b.jsx)("img",{src:H.url,alt:H.name,className:"max-w-full max-h-full object-contain p-4"}):(0,b.jsx)(e.Cloud,{className:"w-24 h-24 text-gray-300"})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Order"}),(0,b.jsxs)("p",{className:"text-sm text-gray-900 font-semibold",children:["#",H.orderId]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Date"}),(0,b.jsx)("p",{className:"text-sm text-gray-900 font-semibold",children:P(H.createdAt||"")})]}),H.size&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Size"}),(0,b.jsx)("p",{className:"text-sm text-gray-900 font-semibold",children:H.size})]}),H.description&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:H.description})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[H.url&&(0,b.jsxs)("a",{href:H.url,download:H.name,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-xl font-medium transition-all flex items-center justify-center gap-2",children:[(0,b.jsx)(f.Download,{className:"w-5 h-5"}),"Download"]}),(0,b.jsxs)("button",{onClick:()=>U(H.id),className:`flex-1 px-4 py-2.5 rounded-xl font-medium transition-all flex items-center justify-center gap-2 border ${N.has(H.id)?"bg-amber-50 border-amber-200 text-amber-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[(0,b.jsx)(l.Star,{className:`w-5 h-5 ${N.has(H.id)?"fill-current":""}`}),N.has(H.id)?"Favorited":"Add to Favorites"]})]})]})]})})})]})}a.s(["default",()=>v])}];

//# sourceMappingURL=components_dashboard_Designs_tsx_dcae243e._.js.map