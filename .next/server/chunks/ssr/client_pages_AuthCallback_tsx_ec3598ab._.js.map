{"version":3,"sources":["../../../../client/pages/AuthCallback.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\n\r\nexport default function AuthCallback() {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const token = searchParams.get(\"auth_token\");\r\n    const customerId = searchParams.get(\"customer_id\");\r\n    const error = searchParams.get(\"error\");\r\n\r\n    if (error) {\r\n      // Handle authentication error\r\n      console.error(\"Authentication error:\", error);\r\n      navigate(\"/login?error=authentication_failed\");\r\n      return;\r\n    }\r\n\r\n    if (token && customerId) {\r\n      // Store the token and customer ID\r\n      localStorage.setItem(\"authToken\", token);\r\n      localStorage.setItem(\"customerId\", customerId);\r\n      // Redirect to home\r\n      navigate(\"/\");\r\n    } else {\r\n      // If no token, redirect to login\r\n      navigate(\"/login\");\r\n    }\r\n  }, [searchParams, navigate]);\r\n\r\n  return (\r\n    <>\n      <main className=\"pt-20 min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold text-[#030140] mb-4\">\r\n            Completing authentication...\r\n          </h1>\r\n          <p className=\"text-gray-600\">Please wait while we log you in.</p>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAW,AAAX,IACX,CAAC,EAAa,CAAG,CAAA,EAAA,EAAA,eAAA,AAAe,IA0BtC,MAxBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,EAAa,GAAG,CAAC,cACzB,EAAa,EAAa,GAAG,CAAC,eAC9B,EAAQ,EAAa,GAAG,CAAC,SAE/B,GAAI,EAAO,CAET,QAAQ,KAAK,CAAC,wBAAyB,GACvC,EAAS,sCACT,MACF,CAEI,GAAS,GAEX,SAFuB,IAEV,OAAO,CAAC,YAAa,GAClC,aAAa,OAAO,CAAC,aAAc,GAEnC,EAAS,MAGT,EAAS,SAEb,EAAG,CAAC,EAAc,EAAS,EAGzB,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0EACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAyC,iCAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,2CAKvC"}