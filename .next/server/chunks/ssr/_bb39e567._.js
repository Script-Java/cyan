module.exports=[40695,11011,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70121),e=Symbol.for("react.lazy"),f=c[" use ".trim().toString()];function g(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===e&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}function h(a){var e;let h,i=(e=a,(h=c.forwardRef((a,b)=>{let{children:e,...h}=a;if(g(e)&&"function"==typeof f&&(e=f(e._payload)),c.isValidElement(e)){var i;let a,f,g=(i=e,(f=(a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.ref:(f=(a=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.props.ref:i.props.ref||i.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(h,e.props);return e.type!==c.Fragment&&(j.ref=b?(0,d.composeRefs)(b,g):g),c.cloneElement(e,j)}return c.Children.count(e)>1?c.Children.only(null):null})).displayName=`${e}.SlotClone`,h),j=c.forwardRef((a,d)=>{let{children:e,...h}=a;g(e)&&"function"==typeof f&&(e=f(e._payload));let j=c.Children.toArray(e),l=j.find(k);if(l){let a=l.props.children,e=j.map(b=>b!==l?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(i,{...h,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(i,{...h,ref:d,children:e})});return j.displayName=`${a}.Slot`,j}var i=h("Slot"),j=Symbol("radix.slottable");function k(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}a.s(["Slot",()=>i,"createSlot",()=>h],11011);var l=a.i(187),m=a.i(97895);let n=(0,l.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},g)=>(0,b.jsx)(e?i:"button",{className:(0,m.cn)(n({variant:c,size:d,className:a})),ref:g,...f}));o.displayName="Button",a.s(["Button",()=>o,"buttonVariants",()=>n],40695)},1027,a=>{"use strict";let b=(0,a.i(70106).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},53230,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(18155),f=a.i(23665),g=a.i(58042),h=a.i(94222),i=a.i(54419),j=a.i(59854),k=a.i(2274),l=a.i(48662),m=a.i(64321),n=a.i(27165),o=a.i(67149),p=a.i(90166),q=a.i(24669),r=a.i(1027),s=a.i(92e3),t=a.i(40695);function u(){let a=(0,d.useRouter)(),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)(0);(0,c.useEffect)(()=>{let b=localStorage.getItem("authToken");b?(async()=>{try{x(!0),z("");let a=await fetch("/api/orders",{headers:{Authorization:`Bearer ${b}`}});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to fetch order data")}let c=(await a.json()).orders||[];v(c);let d=c.reduce((a,b)=>a+b.total,0);D(d),F(.5*d);let e={};c.forEach(a=>{let b=new Date(a.dateCreated).getFullYear();e[b]||(e[b]={year:b,spent:0,orders:0,saved:0}),e[b].spent+=a.total,e[b].orders+=1,e[b].saved=.5*e[b].spent});let f=Object.values(e).sort((a,b)=>a.year-b.year);B(f)}catch(a){z(a instanceof Error?a.message:"Failed to load finance data")}finally{x(!1)}})():a.push("/login")},[a]);let G=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),H=A.map(a=>({year:a.year.toString(),Spent:Math.round(100*a.spent)/100,Saved:Math.round(100*a.saved)/100})),I=[{name:"Amount Spent",value:Math.round(100*C)/100},{name:"Amount Saved (50%)",value:Math.round(100*E)/100}],J=["#3b82f6","#10b981"];return w?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"text-gray-600 text-lg",children:"Loading your finances..."})}):(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 min-h-screen",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Finances"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Track your spending and savings with us"})]}),y&&(0,b.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[(0,b.jsx)(s.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-red-800",children:y})]}),0===u.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[(0,b.jsx)(p.DollarSign,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Financial Data Yet"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't placed any orders yet. Start shopping to see your financial insights here."}),(0,b.jsx)(t.Button,{onClick:()=>a.push("/ecwid-store"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Shop Now"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Spent"}),(0,b.jsx)(p.DollarSign,{className:"w-5 h-5 text-blue-600"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:G(C)}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["Across ",u.length," order",1!==u.length?"s":""]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Total Saved (50%)"}),(0,b.jsx)(r.Zap,{className:"w-5 h-5 text-emerald-600"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-emerald-900",children:G(E)}),(0,b.jsx)("p",{className:"text-xs text-emerald-700 mt-2",children:"vs. competitor pricing"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Average Order"}),(0,b.jsx)(q.TrendingUp,{className:"w-5 h-5 text-purple-600"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:G(C/u.length)}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Per order value"})]})]}),A.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Spending by Year"}),(0,b.jsx)(l.ResponsiveContainer,{width:"100%",height:400,children:(0,b.jsxs)(e.BarChart,{data:H,children:[(0,b.jsx)(i.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,b.jsx)(g.XAxis,{dataKey:"year",stroke:"#6b7280"}),(0,b.jsx)(h.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(j.Tooltip,{formatter:a=>G(a),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,b.jsx)(k.Legend,{}),(0,b.jsx)(f.Bar,{dataKey:"Spent",fill:"#3b82f6",radius:[8,8,0,0]}),(0,b.jsx)(f.Bar,{dataKey:"Saved",fill:"#10b981",radius:[8,8,0,0]})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Your Savings Breakdown"}),(0,b.jsx)(l.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(m.PieChart,{children:[(0,b.jsx)(n.Pie,{data:I,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,value:b})=>`${a}: ${G(b)}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:I.map((a,c)=>(0,b.jsx)(o.Cell,{fill:J[c%J.length]},`cell-${c}`))}),(0,b.jsx)(j.Tooltip,{formatter:a=>G(a)})]})})]})]}),A.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Year Breakdown"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Year"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Total Orders"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Amount Spent"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Amount Saved (50%)"})]})}),(0,b.jsx)("tbody",{children:A.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:a.year}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 text-right",children:a.orders}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900 text-right",children:G(a.spent)}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-emerald-600 text-right",children:G(a.saved)})]},a.year))})]})})]}),(0,b.jsx)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-emerald-50 rounded-lg border border-blue-200 p-8",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(r.Zap,{className:"w-8 h-8 text-emerald-600 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"You're Saving Big!"}),(0,b.jsxs)("p",{className:"text-gray-700 mb-3",children:["By choosing Stickerland, you save"," ",(0,b.jsx)("span",{className:"font-bold text-emerald-600",children:"50%"})," ","compared to traditional sticker shops."]}),(0,b.jsxs)("p",{className:"text-gray-700",children:["That means for every $"," ",(0,b.jsx)("span",{className:"font-bold",children:"1"})," you spend with us, you would pay ",(0,b.jsx)("span",{className:"font-bold",children:"$2"})," ","elsewhere. Your total savings:"," ",(0,b.jsx)("span",{className:"font-bold text-emerald-600",children:G(E)})]})]})]})})]})]})}a.s(["default",()=>u])}];

//# sourceMappingURL=_bb39e567._.js.map