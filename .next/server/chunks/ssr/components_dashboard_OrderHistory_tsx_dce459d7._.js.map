{"version":3,"sources":["../../../../components/dashboard/OrderHistory.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n    Package,\r\n    Truck,\r\n    Calendar,\r\n    DollarSign,\r\n    ArrowRight,\r\n    AlertCircle,\r\n    ChevronDown,\r\n    Search,\r\n    X,\r\n    MapPin,\r\n    User,\r\n    Phone,\r\n    Mail,\r\n    MessageSquare,\r\n    Image as ImageIcon,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { formatOrderNumber } from \"@/lib/order-number\";\r\n\r\ninterface Shipment {\r\n    id: number;\r\n    status: string;\r\n    dateCreated: string;\r\n    trackingNumber: string;\r\n    shippingProvider: string;\r\n    shippingMethod: string;\r\n    comments?: string;\r\n    itemsCount: number;\r\n}\r\n\r\ninterface OrderItem {\r\n    id: number;\r\n    product_id: number;\r\n    product_name: string;\r\n    quantity: number;\r\n    price_inc_tax?: number;\r\n    price_ex_tax?: number;\r\n    price?: number;\r\n    option_price?: number;\r\n    total_price?: number;\r\n    options?:\r\n    | Record<string, any>\r\n    | Array<{\r\n        option_id?: string;\r\n        option_name?: string;\r\n        name?: string;\r\n        option_value?: string;\r\n        value?: string;\r\n        price?: number;\r\n        modifier_price?: number;\r\n    }>;\r\n    design_file_url?: string;\r\n}\r\n\r\ninterface DigitalFile {\r\n    id: string;\r\n    file_name: string;\r\n    file_url: string;\r\n    file_type?: string;\r\n    file_size?: number;\r\n    uploaded_at: string;\r\n}\r\n\r\ninterface Order {\r\n    id: number;\r\n    customerId: number;\r\n    status: string;\r\n    dateCreated: string;\r\n    total: number;\r\n    itemCount: number;\r\n    shipments: Shipment[];\r\n    subtotal?: number;\r\n    tax?: number;\r\n    shipping?: number;\r\n    items?: OrderItem[];\r\n    estimated_delivery_date?: string;\r\n    tracking_number?: string;\r\n    tracking_carrier?: string;\r\n    tracking_url?: string;\r\n    shipped_date?: string;\r\n    digital_files?: DigitalFile[];\r\n    customerName?: string;\r\n    customerEmail?: string;\r\n    customerPhone?: string;\r\n    shippingAddress?: {\r\n        street: string;\r\n        city: string;\r\n        state: string;\r\n        postalCode: string;\r\n        country: string;\r\n    };\r\n}\r\n\r\ninterface OrdersResponse {\r\n    success: boolean;\r\n    orders: Order[];\r\n    count: number;\r\n    pagination?: {\r\n        page: number;\r\n        limit: number;\r\n        offset: number;\r\n        totalCount: number;\r\n        totalPages: number;\r\n        hasMore: boolean;\r\n    };\r\n}\r\n\r\nexport default function OrderHistory() {\r\n    const router = useRouter();\r\n    const [orders, setOrders] = useState<Order[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isLoadingMore, setIsLoadingMore] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [expandedOrderId, setExpandedOrderId] = useState<number | null>(null);\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [hasMore, setHasMore] = useState(false);\r\n\r\n    // Helper functions\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n            year: \"numeric\",\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n        });\r\n    };\r\n\r\n    const formatCurrency = (amount: number) => {\r\n        return new Intl.NumberFormat(\"en-US\", {\r\n            style: \"currency\",\r\n            currency: \"USD\",\r\n        }).format(amount);\r\n    };\r\n\r\n    const formatPrice = (price: number | undefined): string => {\r\n        if (typeof price === \"number\") {\r\n            return price.toFixed(2);\r\n        }\r\n        return \"0.00\";\r\n    };\r\n\r\n    const getItemPrice = (item: OrderItem): number => {\r\n        if (typeof item.price_inc_tax === \"number\") return item.price_inc_tax;\r\n        if (typeof item.price_ex_tax === \"number\") return item.price_ex_tax;\r\n        if (typeof item.price === \"number\") return item.price;\r\n        return 0;\r\n    };\r\n\r\n    const formatOptionValue = (value: any): string => {\r\n        if (typeof value === \"string\") return value;\r\n        if (typeof value === \"number\") return String(value);\r\n        if (typeof value === \"boolean\") return value ? \"Yes\" : \"No\";\r\n        return \"\";\r\n    };\r\n\r\n    const formatOptionKey = (key: string): string => {\r\n        return key\r\n            .split(\"_\")\r\n            .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\r\n            .join(\" \");\r\n    };\r\n\r\n    // Filter orders based on search query\r\n    const filteredOrders = orders.filter((order) => {\r\n        if (!searchQuery.trim()) return true;\r\n\r\n        const query = searchQuery.toLowerCase().trim();\r\n\r\n        // Search by order number/ID\r\n        if (order.id.toString().includes(query)) return true;\r\n\r\n        // Search by date (flexible matching: \"dec\", \"2025\", \"12/25\", etc.)\r\n        const orderDate = formatDate(order.dateCreated).toLowerCase();\r\n        if (orderDate.includes(query)) return true;\r\n\r\n        // Search by amount (without currency symbol)\r\n        const amount = order.total.toFixed(2);\r\n        if (amount.includes(query)) return true;\r\n\r\n        // Search by formatted currency amount\r\n        const currencyAmount = formatCurrency(order.total)\r\n            .replace(\"$\", \"\")\r\n            .toLowerCase();\r\n        if (currencyAmount.includes(query)) return true;\r\n\r\n        return false;\r\n    });\r\n\r\n    const fetchOrders = async (page: number = 1, reset: boolean = true) => {\r\n        try {\r\n            const token = localStorage.getItem(\"authToken\");\r\n            if (!reset) {\r\n                setIsLoadingMore(true);\r\n            } else {\r\n                setIsLoading(true);\r\n            }\r\n            setError(\"\");\r\n\r\n            const response = await fetch(`/api/orders?page=${page}&limit=20`, {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || \"Failed to fetch order history\");\r\n            }\r\n\r\n            const data: OrdersResponse = await response.json();\r\n\r\n            if (reset) {\r\n                setOrders(data.orders || []);\r\n            } else {\r\n                setOrders((prev) => [...prev, ...(data.orders || [])]);\r\n            }\r\n\r\n            setCurrentPage(page);\r\n            setHasMore(data.pagination?.hasMore || false);\r\n        } catch (err) {\r\n            const message =\r\n                err instanceof Error ? err.message : \"Failed to load order history\";\r\n            setError(message);\r\n        } finally {\r\n            setIsLoading(false);\r\n            setIsLoadingMore(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"authToken\");\r\n\r\n        if (!token) {\r\n            router.push(\"/login\");\r\n            return;\r\n        }\r\n\r\n        // Reset pagination on initial load\r\n        setCurrentPage(1);\r\n        setOrders([]);\r\n        fetchOrders(1, true);\r\n    }, [router]);\r\n\r\n    const getStatusColor = (status: string) => {\r\n        // OPTIMISTIC UI: Normalize pending_payment to processing\r\n        const normalizedStatus = status.toLowerCase() === \"pending_payment\" ? \"processing\" : status.toLowerCase();\r\n\r\n        switch (normalizedStatus) {\r\n            case \"pending\":\r\n                return \"text-orange-600 bg-orange-50\";\r\n            case \"processing\":\r\n                return \"text-yellow-600 bg-yellow-50\";\r\n            case \"printing\":\r\n                return \"text-purple-600 bg-purple-50\";\r\n            case \"preparing for shipping\":\r\n                return \"text-indigo-600 bg-indigo-50\";\r\n            case \"in transit\":\r\n                return \"text-blue-600 bg-blue-50\";\r\n            case \"shipped\":\r\n                return \"text-emerald-600 bg-emerald-50\";\r\n            case \"delivered\":\r\n                return \"text-cyan-600 bg-cyan-50\";\r\n            case \"completed\":\r\n                return \"text-green-600 bg-green-50\";\r\n            case \"cancelled\":\r\n                return \"text-red-600 bg-red-50\";\r\n            default:\r\n                return \"text-gray-600 bg-gray-50\";\r\n        }\r\n    };\r\n\r\n    const getShipmentStatusIcon = (status: string) => {\r\n        switch (status.toLowerCase()) {\r\n            case \"shipped\":\r\n            case \"in_transit\":\r\n                return <Truck className=\"w-4 h-4\" />;\r\n            case \"delivered\":\r\n                return <Package className=\"w-4 h-4\" />;\r\n            default:\r\n                return <Package className=\"w-4 h-4\" />;\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-64\">\r\n                <div className=\"text-gray-600 text-lg\">\r\n                    Loading your orders...\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg p-4 sm:p-6\">\r\n            {/* Header */}\r\n            <div className=\"mb-6\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                    Order History\r\n                </h1>\r\n                <p className=\"text-gray-600 mt-1\">\r\n                    View all your orders and track shipments\r\n                </p>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n                <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3\">\r\n                    <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n                    <p className=\"text-sm text-red-800\">{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Search Bar */}\r\n            {orders.length > 0 && (\r\n                <div className=\"mb-6\">\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search orders by number, date (Dec 1), or amount ($50)...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"w-full pl-10 pr-10 py-2 sm:py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                        />\r\n                        {searchQuery && (\r\n                            <button\r\n                                onClick={() => setSearchQuery(\"\")}\r\n                                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Clear search\"\r\n                            >\r\n                                <X className=\"w-5 h-5\" />\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                    {searchQuery && (\r\n                        <p className=\"mt-2 text-sm text-gray-600\">\r\n                            Found {filteredOrders.length} order\r\n                            {filteredOrders.length !== 1 ? \"s\" : \"\"}\r\n                        </p>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Empty State */}\r\n            {orders.length === 0 && !error && (\r\n                <div className=\"text-center py-12\">\r\n                    <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                        No Orders Yet\r\n                    </h2>\r\n                    <p className=\"text-gray-600 mb-6\">\r\n                        You haven't placed any orders yet. Start shopping to see your\r\n                        order history here.\r\n                    </p>\r\n                    <Button\r\n                        onClick={() => router.push(\"/ecwid-store\")}\r\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n                    >\r\n                        Shop Now\r\n                    </Button>\r\n                </div>\r\n            )}\r\n\r\n            {/* No search results */}\r\n            {orders.length > 0 && filteredOrders.length === 0 && searchQuery && (\r\n                <div className=\"text-center py-12\">\r\n                    <Search className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                        No Orders Found\r\n                    </h2>\r\n                    <p className=\"text-gray-600 mb-6\">\r\n                        No orders match \"{searchQuery}\". Try searching by order number,\r\n                        date, or amount.\r\n                    </p>\r\n                    <Button\r\n                        onClick={() => setSearchQuery(\"\")}\r\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n                    >\r\n                        Clear Search\r\n                    </Button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Orders Detailed View */}\r\n            {filteredOrders.length > 0 && (\r\n                <div className=\"space-y-4\">\r\n                    {filteredOrders.map((order) => (\r\n                        <div\r\n                            key={order.id}\r\n                            className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\r\n                        >\r\n                            {/* Order Summary */}\r\n                            <button\r\n                                onClick={() =>\r\n                                    setExpandedOrderId(\r\n                                        expandedOrderId === order.id ? null : order.id,\r\n                                    )\r\n                                }\r\n                                className=\"w-full px-4 sm:px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                            >\r\n                                <div className=\"flex items-center gap-3 sm:gap-4 flex-1 text-left\">\r\n                                    <div className=\"bg-gray-100 p-2 sm:p-3 rounded-lg flex-shrink-0\">\r\n                                        <Package className=\"w-5 h-5 sm:w-6 sm:h-6 text-gray-600\" />\r\n                                    </div>\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"flex items-center gap-2 sm:gap-3 mb-2 flex-wrap\">\r\n                                            <h3 className=\"text-base sm:text-lg font-semibold text-gray-900\">\r\n                                                {formatOrderNumber(order.id)}\r\n                                            </h3>\r\n                                            <span\r\n                                                className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}\r\n                                            >\r\n                                                {(order.status === \"pending_payment\" ? \"processing\" : order.status).charAt(0).toUpperCase() +\r\n                                                    (order.status === \"pending_payment\" ? \"processing\" : order.status).slice(1)}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-3 sm:gap-6 text-xs sm:text-sm text-gray-600 flex-wrap\">\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <Calendar className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                {formatDate(order.dateCreated)}\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <Package className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                {order.itemCount} item\r\n                                                {order.itemCount !== 1 ? \"s\" : \"\"}\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                <DollarSign className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                {formatCurrency(order.total)}\r\n                                            </div>\r\n                                            {order.estimated_delivery_date && (\r\n                                                <div className=\"flex items-center gap-1 text-blue-600 font-medium\">\r\n                                                    <Calendar className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                    <span className=\"hidden sm:inline\">\r\n                                                        Delivery:\r\n                                                    </span>{\" \"}\r\n                                                    {formatDate(order.estimated_delivery_date)}\r\n                                                </div>\r\n                                            )}\r\n                                            {order.tracking_number && (\r\n                                                <div className=\"flex items-center gap-1 text-green-600 font-medium\">\r\n                                                    <Truck className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                    <span className=\"hidden sm:inline\">\r\n                                                        Tracking:\r\n                                                    </span>{\" \"}\r\n                                                    {order.tracking_number}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <ChevronDown\r\n                                    className={`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${expandedOrderId === order.id ? \"rotate-180\" : \"\"\r\n                                        }`}\r\n                                />\r\n                            </button>\r\n\r\n                            {/* Order Details - Expanded */}\r\n                            {expandedOrderId === order.id && (\r\n                                <div className=\"bg-gray-50 border-t-2 border-gray-200 p-3 sm:p-5 space-y-3 sm:space-y-4\">\r\n                                    {/* Customer Information */}\r\n                                    <div className=\"bg-white rounded-lg border-2 border-blue-200 p-3 sm:p-4 shadow-sm\">\r\n                                        <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                                            <User className=\"w-3 h-3 sm:w-4 sm:h-4 text-blue-600\" />\r\n                                            Customer & Shipping Information\r\n                                        </h3>\r\n                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\r\n                                            {order.customerName && (\r\n                                                <div>\r\n                                                    <p className=\"text-xs text-gray-600 mb-1\">\r\n                                                        Full Name\r\n                                                    </p>\r\n                                                    <p className=\"text-xs sm:text-sm font-medium text-gray-900\">\r\n                                                        {order.customerName}\r\n                                                    </p>\r\n                                                </div>\r\n                                            )}\r\n                                            {order.customerEmail && (\r\n                                                <div>\r\n                                                    <p className=\"text-xs text-gray-600 mb-1 flex items-center gap-1\">\r\n                                                        <Mail className=\"w-3 h-3\" />\r\n                                                        Email\r\n                                                    </p>\r\n                                                    <p className=\"text-sm font-medium text-blue-600 break-all\">\r\n                                                        {order.customerEmail}\r\n                                                    </p>\r\n                                                </div>\r\n                                            )}\r\n                                            {order.customerPhone && (\r\n                                                <div>\r\n                                                    <p className=\"text-xs text-gray-600 mb-1 flex items-center gap-1\">\r\n                                                        <Phone className=\"w-3 h-3\" />\r\n                                                        Phone\r\n                                                    </p>\r\n                                                    <p className=\"text-sm font-medium text-gray-900\">\r\n                                                        {order.customerPhone}\r\n                                                    </p>\r\n                                                </div>\r\n                                            )}\r\n                                            {order.estimated_delivery_date && (\r\n                                                <div>\r\n                                                    <p className=\"text-xs text-gray-600 mb-1 flex items-center gap-1\">\r\n                                                        <Calendar className=\"w-3 h-3\" />\r\n                                                        Est. Delivery\r\n                                                    </p>\r\n                                                    <p className=\"text-sm font-medium text-blue-600\">\r\n                                                        {formatDate(order.estimated_delivery_date)}\r\n                                                    </p>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                        {order.shippingAddress && (\r\n                                            <div className=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200\">\r\n                                                <p className=\"text-xs text-gray-600 mb-2 flex items-center gap-1\">\r\n                                                    <MapPin className=\"w-3 h-3\" />\r\n                                                    Shipping Address\r\n                                                </p>\r\n                                                <div className=\"text-xs sm:text-sm text-gray-900 space-y-1\">\r\n                                                    <p>{order.shippingAddress.street}</p>\r\n                                                    <p>\r\n                                                        {order.shippingAddress.city},{\" \"}\r\n                                                        {order.shippingAddress.state}{\" \"}\r\n                                                        {order.shippingAddress.postalCode}\r\n                                                    </p>\r\n                                                    <p>{order.shippingAddress.country}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Design Thumbnails */}\r\n                                    {order.digital_files &&\r\n                                        order.digital_files.length > 0 && (\r\n                                            <div>\r\n                                                <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-2 sm:mb-3 flex items-center gap-2\">\r\n                                                    <ImageIcon className=\"w-3 h-3 sm:w-4 sm:h-4 text-blue-600\" />\r\n                                                    Design Files\r\n                                                </h3>\r\n                                                <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\r\n                                                    {order.digital_files.map((file) => (\r\n                                                        <a\r\n                                                            key={file.id}\r\n                                                            href={file.file_url}\r\n                                                            target=\"_blank\"\r\n                                                            rel=\"noopener noreferrer\"\r\n                                                            className=\"relative group overflow-hidden rounded-lg border-2 border-gray-200 hover:border-blue-400 transition-colors h-24 sm:h-28\"\r\n                                                        >\r\n                                                            {file.file_type?.includes(\"image\") ? (\r\n                                                                <img\r\n                                                                    src={file.file_url}\r\n                                                                    alt={file.file_name}\r\n                                                                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform\"\r\n                                                                />\r\n                                                            ) : (\r\n                                                                <div className=\"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center\">\r\n                                                                    <Package className=\"w-6 h-6 sm:w-8 sm:h-8 text-gray-400\" />\r\n                                                                </div>\r\n                                                            )}\r\n                                                            <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all flex items-end justify-center opacity-0 group-hover:opacity-100\">\r\n                                                                <p className=\"text-white text-xs font-medium mb-2 px-2 text-center truncate\">\r\n                                                                    {file.file_name}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        </a>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                    {/* Digital Files */}\r\n                                    {order.digital_files &&\r\n                                        order.digital_files.length > 0 && (\r\n                                            <div className=\"bg-white rounded-lg border-2 border-blue-200 p-3 sm:p-4 shadow-sm\">\r\n                                                <h4 className=\"text-xs sm:text-sm font-semibold text-gray-900 mb-2 sm:mb-3\">\r\n                                                    üìÅ Digital Files\r\n                                                </h4>\r\n                                                <div className=\"space-y-2\">\r\n                                                    {order.digital_files.map((file) => (\r\n                                                        <a\r\n                                                            key={file.id}\r\n                                                            href={file.file_url}\r\n                                                            target=\"_blank\"\r\n                                                            rel=\"noopener noreferrer\"\r\n                                                            className=\"flex items-center justify-between bg-gray-50 p-2 sm:p-3 rounded border border-blue-100 hover:border-blue-400 hover:bg-blue-50 transition-colors gap-2\"\r\n                                                        >\r\n                                                            <div className=\"flex items-center gap-2 sm:gap-3 min-w-0\">\r\n                                                                <Package className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                                                                <div className=\"min-w-0\">\r\n                                                                    <p className=\"text-xs sm:text-sm font-medium text-blue-900 truncate\">\r\n                                                                        {file.file_name}\r\n                                                                    </p>\r\n                                                                    {file.file_size && (\r\n                                                                        <p className=\"text-xs text-gray-600\">\r\n                                                                            {(\r\n                                                                                file.file_size /\r\n                                                                                1024 /\r\n                                                                                1024\r\n                                                                            ).toFixed(2)}{\" \"}\r\n                                                                            MB\r\n                                                                        </p>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <ArrowRight className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0\" />\r\n                                                        </a>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                    {/* Order Totals */}\r\n                                    <div className=\"bg-white rounded-lg border-2 border-gray-200 p-3 sm:p-4 shadow-sm\">\r\n                                        <h3 className=\"font-bold text-xs sm:text-sm text-gray-900 mb-3 sm:mb-4 flex items-center gap-2\">\r\n                                            <DollarSign className=\"w-4 h-4 text-gray-600\" />\r\n                                            Order Summary\r\n                                        </h3>\r\n\r\n                                        {/* Items Breakdown */}\r\n                                        <div className=\"mb-3 sm:mb-4 pb-3 sm:pb-4 border-b border-gray-200\">\r\n                                            <p className=\"text-xs font-semibold text-gray-700 mb-2\">\r\n                                                Items Breakdown:\r\n                                            </p>\r\n                                            {order.items && order.items.length > 0 ? (\r\n                                                <div className=\"space-y-3\">\r\n                                                    {order.items.map((item) => {\r\n                                                        // Get the actual price per unit from order data\r\n                                                        const pricePerUnit = getItemPrice(item);\r\n                                                        const itemTotal = pricePerUnit * item.quantity;\r\n\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={item.id}\r\n                                                                className=\"bg-gray-50 p-2 rounded border border-gray-100 text-xs\"\r\n                                                            >\r\n                                                                {/* Design Thumbnail */}\r\n                                                                {item.design_file_url && (\r\n                                                                    <div className=\"mb-2\">\r\n                                                                        <p className=\"text-xs font-semibold text-gray-700 mb-1\">\r\n                                                                            Artwork file that was uploaded\r\n                                                                        </p>\r\n                                                                        <div className=\"flex gap-2\">\r\n                                                                            {item.design_file_url.startsWith(\r\n                                                                                \"data:\",\r\n                                                                            ) ||\r\n                                                                                item.design_file_url.match(\r\n                                                                                    /\\.(jpg|jpeg|png|gif|webp)$/i,\r\n                                                                                ) ? (\r\n                                                                                <a\r\n                                                                                    href={item.design_file_url}\r\n                                                                                    target=\"_blank\"\r\n                                                                                    rel=\"noopener noreferrer\"\r\n                                                                                    className=\"flex-shrink-0\"\r\n                                                                                >\r\n                                                                                    <img\r\n                                                                                        src={item.design_file_url}\r\n                                                                                        alt=\"Design Upload\"\r\n                                                                                        className=\"h-12 w-12 object-cover rounded border border-gray-300 hover:border-blue-400 transition-colors\"\r\n                                                                                    />\r\n                                                                                </a>\r\n                                                                            ) : (\r\n                                                                                <a\r\n                                                                                    href={item.design_file_url}\r\n                                                                                    target=\"_blank\"\r\n                                                                                    rel=\"noopener noreferrer\"\r\n                                                                                    className=\"flex-shrink-0 h-12 w-12 flex items-center justify-center rounded border border-gray-300 bg-gray-100\"\r\n                                                                                >\r\n                                                                                    <Package className=\"w-4 h-4 text-gray-400\" />\r\n                                                                                </a>\r\n                                                                            )}\r\n                                                                            <div className=\"flex-1\">\r\n                                                                                <p className=\"font-semibold text-gray-900\">\r\n                                                                                    {item.product_name}\r\n                                                                                </p>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                )}\r\n\r\n                                                                {/* Product Name (if no design file) */}\r\n                                                                {!item.design_file_url && (\r\n                                                                    <p className=\"font-semibold text-gray-900 mb-1\">\r\n                                                                        {item.product_name}\r\n                                                                    </p>\r\n                                                                )}\r\n\r\n                                                                {/* Product Options Display */}\r\n                                                                {item.options && (\r\n                                                                    <div className=\"pt-2 border-t border-gray-300 space-y-1 mb-2\">\r\n                                                                        <p className=\"text-xs font-semibold text-gray-700\">\r\n                                                                            Options:\r\n                                                                        </p>\r\n                                                                        <div className=\"space-y-1\">\r\n                                                                            {Array.isArray(item.options)\r\n                                                                                ? item.options.map(\r\n                                                                                    (option: any, idx: number) => {\r\n                                                                                        const optionName =\r\n                                                                                            option.option_id ||\r\n                                                                                            option.name ||\r\n                                                                                            `Option ${idx + 1}`;\r\n                                                                                        const optionValue =\r\n                                                                                            option.option_value ||\r\n                                                                                            option.value ||\r\n                                                                                            \"\";\r\n                                                                                        const optionPrice =\r\n                                                                                            option.price ||\r\n                                                                                            option.modifier_price ||\r\n                                                                                            0;\r\n                                                                                        return (\r\n                                                                                            <div\r\n                                                                                                key={idx}\r\n                                                                                                className=\"flex justify-between items-center text-xs\"\r\n                                                                                            >\r\n                                                                                                <span className=\"text-gray-700\">\r\n                                                                                                    {optionName}{\" \"}\r\n                                                                                                    {optionValue &&\r\n                                                                                                        `(${optionValue})`}\r\n                                                                                                </span>\r\n                                                                                                {optionPrice > 0 && (\r\n                                                                                                    <span className=\"text-blue-600 font-medium\">\r\n                                                                                                        +$\r\n                                                                                                        {formatPrice(\r\n                                                                                                            optionPrice,\r\n                                                                                                        )}\r\n                                                                                                    </span>\r\n                                                                                                )}\r\n                                                                                            </div>\r\n                                                                                        );\r\n                                                                                    },\r\n                                                                                )\r\n                                                                                : Object.entries(item.options).map(\r\n                                                                                    ([key, value]: [\r\n                                                                                        string,\r\n                                                                                        any,\r\n                                                                                    ]) => {\r\n                                                                                        const optionPrice =\r\n                                                                                            typeof value === \"object\"\r\n                                                                                                ? value.price ||\r\n                                                                                                value.modifier_price\r\n                                                                                                : 0;\r\n                                                                                        const displayValue =\r\n                                                                                            typeof value === \"object\"\r\n                                                                                                ? value.value ||\r\n                                                                                                value.name\r\n                                                                                                : value;\r\n                                                                                        const formattedKey =\r\n                                                                                            formatOptionKey(key);\r\n                                                                                        return (\r\n                                                                                            <div\r\n                                                                                                key={key}\r\n                                                                                                className=\"flex justify-between items-center text-xs\"\r\n                                                                                            >\r\n                                                                                                <span className=\"text-gray-700\">\r\n                                                                                                    {formattedKey}{\" \"}\r\n                                                                                                    {displayValue &&\r\n                                                                                                        `(${formatOptionValue(displayValue)})`}\r\n                                                                                                </span>\r\n                                                                                                {optionPrice > 0 && (\r\n                                                                                                    <span className=\"text-blue-600 font-medium\">\r\n                                                                                                        +$\r\n                                                                                                        {formatPrice(\r\n                                                                                                            optionPrice,\r\n                                                                                                        )}\r\n                                                                                                    </span>\r\n                                                                                                )}\r\n                                                                                            </div>\r\n                                                                                        );\r\n                                                                                    },\r\n                                                                                )}\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                )}\r\n\r\n                                                                {/* Item pricing summary */}\r\n                                                                <div className=\"space-y-1 text-xs\">\r\n                                                                    <div className=\"flex justify-between\">\r\n                                                                        <p className=\"text-gray-600\">\r\n                                                                            Per Sticker:\r\n                                                                        </p>\r\n                                                                        <span className=\"text-gray-900 font-medium\">\r\n                                                                            ${formatPrice(pricePerUnit)}\r\n                                                                        </span>\r\n                                                                    </div>\r\n                                                                    <div className=\"flex justify-between\">\r\n                                                                        <p className=\"text-gray-600\">\r\n                                                                            Quantity:\r\n                                                                        </p>\r\n                                                                        <span className=\"text-gray-900 font-medium\">\r\n                                                                            {item.quantity}\r\n                                                                        </span>\r\n                                                                    </div>\r\n                                                                    <div className=\"flex justify-between border-t border-gray-200 pt-1 mt-1\">\r\n                                                                        <p className=\"font-semibold text-gray-700\">\r\n                                                                            Subtotal:\r\n                                                                        </p>\r\n                                                                        <span className=\"font-bold text-gray-900\">\r\n                                                                            ${formatPrice(itemTotal)}\r\n                                                                        </span>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                            ) : (\r\n                                                <p className=\"text-sm text-gray-500 italic\">\r\n                                                    No items details available\r\n                                                </p>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        <div className=\"space-y-2 text-xs sm:text-sm\">\r\n                                            <div className=\"flex justify-between text-gray-600\">\r\n                                                <span>Items Count:</span>\r\n                                                <span>{order.itemCount}</span>\r\n                                            </div>\r\n                                            <div className=\"flex justify-between text-gray-600\">\r\n                                                <span>Subtotal:</span>\r\n                                                <span>{formatCurrency(order.subtotal || order.total)}</span>\r\n                                            </div>\r\n                                            {order.shipping && (\r\n                                                <div className=\"flex justify-between text-gray-600\">\r\n                                                    <span>Shipping:</span>\r\n                                                    <span>{formatCurrency(order.shipping)}</span>\r\n                                                </div>\r\n                                            )}\r\n                                            {order.tax && (\r\n                                                <div className=\"flex justify-between text-gray-600\">\r\n                                                    <span>Tax:</span>\r\n                                                    <span>{formatCurrency(order.tax)}</span>\r\n                                                </div>\r\n                                            )}\r\n                                            <div className=\"flex justify-between font-bold text-base sm:text-lg text-gray-900 border-t pt-2 mt-2\">\r\n                                                <span>Total:</span>\r\n                                                <span>{formatCurrency(order.total)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Load More Button */}\r\n            {hasMore && (\r\n                <div className=\"mt-6 text-center\">\r\n                    <Button\r\n                        onClick={() => fetchOrders(currentPage + 1, false)}\r\n                        disabled={isLoadingMore}\r\n                        variant=\"outline\"\r\n                        className=\"px-8\"\r\n                    >\r\n                        {isLoadingMore ? \"Loading...\" : \"Load More Orders\"}\r\n                    </Button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}