module.exports=[63588,a=>{"use strict";let b=(0,a.i(70106).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],63588)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},21374,a=>{"use strict";let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},10227,a=>{"use strict";let b=(0,a.i(70106).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],10227)},38632,49625,a=>{"use strict";let b=(0,a.i(70106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["default",()=>b],49625),a.s(["Image",()=>b],38632)},83497,a=>{"use strict";let b=(0,a.i(70106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],83497)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},81010,a=>{"use strict";let b=(0,a.i(70106).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);a.s(["Home",()=>b],81010)},60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},73320,a=>{"use strict";let b=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>b],73320)},89614,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65967),e=a.i(14001),f=a.i(73320),g=a.i(34075),h=a.i(210),i=a.i(23292);function j(){let a=(0,d.useNavigate)(),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(0),x=async()=>{try{if(!j)return void i.toast.error("Please enter customer email");if(!l)return void i.toast.error("Please enter proof subject");if(!p)return void i.toast.error("Please upload a design file");u(!0),w(0),i.toast.loading("Uploading file to Cloudinary...");let b=new FormData;b.append("file",p),b.append("upload_preset","sticky_slap_proofs");let c=await fetch("https://api.cloudinary.com/v1_1/dabgothkm/auto/upload",{method:"POST",body:b});if(w(50),!c.ok)throw Error("Failed to upload file to Cloudinary");let d=(await c.json()).secure_url;i.toast.loading("Sending proof to customer...");let e=localStorage.getItem("authToken");if(!e)throw Error("You are not logged in. Please log in and try again.");let f=await fetch("/api/admin/proofs/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({customerEmail:j,description:l,referenceNumber:n||null,fileUrl:d,fileName:p.name})});if(w(100),!f.ok){let a=await f.json();throw Error(a.error||"Failed to send proof")}i.toast.success("Proof sent to customer successfully!"),k(""),m(""),o(""),q(null),s(null),w(0),setTimeout(()=>{a("/admin/proofs")},1500)}catch(b){let a=b instanceof Error?b.message:"Failed to send proof";i.toast.error(a)}finally{u(!1)}};return(0,b.jsx)(e.default,{children:(0,b.jsx)("div",{className:"w-full pb-20 md:pb-0 px-3 sm:px-6 lg:px-8 pt-6 md:pt-8",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("button",{onClick:()=>a("/admin/proofs"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-4",children:[(0,b.jsx)(h.ArrowLeft,{className:"w-4 h-4"}),"Back to Proofs"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Send Design Proof"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Send a design proof directly to a customer's email"})]}),(0,b.jsx)("div",{className:"bg-white border border-gray-300 rounded-2xl p-6 sm:p-8",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Customer Email *"}),(0,b.jsx)("input",{type:"email",value:j,onChange:a=>k(a.target.value),placeholder:"customer@example.com",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 transition"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"The proof will be sent to this email address"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Proof Subject/Title *"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"e.g., T-Shirt Design Mockup - Front and Back",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Reference Number (Optional)"}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),placeholder:"e.g., Order #12345, Project ID, etc.",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 transition"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Any reference info the customer should see (e.g., order number, project name)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wider",children:"Upload Design File *"}),p?(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900",children:"File Selected"}),(0,b.jsx)("button",{onClick:()=>{q(null),s(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]}),r?(0,b.jsxs)("div",{children:[(0,b.jsx)("img",{src:r,alt:"Preview",className:"w-full max-h-48 object-cover rounded-lg border border-gray-300 mb-3"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:p.name})]}):(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:p.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]})}),v>0&&v<100&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${v}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[v,"% uploaded"]})]})]}):(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"file",onChange:a=>{let b=a.target.files?.[0];if(b){if(b.size>0x3200000)return void i.toast.error("File size must be less than 50MB");if(q(b),b.type.startsWith("image/")){let a=new FileReader;a.onload=a=>{s(a.target?.result)},a.readAsDataURL(b)}else s(null)}},accept:"image/*,.pdf",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,b.jsxs)("div",{className:"px-4 py-8 border-2 border-dashed border-gray-300 rounded-xl text-center hover:border-green-500 hover:bg-gray-50 transition-all",children:[(0,b.jsx)(f.Upload,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:"Click to upload design file"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Images or PDF (max 50MB)"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-300",children:[(0,b.jsx)("button",{onClick:()=>a("/admin/proofs"),className:"flex-1 px-4 py-3 bg-white hover:bg-gray-50 text-gray-900 font-medium text-sm rounded-xl transition-colors border border-gray-300",children:"Cancel"}),(0,b.jsx)("button",{onClick:x,disabled:t||!j||!l||!p,className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 text-white font-medium text-sm rounded-xl transition-colors",children:t?"Sending...":"Send Proof"})]})]})}),(0,b.jsx)("div",{className:"mt-8 bg-blue-50 border border-blue-300 rounded-xl p-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,b.jsx)("strong",{children:"ℹ️ How it works:"})," The customer will receive an email with the design proof. They can approve it, request changes, or add notes. All responses are logged and displayed next to their email in the proof records."]})})]})})})}a.s(["default",()=>j])}];

//# sourceMappingURL=_922f3644._.js.map