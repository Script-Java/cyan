module.exports=[30378,a=>{"use strict";var b=a.i(87924),c=a.i(92983),d=a.i(16201),e=a.i(41710),f=a.i(83497);function g(){let a=[{icon:d.CheckCircle,color:"text-green-600",title:"Free Online Proof",description:"Review your design before production"},{icon:e.Clock,color:"text-orange-600",title:"Printed in 24-48 hours",description:"Fast turnaround on all orders"},{icon:f.Package,color:"text-blue-600",title:"Free Shipping, always.",description:"No hidden fees or charges"}];return(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-3",children:(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:a.map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,b.jsx)(d,{className:`w-5 h-5 ${a.color}`})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-gray-900",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:a.description})]})]},c)})})})}var h=a.i(72131),i=a.i(23292),j=a.i(40695),k=a.i(5522),l=a.i(46893),m=a.i(17171),n=a.i(21374),o=a.i(73320),p=a.i(34075),q=a.i(96221),r=a.i(38632);function s({productId:a}){let[c,d]=(0,h.useState)([]),[e,f]=(0,h.useState)(0),[g,s]=(0,h.useState)(!1),[t,u]=(0,h.useState)(!1),[v,w]=(0,h.useState)(!1),[x,y]=(0,h.useState)({reviewer_name:"",reviewer_email:"",rating:5,title:"",comment:""}),[z,A]=(0,h.useState)([]),[B,C]=(0,h.useState)([]);(0,h.useEffect)(()=>{D()},[a]);let D=async()=>{s(!0);try{let b=await fetch(`/api/reviews/${a}`);if(b.ok){let a=await b.json();d(a.reviews||[]),f(parseFloat(a.averageRating)||0)}}catch(a){console.error("Error fetching reviews:",a)}finally{s(!1)}},E=async b=>{if(b.preventDefault(),!x.reviewer_name.trim()||!x.reviewer_email.trim())return void i.toast.error("Please fill in all required fields");if(!x.comment.trim()&&!x.title.trim())return void i.toast.error("Please write a review or title");u(!0);try{let b=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:a,reviewer_name:x.reviewer_name.trim(),reviewer_email:x.reviewer_email.trim(),rating:x.rating,title:x.title.trim(),comment:x.comment.trim(),images:z})});if(b.ok)i.toast.success("Review submitted! It will appear after moderation."),y({reviewer_name:"",reviewer_email:"",rating:5,title:"",comment:""}),A([]),C([]),w(!1),await D();else{let a=await b.json();i.toast.error(a.error||"Failed to submit review")}}catch(a){console.error("Error submitting review:",a),i.toast.error("Failed to submit review")}finally{u(!1)}};return(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-300 rounded-lg p-4 mt-4 shadow-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1 uppercase",children:"â­ Customer Reviews"}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:c.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(a=>(0,b.jsx)(n.Star,{className:`w-4 h-4 ${a<=Math.round(e)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},a))}),(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:e.toFixed(1)})]}),(0,b.jsxs)("span",{className:"text-xs text-gray-600",children:["(",c.length," ",1===c.length?"review":"reviews",")"]})]})})]}),!v&&(0,b.jsx)(j.Button,{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold shadow-md",children:"âœï¸ Write a Review"})]}),v&&(0,b.jsx)("form",{onSubmit:E,className:"mb-6 p-4 bg-white rounded-lg border-2 border-purple-200 shadow-md",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs font-semibold mb-1 block",children:"Your Name *"}),(0,b.jsx)(k.Input,{type:"text",value:x.reviewer_name,onChange:a=>y({...x,reviewer_name:a.target.value}),placeholder:"John Doe",className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs font-semibold mb-1 block",children:"Your Email *"}),(0,b.jsx)(k.Input,{type:"email",value:x.reviewer_email,onChange:a=>y({...x,reviewer_email:a.target.value}),placeholder:"john@example.com",className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs font-semibold mb-2 block",children:"Rating *"}),(0,b.jsx)(({rating:a,readonly:c=!1,onChange:d})=>(0,b.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,b.jsx)("button",{onClick:()=>!c&&d?.(e),className:`transition-all ${c?"cursor-default":"cursor-pointer"}`,disabled:c,children:(0,b.jsx)(n.Star,{className:`w-5 h-5 ${e<=a?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},e))}),{rating:x.rating,onChange:a=>y({...x,rating:a})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs font-semibold mb-1 block",children:"Review Title"}),(0,b.jsx)(k.Input,{type:"text",value:x.title,onChange:a=>y({...x,title:a.target.value}),placeholder:"e.g., Excellent quality stickers!",className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs font-semibold mb-1 block",children:"Your Review *"}),(0,b.jsx)(l.Textarea,{value:x.comment,onChange:a=>y({...x,comment:a.target.value}),placeholder:"Share your experience with this product...",className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 min-h-24 text-xs",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs font-semibold mb-2 block",children:"Upload Photos (optional - max 3)"}),B.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:B.map((a,c)=>(0,b.jsxs)("div",{className:"relative bg-gray-100 rounded overflow-hidden",children:[(0,b.jsx)("img",{src:a,alt:`Review image ${c+1}`,className:"w-full h-20 object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>{A(a=>a.filter((a,b)=>b!==c)),C(a=>a.filter((a,b)=>b!==c))},className:"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-white p-1 rounded",children:(0,b.jsx)(p.X,{className:"w-3 h-3"})})]},c))}),z.length<3&&(0,b.jsxs)("label",{className:"flex flex-col items-center justify-center gap-2 border-2 border-dashed border-purple-400 rounded p-3 cursor-pointer hover:border-purple-500 transition bg-purple-50",children:[(0,b.jsx)(r.Image,{className:"w-5 h-5 text-purple-600"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-black font-medium text-xs",children:"Click to upload photos"}),(0,b.jsx)("p",{className:"text-gray-600 text-xs mt-0.5",children:"JPG, PNG (max 15MB)"})]}),(0,b.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:a=>{let b=a.target.files;if(b){if(z.length>=3)return void i.toast.error("Maximum 3 images per review");Array.from(b).forEach(a=>{if(!a.type.startsWith("image/"))return void i.toast.error("Only image files are allowed");if(a.size>0xf00000)return void i.toast.error("Image size must be less than 15MB");let b=new FileReader;b.onload=a=>{let b=a.target?.result;A(a=>[...a,b]),C(a=>[...a,b])},b.readAsDataURL(a)})}},className:"hidden"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsx)(j.Button,{type:"submit",disabled:t,className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white text-xs font-semibold gap-2 shadow-md",children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Loader2,{className:"w-3 h-3 animate-spin"}),"Submitting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Upload,{className:"w-3 h-3"}),"Submit Review"]})}),(0,b.jsx)(j.Button,{type:"button",onClick:()=>{w(!1),y({reviewer_name:"",reviewer_email:"",rating:5,title:"",comment:""}),A([]),C([])},className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 text-xs font-semibold",children:"Cancel"})]})]})}),g?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(q.Loader2,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-2",children:"Loading reviews..."})]}):0===c.length?(0,b.jsxs)("div",{className:"text-center py-8 bg-white rounded-lg border-2 border-purple-200 shadow-md",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-3 font-medium",children:"No reviews yet. Be the first to share your experience!"}),!v&&(0,b.jsx)(j.Button,{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 text-white text-xs font-semibold",children:"âœï¸ Write First Review"})]}):(0,b.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-lg border-2 border-purple-200 p-4 hover:shadow-md transition hover:border-purple-300",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:a.reviewer_name}),a.title&&(0,b.jsx)("p",{className:"text-gray-700 font-medium text-xs mt-1",children:a.title})]}),(0,b.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(c=>(0,b.jsx)(n.Star,{className:`w-4 h-4 ${c<=a.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},c))})]}),a.comment&&(0,b.jsx)("p",{className:"text-gray-600 text-xs mb-3 leading-relaxed",children:a.comment}),a.image_urls&&a.image_urls.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:a.image_urls.map((a,c)=>(0,b.jsx)("img",{src:a,alt:`Review image ${c+1}`,className:"w-full h-20 object-cover rounded border border-gray-200 cursor-pointer hover:opacity-80 transition"},c))}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-200",children:[(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()}),a.helpful_count&&a.helpful_count>0&&(0,b.jsxs)("span",{children:[a.helpful_count," found this helpful"]})]})]},a.id))})]})}var t=a.i(65967),u=a.i(57999),v=a.i(13749),w=a.i(92e3),x=a.i(33441),y=a.i(65733);let z={"test-square-product":{id:"999",name:"Test Square Product",description:"Perfect for testing Square checkout integration. $1.00 product.",price:1,image_url:"/placeholder.svg",type:"sticker",status:"ACTIVE",options:[],images:[{url:"/placeholder.svg",name:"Test Product"}],availability:!0,customer_upload_config:{enabled:!0,maxFileSize:5,allowedFormats:["pdf","ai","png","jpg"],description:"Upload your design"},optional_fields:[],show_quantity_panel:!0,fixed_quantity:null}};function A(){let{productId:a}=(0,t.useParams)(),d=(0,t.useNavigate)(),[e,f]=(0,h.useState)(null),[n,q]=(0,h.useState)(!0),[r,A]=(0,h.useState)(null),[B,C]=(0,h.useState)({}),[D,E]=(0,h.useState)(null),[F,G]=(0,h.useState)(null),[H,I]=(0,h.useState)({}),[J,K]=(0,h.useState)(""),[L,M]=(0,h.useState)(100),[N,O]=(0,h.useState)(!1),[P,Q]=(0,h.useState)(100),[R,S]=(0,h.useState)(!1);(0,h.useEffect)(()=>{(async()=>{q(!0),A(null);try{if(a&&a in z){let b=z[a];if(f(b),b.optional_fields){let a={};b.optional_fields.forEach(b=>{a[b.name]=""}),I(a)}q(!1);return}if(a?.startsWith("admin_")){let b=a.split("_")[1],c=await fetch(`/api/public/products/admin/${b}`);if(!c.ok)throw Error("Failed to fetch admin product");let d=await c.json(),e={id:b,name:d.name,description:d.description,base_price:d.base_price||d.price,price:d.base_price||d.price,images:d.images||[{url:d.image_url||"/placeholder.svg"}],type:"sticker",status:d.availability?"ACTIVE":"INACTIVE",options:d.options||[],availability:d.availability??!0,customer_upload_config:d.customer_upload_config||{enabled:!0,maxFileSize:5,allowedFormats:["pdf","ai","png","jpg"],description:"Upload your design"},optional_fields:d.optional_fields||[],show_quantity_panel:!0===d.show_quantity_panel,fixed_quantity:d.fixed_quantity||null};if(f(e),!1===e.show_quantity_panel&&e.fixed_quantity&&(M(e.fixed_quantity),Q(e.fixed_quantity)),e.optional_fields){let a={};e.optional_fields.forEach(b=>{a[b.name]=""}),I(a)}if(e.options){let a={};e.options.forEach(b=>{b.defaultValueId?a[b.id]=b.defaultValueId:b.values&&b.values.length>0&&(a[b.id]=b.values[0].id)}),C(a)}q(!1);return}if(a?.startsWith("imported_")){let b=a.split("_")[1],c=await fetch(`/api/public/products/imported/${b}`);if(!c.ok)throw Error("Failed to fetch imported product");let d=await c.json(),e={id:b,name:d.name,description:d.description,price:d.min_price||d.price,base_price:d.min_price||d.price,image_url:d.image_url,images:d.image_url?[{url:d.image_url}]:[],type:"sticker",status:"ACTIVE",options:d.options||[],availability:!0,customer_upload_config:{enabled:!0,maxFileSize:5,allowedFormats:["pdf","ai","png","jpg"],description:"Upload your design"},optional_fields:[],show_quantity_panel:!0===d.show_quantity_panel,fixed_quantity:d.fixed_quantity||null};if(f(e),!1===e.show_quantity_panel&&e.fixed_quantity&&(M(e.fixed_quantity),Q(e.fixed_quantity)),e.options){let a={};e.options.forEach(b=>{b.defaultValueId?a[b.id]=b.defaultValueId:b.values&&b.values.length>0&&(a[b.id]=b.values[0].id)}),C(a)}q(!1);return}A("Product not found"),q(!1)}catch(c){let b=c instanceof Error?c.message:"Failed to load product";console.error("Product fetch error:",{productId:a,error:b,details:c}),A(b)}finally{q(!1)}})()},[a]);let T=()=>{if(!e)return"0.00";let a=e.base_price||0;return Object.entries(B).forEach(([b,c])=>{let d=e.options?.find(a=>a.id===b);if(d){let b=d.values.find(a=>a.id===c);b&&b.priceModifier&&0!==b.priceModifier&&(a+=b.priceModifier)}}),a.toFixed(2)},U=async()=>{if(e?.customer_upload_config?.enabled&&!D)return void i.toast.error("Please upload your design to continue");O(!0);try{let b,c=parseFloat(T()),d=[{qty:50,discountPercent:0},{qty:100,discountPercent:0},{qty:200,discountPercent:0},{qty:300,discountPercent:0},{qty:500,discountPercent:0},{qty:1e3,discountPercent:0},{qty:2500,discountPercent:0}].find(a=>a.qty===L),e=d?.discountPercent||0,f=c*(1-e/100),g=f*L;if(D)try{let a=new FileReader,c=await new Promise(b=>{a.onload=a=>{let c=(a.target?.result).split(",")[1];b(c)},a.readAsDataURL(D)}),d=localStorage.getItem("authToken"),e=await fetch("/api/designs/upload",{method:"POST",headers:{"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`}},body:JSON.stringify({fileData:c,fileName:D.name,fileType:D.type})});if(!e.ok)throw Error("Failed to upload design file");b=(await e.json()).fileUrl}catch(a){console.error("Error uploading design file:",a),i.toast.error("Design file upload failed. Try again or continue without uploading.")}let h={productId:a,selectedOptions:B,design_file_url:b,optionalFields:H,orderNotes:J,quantity:L,pricePerUnit:f,totalPrice:g,basePrice:c,savePercentage:e},j=JSON.parse(localStorage.getItem("cart")||"[]");j.push(h),localStorage.setItem("cart",JSON.stringify(j));let k=j.reduce((a,b)=>a+b.quantity,0);window.dispatchEvent(new StorageEvent("storage",{key:"cart",newValue:JSON.stringify(j),storageArea:localStorage})),i.toast.success(1===k?"1 item added to cart":`${k} items added to cart`,{description:`You now have ${k} item${1!==k?"s":""} in your cart`}),S(!0)}catch(a){console.error("Error adding to cart:",a),i.toast.error("Failed to add product to cart")}finally{O(!1)}};if(n)return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"min-h-screen bg-[#fafafa] text-black flex items-center justify-center pt-20",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Loading product..."})})})});if(r||!e)return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"pt-20 min-h-screen bg-[#fafafa]",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(w.AlertCircle,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:r||"We couldn't find the product you're looking for."}),(0,b.jsxs)(u.Link,{to:"/products",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-all",children:[(0,b.jsx)(v.ChevronLeft,{className:"w-5 h-5"}),"Back to Products"]})]})})})});let V=e.images&&e.images.length>0?e.images.map(a=>a.url):[e.image_url||"/placeholder.svg"];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("main",{className:"min-h-screen bg-white text-black",children:(0,b.jsxs)("div",{style:{maxWidth:"1100px",margin:"58px auto 3px",padding:"8px 12px 80px"},className:"px-3 sm:px-4 lg:px-6",children:[(0,b.jsx)("button",{onClick:()=>d("/products"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition mb-2",children:(0,b.jsx)(v.ChevronLeft,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"mb-3 bg-white rounded-lg border border-gray-200 p-3",style:{backdropFilter:"blur(4px)",backgroundColor:"rgb(255, 255, 255)",borderColor:"rgba(220, 220, 220, 0.8)"},children:(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)(c.default,{images:V,productName:e.name,productDescription:e.description})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-3",children:[e.options&&e.options.map(a=>(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg",style:{marginRight:"0px",padding:"10px 8px 10px 8px"},children:[(0,b.jsxs)("h2",{className:"text-xs font-bold mb-1.5 flex items-center gap-1",children:["Shape"===a.name&&(0,b.jsx)("img",{src:"https://res.cloudinary.com/dxcnvqk6b/image/upload/v1763135086/StickerShuttle_DieCutIcon_r0vire.png",alt:a.name,className:"w-5 h-5"}),"Material"===a.name&&(0,b.jsx)("img",{src:"https://res.cloudinary.com/dxcnvqk6b/image/upload/v1763228661/StickerShuttle_KissCutIcon_pynbqq.png",alt:a.name,className:"w-5 h-5"}),"Size"===a.name&&(0,b.jsx)("img",{src:"https://res.cloudinary.com/dxcnvqk6b/image/upload/v1763135086/StickerShuttle_CircleIcon_igib6i.png",alt:a.name,className:"w-5 h-5"}),(0,b.jsxs)("span",{className:"truncate",children:["Select a ",a.name]})]}),"dropdown"===a.type&&(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2",children:a.values.map((c,d)=>(0,b.jsxs)("button",{onClick:()=>{C({...B,[a.id]:c.id})},className:`relative flex flex-row items-center justify-start gap-3 border-2 rounded p-2 transition text-left ${B[a.id]===c.id?"border-purple-500 bg-purple-100 shadow-lg shadow-purple-200/50":"border-gray-200 hover:border-gray-300 bg-gray-50"}`,children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:"Material"===a.name&&c.name?.toLowerCase()==="satin"?(0,b.jsx)("img",{src:"https://cdn.builder.io/api/v1/image/assets%2F1e00ee8c48924560b1c928d354e4521b%2F1b04ce3e2b7342ff891113ccedd6beda?format=webp&width=800",alt:"Satin",className:"w-10 h-10 object-contain"}):c.image&&(0,b.jsx)("img",{src:c.image.preview||c.image.url,alt:c.name,className:"w-10 h-10 object-contain"})}),(0,b.jsxs)("div",{className:"flex-grow flex flex-col items-start justify-center",children:[(0,b.jsx)("p",{className:"font-medium text-sm text-black",children:c.name}),void 0!==c.priceModifier&&c.priceModifier>0&&(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-0.5",children:["+$",c.priceModifier.toFixed(2)]})]}),0===d&&(0,b.jsx)("span",{className:"absolute top-1 right-1 text-xxs font-bold text-white bg-purple-600 px-1.5 py-0.5 rounded",style:{fontSize:"10px"},children:"Popular"})]},c.id))}),"radio"===a.type&&(0,b.jsx)("div",{className:"grid grid-cols-2 gap-1",children:a.values.map(c=>(0,b.jsxs)("button",{onClick:()=>{C({...B,[a.id]:c.id})},className:`border-2 rounded-lg p-1 transition text-center text-xs ${B[a.id]===c.id?"border-purple-500 bg-purple-100":"border-gray-200 hover:border-gray-300 bg-gray-50"}`,children:[c.image&&(0,b.jsx)("img",{src:c.image.preview||c.image.url,alt:c.name,className:"w-8 h-8 object-cover mx-auto mb-0.5 rounded"}),(0,b.jsx)("p",{className:"font-medium text-xs text-black",children:c.name}),void 0!==c.priceModifier&&c.priceModifier>0&&(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-0.5",children:["+$",c.priceModifier.toFixed(2)]})]},c.id))}),"swatch"===a.type&&(0,b.jsx)("div",{className:"grid grid-cols-2 gap-1.5",children:a.values.map(c=>(0,b.jsxs)("button",{onClick:()=>{C({...B,[a.id]:c.id})},className:`relative border-2 rounded overflow-hidden transition flex flex-col items-center justify-center p-1 ${B[a.id]===c.id?"border-purple-500":"border-gray-200 hover:border-gray-300"}`,children:[c.image?(0,b.jsx)("img",{src:c.image.preview||c.image.url,alt:c.name,className:"w-10 h-10 object-contain"}):(0,b.jsx)("div",{className:"w-full h-10 bg-gray-100 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-gray-600 text-xs text-center px-1 truncate",children:c.name})}),(0,b.jsx)("span",{className:"text-gray-700 text-xs mt-0.5 font-medium text-center truncate",children:c.name}),(c.priceModifier??0)>0&&(0,b.jsxs)("span",{className:"text-purple-600 text-xs font-bold mt-0.5",children:["+$",c.priceModifier?.toFixed(2)]})]},c.id))}),"text"===a.type&&(0,b.jsx)(k.Input,{type:"text",value:B[a.id]||"",onChange:b=>C(c=>({...c,[a.id]:b.target.value})),placeholder:`Enter ${a.name}`,className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs"})]},a.id)),(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,b.jsx)("label",{className:"text-xs font-bold block mb-2",children:e.fixed_quantity?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 inline mr-1",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm6-10V7a3 3 0 00-3-3h0a3 3 0 00-3 3v2h6z"})}),"Fixed Quantity"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 inline mr-1",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),"Quantity"]})}),(0,b.jsx)(k.Input,{type:"number",min:"1",value:L,onChange:a=>{e.fixed_quantity||M(Math.max(1,parseInt(a.target.value)||1))},disabled:!!e.fixed_quantity,readOnly:!!e.fixed_quantity,className:`text-sm ${e.fixed_quantity?"bg-gray-100 border-gray-300 text-gray-700 cursor-not-allowed opacity-70":"bg-white border-gray-200 text-black placeholder-gray-500"}`}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:e.fixed_quantity?"âœ“ Fixed quantity - cannot be changed":"Enter desired quantity"})]})]}),(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-300 rounded-lg p-4 mb-4 shadow-lg",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center border border-purple-200",children:[(0,b.jsx)("p",{className:"text-gray-600 text-xs font-semibold uppercase mb-1",children:"Selected Quantity"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:L.toLocaleString()}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"stickers"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center border border-blue-200",children:[(0,b.jsx)("p",{className:"text-gray-600 text-xs font-semibold uppercase mb-1",children:"Price Per sticker"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["$",parseFloat(T()).toFixed(2)]}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"each"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center border-2 border-green-400",children:[(0,b.jsx)("p",{className:"text-gray-600 text-xs font-semibold uppercase mb-1",children:"Total Price"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",(parseFloat(T())*L).toFixed(2)]}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"for your order"})]})]}),(0,b.jsx)(g,{})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-3",children:[e.optional_fields&&e.optional_fields.length>0&&(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,b.jsx)("h2",{className:"text-xs font-bold mb-1.5",children:"âœï¸ Additional Instructions (optional)"}),(0,b.jsx)("div",{className:"space-y-1.5",children:e.optional_fields.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{className:"text-gray-700 text-xs mb-1 block",children:a.name}),"textarea"===a.type?(0,b.jsx)(l.Textarea,{value:H[a.name]||"",onChange:b=>I(c=>({...c,[a.name]:b.target.value})),placeholder:"Enter any special requests or instructions here...",className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 min-h-12 text-xs"}):"date"===a.type?(0,b.jsx)(k.Input,{type:"date",value:H[a.name]||"",onChange:b=>I(c=>({...c,[a.name]:b.target.value})),className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs"}):"number"===a.type?(0,b.jsx)(k.Input,{type:"number",value:H[a.name]||"",onChange:b=>I(c=>({...c,[a.name]:b.target.value})),placeholder:`Enter ${a.name}`,className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs"}):(0,b.jsx)(k.Input,{type:"text",value:H[a.name]||"",onChange:b=>I(c=>({...c,[a.name]:b.target.value})),placeholder:`Enter ${a.name}`,className:"bg-gray-50 border-gray-200 text-black placeholder-gray-500 text-xs"})]},a.name))})]}),e.customer_upload_config?.enabled&&(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,b.jsx)("h2",{className:"text-xs font-bold mb-1",children:"Upload your artwork"}),(0,b.jsx)("p",{className:"text-gray-600 text-xs mb-1.5",children:e.customer_upload_config.description}),F?(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"relative bg-gray-50 border border-gray-200 rounded overflow-hidden",children:[(0,b.jsx)("img",{src:F,alt:"Design preview",className:"w-full h-20 object-contain p-1.5"}),(0,b.jsx)("button",{onClick:()=>{E(null),G(null)},className:"absolute top-2 right-2 bg-red-600/80 hover:bg-red-700 text-white p-1 rounded",children:(0,b.jsx)(p.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("p",{className:"text-gray-600 text-xs",children:[D?.name," (",((D?.size||0)/1024/1024).toFixed(2)," MB)"]})]}):(0,b.jsxs)("label",{className:"flex flex-col items-center justify-center gap-1.5 border-2 border-dashed border-green-600 rounded p-2 cursor-pointer hover:border-green-700 transition bg-green-50",children:[(0,b.jsx)("img",{src:"https://cdn.builder.io/api/v1/image/assets%2F1e00ee8c48924560b1c928d354e4521b%2Fcee606b598864f7a983db9ee1358acf5?format=webp&width=800",alt:"Upload",className:"w-8 h-8"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-black font-medium text-xs",children:"Drag or click to upload"}),(0,b.jsxs)("p",{className:"text-gray-600 text-xs mt-0.5",children:["All formats supported. Max file size:"," ",e.customer_upload_config.maxFileSize,"MB | 1 file per order"]})]}),(0,b.jsx)("input",{type:"file",accept:e.customer_upload_config.allowedFormats.map(a=>`.${a}`).join(","),onChange:a=>{let b=a.target.files?.[0];if(!b)return;let c=e?.customer_upload_config?.allowedFormats||["pdf","ai","png","jpg"];if(!c.includes(b.name.split(".").pop()?.toLowerCase()||""))return void i.toast.error(`Invalid File Format. Allowed: ${c.join(", ")}`);let d=1024*(e?.customer_upload_config?.maxFileSize||5)*1024;if(b.size>d)return void i.toast.error(`File Too Large. Max: ${e?.customer_upload_config?.maxFileSize}MB`);E(b);let f=new FileReader;f.onload=a=>{G(a.target?.result)},f.readAsDataURL(b)},className:"hidden"})]})]}),(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,b.jsx)("h2",{className:"text-xs font-bold mb-1.5",children:"ðŸ“ Order Notes (optional)"}),(0,b.jsx)(l.Textarea,{value:J,onChange:a=>K(a.target.value),placeholder:"Add any special requests or notes...",className:"bg-white border-gray-300 text-black placeholder-gray-500 min-h-10 text-xs"}),(0,b.jsx)("p",{className:"text-gray-600 text-xs mt-1",children:"Let us know about any special requirements or customizations"})]})]}),(0,b.jsxs)("div",{className:"backdrop-blur-xl bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,b.jsxs)(j.Button,{onClick:U,disabled:N||!e.availability||e.customer_upload_config?.enabled&&!D,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-1.5 text-xs font-semibold gap-2 rounded",children:[(0,b.jsx)(o.Upload,{className:"w-3 h-3"}),N?"Adding to Cart...":e.customer_upload_config?.enabled&&!D?"Upload Artwork":e.availability?"Add to Cart":"Out of Stock"]}),(0,b.jsx)("p",{className:"text-center text-gray-600 text-xs mt-1.5",children:"Items will be added to your cart"})]}),(0,b.jsx)(s,{productId:a})]})}),(0,b.jsx)(y.Dialog,{open:R,onOpenChange:S,children:(0,b.jsxs)(y.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(y.DialogHeader,{children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-green-100 rounded-full mb-4",children:(0,b.jsx)(x.Check,{className:"w-6 h-6 text-green-600"})}),(0,b.jsx)(y.DialogTitle,{className:"text-center text-xl",children:"Item Added to Cart!"}),(0,b.jsx)(y.DialogDescription,{className:"text-center",children:"Your artwork has been successfully added. What would you like to do next?"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 mt-6",children:[(0,b.jsx)(j.Button,{onClick:()=>{S(!1),E(null),G(null),K("")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Add to Cart & Keep Shopping"}),(0,b.jsx)(j.Button,{onClick:()=>{S(!1),d("/checkout-new")},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Go to Checkout"})]})]})})]})}a.s(["default",()=>A],30378)}];

//# sourceMappingURL=client_pages_Product_tsx_a44f29f5._.js.map